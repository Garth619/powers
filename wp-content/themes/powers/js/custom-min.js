!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};t.m=e,t.c=i,t.p="/assets/modern/",t(0)}([function(e,t,i){e.exports=i(533)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var o=i(6),s=i(3),a=n(s),l=(0,o.cachedDetect)(),u=0,c=1,d=2,h=3,p=4,f={ERROR:0,WARNING:1,NOTICE:2,INFO:3,DEBUG:4,error:0,warning:1,notice:2,info:3,debug:4},m=function(){},g={},y=function(e){var t=this;return null==e&&(e={}),t.error=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.log(0,i)},t.warn=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.log(1,i)},t.notice=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.log(1,i)},t.info=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.log(3,i)},t.debug=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return t.log(4,i)},function(){t.ctx=e,t.ctx.initializedAt||t.reset()}(),t},_=y.prototype;_.reset=function(){this.ctx.level=0,this.ctx.grep=null,this.ctx.grepv=null,this.ctx.first1000LogLines=[],this.ctx.last1000LogLines=[],this.ctx.initializedAt=(new Date).getTime()},_.setLevel=function(e){var t=this.logFunc(3);null!=f[e]?(this.ctx.level=f[e],t('Log level set to "'+e+'" ('+f[e]+")")):t('Unknown log level "#{level}"')},_.setGrep=function(e){this.ctx.grep=e},_.setGrepv=function(e){this.ctx.grepv=e},_.first1000LogLines=function(){return this.ctx.first1000LogLines},_.last1000LogLines=function(){return this.ctx.last1000LogLines},_.matchedGrep=function(e){var t=!1;if(this.ctx.grep||this.ctx.grepv){for(var i=[],n=0;n<e.length;n++)try{var r=e[n];i.push(r.toString&&r.toString())}catch(e){i.push("")}var o=i.join(" "),s=!this.ctx.grep||o.match(this.ctx.grep),a=!this.ctx.grepv||!o.match(this.ctx.grepv);t=s&&a}else t=!0;return t},_.now=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now().toFixed(3):Date.now?Date.now()-this.ctx.initializedAt:(new Date).getTime()-this.ctx.initializedAt},_.messagesToLogLine=function(e,t,i){var n=[e,t];n=n.concat(i);var r=void 0;try{r=n.join(" ")||"",r.length>200&&(r=r.slice(0,200))}catch(e){r="could not serialize"}return r},_.persistLine=function(e){this.ctx.first1000LogLines.length<1e3?this.ctx.first1000LogLines.push(e):(this.ctx.last1000LogLines.length>=1e3&&this.ctx.last1000LogLines.shift(),this.ctx.last1000LogLines.push(e))},_.log=function(e,t){var i=e<=this.ctx.level,n=e<4,o=(i||n)&&this.matchedGrep(t),s=void 0;if(o&&(i||n)&&(s=this.now()),n&&o){var a=this.messagesToLogLine(e,s,t);this.persistLine(a)}if(i&&o){var u=this.logFunc(e),c=void 0;1===t.length&&(c=t[0])instanceof Error?(u(c.message),c.stack&&u(c.stack)):l.browser.msie&&(l.browser.version<9||l.browser.quirks)?u(t.join(" ")):u.apply(void 0,r(t))}};var v=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];console.error.apply(console,t)},b=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];console.warn.apply(console,t)},A=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];console.info.apply(console,t)},w=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];console.debug.apply(console,t)},E=function(e){console.log.apply(console,e)};_.logFunc=function(e){if(null==e&&(e=this.level),!console)return m;var t=void 0;return 0===e?t=v:1===e?t=b:3===e?t=A:4===e&&(t=w),t||(t=E),"function"!=typeof t&&(this.noConsoleLog=!0,t=m),t},_.maybePrefix=function(e,t){if(e){if("function"==typeof e)try{e=e()}catch(t){e='prefix err "'+t.message+'"'}return e instanceof Array?e.concat(t):[e].concat(t)}return t},_.getPrefixedFunctions=function(e){var t=this;return{log:function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.log(0,t.maybePrefix(e,n))},error:function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.log(0,t.maybePrefix(e,n))},warn:function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.log(1,t.maybePrefix(e,n))},notice:function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.log(1,t.maybePrefix(e,n))},info:function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.log(3,t.maybePrefix(e,n))},debug:function(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.log(4,t.maybePrefix(e,n))}}},a.default&&null==a.default.wlogCtx&&(a.default.wlogCtx={});var k=new y(a.default.wlogCtx);e.exports={ERROR:0,WARNING:1,NOTICE:2,INFO:3,DEBUG:4,LOG_LEVELS:f,Logger:y,wlog:k}},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Array.prototype.slice,s=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];if(0===i.length)return e;for(var r=0;r<i.length;r++)a(e,i[r]);return e},a=function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u;if(S(i)){S(t)||(t=[]);for(var o=0;o<i.length;o++){var s=i[o],a=e(t[o],s);r(i,o,a)?delete t[o]:t[o]=a}return n(t)}if(P(i)){for(var c in i){var d=i[c];S(d)?(S(t[c])||(t[c]=[]),e(t[c],d)):P(d)?(P(t[c])||(t[c]={}),e(t[c],d)):null==t?(t={},r(i,c,d)||(t[c]=d)):r(i,c,d)?delete t[c]:t[c]=d}return n(t)}return n(i)},l=function(e){return e},u=function(e,t,i){return null==i},c=function(e){return S(e)?s([],e):s({},e)},d=function(e,t,i){t="string"==typeof t?t.split("."):r.call(t);for(var n=e,o=void 0;null!=e&&t.length;){var s=t.shift();void 0!==e[s]&&(P(e[s])||S(e[s]))||!i||(0===s?(e=n[o]=[],e[s]={}):e[s]={}),n=e,o=s,e=e[s]}return e},h=function(e,t,i){t="string"==typeof t?t.split("."):r.call(t);var n=t.pop();null!=(e=d(e,t,!0))&&(P(e)||S(e))&&null!=n&&(null!=i?e[n]=i:delete e[n])},p=function(e,t){return h(e,t)},f=function(e,t){return void 0!==d(e,t)},m=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];for(var r=0;r<i.length;r++)g(e,i[r]);return e},g=function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},y=function(e){if(null==e)return e;if(P(e)||S(e))return _(e);var t=""+e;return/^\-?[1-9]\d*?$/.test(t)?parseInt(t,10):"0"===t?0:/^\-?\d*\.\d+/.test(t)?parseFloat(t):!!/^true$/i.test(t)||!/^false$/i.test(t)&&e},_=function(e){return N(e,function(e,t,i,n){"string"==typeof e&&(i[n]=y(e))}),e},v=function(e,t){for(var i={},n={},r=0;r<t.length;r++)n[t[r]]=!0;for(var o in e)n[o]&&(i[o]=e[o]);return i},b=function(e,t){for(var i={},n={},r=0;r<t.length;r++)n[t[r]]=!0;for(var o in e)n[o]||(i[o]=e[o]);return i},A=function(e,t){for(var i=[],n="function"==typeof t,r=n?t:null,o=0;o<e.length;o++){var s=e[o];if(n)r(s)&&i.push(s);else{var a=!0;for(var l in t){var u=t[l];if(u instanceof Array){if(!s[l]||s[l]<u[0]||s[l]>u[1]){a=!1;break}}else if(u instanceof RegExp){if(!u.test(s[l])){a=!1;break}}else if(u instanceof w){for(var c=!1,d=0;d<u.values.length;d++){var h=u.values[d];if(s[l]===h){c=!0;break}}if(!c){a=!1;break}}else if("function"==typeof u){if(null==s[l]||!u(s[l])){a=!1;break}}else if(s[l]!==u){a=!1;break}}a&&i.push(s)}}return i},w=function(e){var t=this;return function(){t.values=e}(),t},E=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return new w(t)},k=function(e,t){var i="function"==typeof t,n=i?t:null,o=r.call(e);return i?o.sort(n):o.sort(function(e,i){var n=void 0;n=t instanceof Array?c(t):t.split(/\s*,\s*/);for(var r=0;0===r&&n.length>0;){var o=n.shift().split(/\s+/),s=o[0],a=o[1];if(a="desc"===a?-1:1,e[s]<i[s]){r=-1*a;break}if(e[s]!==i[s]){r=1*a;break}r=0}return r}),o},C=i(46),x=i(184),T=/^\s*function Array()/,S=function(e){return null!=e&&e.push&&T.test(e.constructor)},O=/^\s*function Object()/,P=function(e){return null!=e&&"object"===(void 0===e?"undefined":n(e))&&O.test(e.constructor)},M=function(e){return null!=e&&"function"==typeof e},I=/^\s*function RegExp()/,B=function(e){return null!=e&&I.test(e.constructor)},D=/^string|number|boolean|function$/i,F=function(e){return null!=e&&(D.test(void 0===e?"undefined":n(e))||B(e))},R=function(e){if(null==e)return!0;if(S(e)&&!e.length)return!0;if(P(e)){var t=!0;for(var i in e){t=!1;break}return t}return!1},L=function(e,t){if(e===t)return!0;if(null!=e&&null==t||null==e&&null!=t)return!1;var i=!0;return N(e,function(e,n){e!==d(t,n)&&(i=!1)}),i},j=function(e,t){return L(e,t)&&L(t,e)},H=function e(t,i,n,o,s){if(null==n&&(n=[]),F(t))i(t,n,o,s);else if(P(t)||S(t)){i(t,n,o,s);for(var a in t){var l=r.call(n);l.push(a),e(t[a],i,l,t,a)}}else i(t,n,o,s)},N=function(e,t){H(e,function(e,i,n,r){S(e)||P(e)||t(e,i,n,r)})},V=!{toString:null}.propertyIsEnumerable("toString"),U=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],W=function(e){if(Object.keys)return Object.keys(e);if("object"!==("undefined"==typeof o?"undefined":n(o))&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on a non-object");var t=[];if(V)for(var i=0;i<U.length;i++){var r=U[i];o.hasOwnProperty(r)&&t.push(r)}else for(var s in o)t.push(s);return t};e.exports={merge:s,mergeOne:a,identityFunc:l,legacyShouldDeleteFromMerge:u,clone:c,get:d,set:h,unset:p,exists:f,assign:m,cast:y,castDeep:_,only:v,except:b,select:A,filter:C,uniq:x,values:E,sort:k,isArray:S,isObject:P,isFunction:M,isRegExp:B,isBasicType:F,isEmpty:R,isSubsetDeep:L,equalsDeep:j,eachDeep:H,eachLeaf:N,keys:W}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(20),o=n(r);null==o.default.Wistia&&(o.default.Wistia={}),e.exports=o.default.Wistia},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _scriptUtils=__webpack_require__(37),_obj=__webpack_require__(2),_detect=__webpack_require__(6),_wlog=__webpack_require__(1),_seqid=__webpack_require__(14),_seqid2=_interopRequireDefault(_seqid),_wistia_namespace=__webpack_require__(3),_wistia_namespace2=_interopRequireDefault(_wistia_namespace),W=_wistia_namespace2.default,detect=(0,_detect.cachedDetect)(),aps=Array.prototype.slice,elemHtml=function(e,t){var i=getCssTags(t),n=getScriptTags(t);return t=removeCssTags(t),t=removeScriptTags(t),e.innerHTML=t,execCssTags(i,e),execScriptTags(n)},getScriptTags=function(e){return e.match(/<script.*?src[^>]*>\s*<\/script>|<script.*?>[\s\S]+?<\/script>/gi)||[]},execScriptTags=function execScriptTags(scriptTags,callback){if(!scriptTags)return null;(0,_obj.isArray)(scriptTags)||(scriptTags=getScriptTags(scriptTags));for(var hashes=[],i=0;i<scriptTags.length;i++){var scriptTag=scriptTags[i],hash={},matches=void 0;(matches=scriptTag.match(/<script.*?>/i))&&(matches=matches[0].match(/src="([^"]+)"/i))?(hash.src=matches[1],hash.async=/async/i.test(scriptTag.replace(hash.src,""))):(matches=scriptTag.match(/<script>([\s\S]+?)<\/script>/i))&&function(){var src=matches[1];hash.fn=function(){return eval(src)}}(),hashes.push(hash)}return(0,_scriptUtils.runScripts)(hashes,callback)},removeScriptTags=function(e){return e.replace(/<script.*?src[^>]*>\s*<\/script>|<script>[\s\S]+?<\/script>/g,"")},getCssTags=function(e){return e.match(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/gi)||[]},execCssTags=function(e,t){if(!e)return null;(0,_obj.isArray)(e)||(e=getCssTags(e));for(var i=[],n=0;n<e.length;n++){var r=e[n];if(/<link.*?rel=['"]stylesheet['"][^>]*>/.test(r)){var o=void 0;if(o=r.match(/href=['"](.*?)['"]/i)){var s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href",o[1]),s.className="wistia_injected_style",(t||document.body||document.head).appendChild(s),i.push(s)}}else if(/<style>[\s\S]+?<\/style>/gi.test(r)){var a=void 0;if(a=r.match(/<style>([\s\S]+?)<\/style>/i)){var l=addInlineCss(t||document.body||document.head,a[1]);i.push(l)}}}return i},removeCssTags=function(e){return e.replace(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/gi,"")},addInlineCss=function(e,t){var i=document.createElement("style");return i.id=(0,_seqid2.default)("wistia_","_style"),i.setAttribute("type","text/css"),i.className="wistia_injected_style",document.getElementsByTagName("style"),e.appendChild(i,e.nextSibling),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t)),i},elemFromObject=function e(t){if((0,_obj.isArray)(t)){for(var i=[],n=0;n<t.length;n++)i.push(e(t[n]));return i}var r=t.tagName||"div",o=t.childNodes||[];(0,_obj.isArray)(o)||(o=[o]);var s=document.createElement(r);for(var a in t){var l=t[a];if("childNodes"!==a&&"tagName"!==a){var u=a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if("style"===a)if((0,_obj.isObject)(l))for(var c in l)s.style[c]=l[c];else for(var d=l.split(";"),h=0;h<d.length;h++){var p=d[h].split(/\s*:\s*/),f=p[0],m=p[1];f&&m&&(s.style[f]=m)}else if("events"===a)for(var g in l){var y=l[g];elemBind(s,g,y)}else"className"===a||"class"===a?s.className=l:"innerHTML"===a?s.innerHTML=l:null!=l&&"function"==typeof l.toString&&s.setAttribute(u,l.toString())}}for(var _=0;_<o.length;_++){var v=o[_];if((0,_obj.isObject)(v)){elemAppend(s,e(v))}else{elemAppend(s,document.createTextNode(v.toString()))}}return s},elemToObject=function e(t){if((0,_obj.isArray)(t))for(var i=[],n=0;n<t.length;n++)i.push(e(t[n]));var r={};r.tagName=t.tagName.toLowerCase();for(var o=(0,_obj.keys)(t),s=0;s<o.length;s++){var a=o[s];if("tagName"!==a&&"childNodes"!==a&&"nodeType"!==a&&"nodeValue"!==a)if("style"===a){r.style={};for(var l=(0,_obj.keys)(t.style),u=0;u<l.length;u++){var c=l[u];val=t.style[c],val&&!/^\d/.test(c)&&"length"!==c&&(r.style[c]=val)}}else value=t.getAttribute(a),null!=value&&(r[a]=value)}for(var d=[],h=0;h<t.childNodes.length;h++){var p=t.childNodes[h];1===p.nodeType?d.push(e(p)):3===p.nodeType&&d.push(p.nodeValue)}return d.length>0&&(r.childNodes=d),r},elemClone=function(e){return elemFromObject(elemToObject(e))},elemAppend=function e(t,i){if((0,_obj.isArray)(i))for(var n=0;n<i.length;n++)e(t,i[n]);else t.appendChild(i)},elemPrepend=function e(t,i){if(!(0,_obj.isArray)(i))return 0===t.childNodes.length?elemAppend(t,i):t.insertBefore(i,t.childNodes[0]);for(var n=0;n<i.length;n++)e(t,i[n])},elemBefore=function e(t,i){if(!(0,_obj.isArray)(i))return t.parentNode.insertBefore(i,t);i=i.reverse();for(var n=0;n<i.length;n++)e(t,i[n])},elemAfter=function e(t,i){if(!(0,_obj.isArray)(i))return t.parentNode.insertBefore(i,t.nextSibling);i=i.reverse();for(var n=0;n<i.length;n++)e(t,i[n])},elemRemove=function e(t){if((0,_obj.isArray)(t)||window.NodeList&&t instanceof NodeList)for(var i=0;i<t.length;i++)e(t[i]);else{var n=void 0;null!=t&&1===t.nodeType&&(n=t.parentNode)&&(n.removeChild(t),t=null)}},elemRemoveClass=function e(t,i){if((0,_obj.isArray)(t)||window.NodeList&&t instanceof NodeList)for(var n=0;n<t.length;n++)e(t[n],i);else if(elemHasClass(t,i)){var r=t.getAttribute("class");if(r){var o=new RegExp("\\b"+i+"\\b","g"),s=normalizeClassName(r.replace(o,""));t.setAttribute("class",s)}}},elemAddClass=function e(t,i){if((0,_obj.isArray)(t)||window.NodeList&&t instanceof NodeList)for(var n=0;n<t.length;n++)e(t[n],i);else if(!elemHasClass(t,i)){var r=t.getAttribute("class"),o=void 0;r?(elemRemoveClass(t,i),o=normalizeClassName(r+" "+i)):o=i,t.setAttribute("class",o)}},elemHasClass=function(e,t){var i=null!=e&&"function"==typeof e.getAttribute&&e.getAttribute("class");if(!i&&e&&"string"==typeof e.className&&(i=e.className),!i)return!1;var n=!1;return eachIndexOf(i,t,function(e){var r=0===e||" "===i.charAt(e-1),o=e+t.length===i.length,s=" "===i.charAt(e+t.length);if(r&&(o||s))return n=!0,BREAK_IDENTIFIER}),n},BREAK_IDENTIFIER={},eachIndexOf=function(e,t,i){for(var n=-1;-1!=(n=e.indexOf(t,n+1))&&i(n)!==BREAK_IDENTIFIER;);},elemClasses=function(e){return e&&"string"!=typeof e.className?[""]:(e&&e.className||"").split(/\s+/)},normalizeClassName=function(e){return e.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ")},elemStyle=function e(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if((0,_obj.isArray)(t)||window.NodeList&&t instanceof NodeList){for(var o=[],s=0;s<t.length;s++){var a=t[s];1===a.nodeType&&o.push(e.apply(void 0,[a].concat(n)))}return o}if(2===n.length){var l=n[0],u=n[1];t.style[l]=u}else if(1===n.length)if("string"==typeof n[0]){var c=n[0];try{return t.currentStyle?t.currentStyle[c]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(c):null}catch(e){_wlog.wlog.notice(e)}}else{var d=propsWithVendorPrefixes(n[0]);for(var h in d){var p=d[h];t.style[h]=p}}else _wlog.wlog.apply(void 0,["Unexpected args",t].concat(n))},vendoredProperties=function(){return{borderImage:!0,mixBlendMode:!0,transform:!0,transition:!0,transitionDuration:!0}},vendoredProperty=function(e){return vendoredProperties()[e]},vendorPrefixes=function(){return["webkit","moz","o","ms"]},propsWithVendorPrefixes=function(e){var t={};for(var i in e){var n=e[i];if(t[i]=n,vendoredProperty(i))for(var r=vendorPrefixes(),o=0;o<r.length;o++){var s=r[o],a=s+i.charAt(0).toUpperCase()+i.slice(1);i[a]||(t[a]=n)}}return t},getComputedStyle=function(e,t){if(!window.getComputedStyle)return null;var i=window.getComputedStyle(e,null);return null==i?null:null!=t?i[t]:i},elemWidth=function(e){if(e===window)return window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.offsetWidth:document.body.offsetWidth;if(e===document){var t=document.body,i=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,i.clientWidth,i.scrollWidth,i.offsetWidth)}var n=void 0;return detect.browser.quirks?parseInt(e.offsetWidth,10):(n=getComputedStyle(e,"width"))&&null!=n?parseFloat(n):e.currentStyle?e.offsetWidth:-1},elemHeight=function(e){if(e===window)return window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.offsetHeight:document.body.offsetHeight;if(e===document){var t=document.body,i=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight)}var n=void 0;return detect.browser.quirks?parseInt(e.offsetHeight,10):(n=getComputedStyle(e,"height"))&&null!=n?parseFloat(n):e.currentStyle?e.offsetHeight:-1},_isBoxModel=void 0,isBoxModel=function(){if(null!=_isBoxModel)return _isBoxModel;var e=document.createElement("div");return e.style.paddingLeft=e.style.width="1px",document.body.appendChild(e),_isBoxModel=2===e.offsetWidth,document.body.removeChild(e),_isBoxModel},elemOffset=function(e){var t=document.body,i=document.defaultView,n=document.documentElement,r=e.getBoundingClientRect(),o=n.clientTop||t.clientTop||0,s=n.clientLeft||t.clientLeft||0,a=i&&i.pageYOffset||isBoxModel()&&n&&n.scrollTop||t.scrollTop,l=i&&i.pageXOffset||isBoxModel()&&n&&n.scrollLeft||t.scrollLeft;return{top:r.top+a-o,left:r.left+l-s}},elemContainsOffset=function(e,t,i){var n=elemOffset(e);return n.right=n.left+elemWidth(e),n.bottom=n.top+elemHeight(e),n.left<=t&&t<n.right&&n.top<=i&&i<n.bottom},elemScrollOffset=function(e){var t=0,i=0;if(e.parentNode)for(;e&&e.offsetParent;)i+=e.scrollTop,t+=e.scrollLeft,e=e.parentNode;return{left:t,top:i}},elemIsHidden=function(e){for(;e&&1===e.nodeType;){if("none"===elemStyle(e,"display"))return!0;e=e.parentNode}return!1},elemInDom=function(e){for(;e=e.parentNode;)if(e===document)return!0;return!1},elemIsDescendantOf=function(e,t){for(var i=elemAncestors(e),n=0;n<i.length;n++)if(i[n]===t)return!0;return!1},elemAncestorHasClass=function(e,t){for(var i=elemAncestors(e),n=0;n<i.length;n++)if(elemHasClass(i[n],t))return!0;return!1},elemAncestors=function(e){for(var t=e,i=[];t=t.parentNode;)i.push(t);return i},elemIsInside=function(e,t){return e===t||elemIsDescendantOf(e,t)},getTransitionProp=function(e,t,i){var n=[];for(var r in e)n.push(r+" "+t+"ms "+i);return n.join(",")},elemAnimate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=(0,_obj.merge)({time:400,easing:"ease"},i),elemStyle(e,{transition:getTransitionProp(t,i.time,i.easing)}),safeRequestAnimationFrame(function(){elemStyle(e,t),setTimeout(function(){elemStyle(e,{transition:""}),"function"==typeof i.callback&&i.callback()},i.time)})},elemBind=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];n=n||window.event,n.pageX||n.pageY||!n.clientX&&!n.clientY||(n.pageX=n.clientX+docScrollLeft(),n.pageY=n.clientY+docScrollTop()),n.preventDefault||(n.preventDefault=function(){n.returnValue=!1}),n.stopPropagation||(n.stopPropagation=function(){n.cancelBubble=!0}),null==n.which&&(n.which=null!=n.charCode?n.charCode:n.keyCode),null==n.which&&null!=n.button&&(1&n.button?n.which=1:2&n.button?n.which=3:4&n.button?n.which=2:detect.browser.msie&&0===n.button?n.which=1:n.which=0),n.target||n.srcElement&&(n.target=n.srcElement),n.target&&3===n.target.nodeType&&(n.target=n.target.parentNode);var a=i.apply(n.target,[n].concat(o));return a===elemUnbind&&elemUnbind(e,t,i),a};W._elemBind=W._elemBind||{};var o=elemBindKey(e,t,i);return W._elemBind[o]=r,r.elem=e,r.event=t,detect.browser.msie&&detect.browser.version<9?e.attachEvent("on"+t,r):e.addEventListener(t,r,n)},elemUnbind=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!=e&&null!=e._wistiaElemId&&null!=i&&i._wistiaBindId){var r=elemBindKey(e,t,i),o=W._elemBind[r];return o&&(detect.browser.msie&&detect.browser.version<9?e.detachEvent("on"+t,o):e.removeEventListener(t,o,n),o.elem=null,o.event=null),delete W._elemBind[r]}},elemUnbindAll=function(e){for(var t in W._elemBind){var i=W._elemBind[t];if(i&&e===i.elem){var n=i.event;detect.browser.msie&&detect.browser.version<9?i.elem.detachEvent("on"+n,i):i.elem.removeEventListener(n,i,!1),i.elem=null,i.event=null,delete W._elemBind[t]}}},elemUnbindAllInside=function(e){var t=0;for(var i in W._elemBind){var n=W._elemBind[i];if(n&&W.elem.isInside(n.elem,e)){var r=n.event;detect.browser.msie&&detect.browser.version<9?n.elem.detachEvent("on"+r,n):n.elem.removeEventListener(r,n,!1),n.elem=null,n.event=null,delete W._elemBind[i],t+=1}}return t},elemBindKey=function(e,t,i){return e._wistiaElemId=e._wistiaElemId||(0,_seqid2.default)("wistia_elem_"),i._wistiaBindId=i._wistiaBindId||(0,_seqid2.default)("wistia_bind_"),e._wistiaElemId+"."+t+"."+i._wistiaBindId},elemRebind=function(e,t,i){i&&(elemUnbind(e,t,i),elemBind(e,t,i))},elemBindOnce=function(e,t,i){return elemBind(e,t,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(this,t),elemUnbind})},elemTrigger=function(e,t){for(var i=arguments.length,n=Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];if(e.dispatchEvent){var o=document.createEvent("Events");return o.initEvent(t,!0,!1),"click"===t||"doubleclick"===t?o.which=1:"rightclick"===t&&(o.which=2),o.customArguments=n,e.dispatchEvent(o)}if(e.fireEvent){var s={customArguments:n};return e.fireEvent("on"+t,s)}_wlog.wlog.error("neither dispatchEvent nor fireEvent is defined for",e,t)},fullscreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},elemRequestFullscreen=function(e){return e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen?e.msRequestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():(_wlog.wlog.notice("no requestFullscreen functionality detected"),null)},elemCancelFullscreen=function(e){return document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():e&&e.webkitExitFullscreen?e.webkitExitFullscreen():(_wlog.wlog.notice("no cancelFullscreen functionality detected"),null)},elemStripEventAttributes=function e(t){var i=t&&t.attributes||[];try{for(var n=0;n<i.length;n++){var r=i[n];/^on.+/i.test(r.name)&&(t[r.name]=null,t.removeAttribute(r.name))}}catch(e){_wlog.wlog.error(e)}if(t.childNodes)for(var o=0;o<t.childNodes.length;o++){var s=t.childNodes[o];1===s.nodeType&&e(s)}},elemMutationObserver=function(e){var t=detect.mutationObserver;return t?new window[t](e):null},elemDomDistance=function(e,t){if(e===t)return{up:0,across:0,down:0};for(var i=[e],n=[t],r=1,o=0,s=null;e!==document.body;){if((e=e.parentNode)===t)return{up:i.length,across:0,down:0};i.unshift(e)}for(e=i[i.length-1];t!==document.body;){if((t=t.parentNode)===e)return{up:0,across:0,down:n.length};n.unshift(t)}for(;i[r]===n[r];)r+=1;for(s=i[r];s;)if((s=s.nextSibling)&&s.tagName&&(o+=1,s===n[r]))return{up:i.length-r-1,across:o,down:n.length-r-1};for(o=0,s=i[r];s;)if((s=s.previousSibling)&&s.tagName&&(o-=1,s===n[r]))return{up:i.length-r-1,across:o,down:n.length-r-1};return null},elemAllBetween=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";null==e&&(e=document.body),null==t&&(t=document.body),i=i.toLowerCase();for(var n=[],r=elemDomDistance(e,t),o=e,s=0,a=null;s<r.up;){if(o&&o.tagName){"*"!==i&&o.tagName.toLowerCase()!==i||(n=n.concat([o]));for(var l=o.nextSibling;l;)l.tagName&&("*"!==i&&l.tagName.toLowerCase()!==i||(n=n.concat([l])),n=n.concat(aps.call(l.getElementsByTagName(i)))),l=l.nextSibling}o=o.parentNode,o&&(a=o),s+=1}var u=Math.abs(r.across);for(o=a||e,s=1;s<u;)o=r.across<0?o.previousSibling:o.nextSibling,o.tagName&&(0<s&&s<u&&("*"!==i&&o.tagName.toLowerCase()!==i||(n=n.concat([o])),n=n.concat(aps.call(o.getElementsByTagName(i)))),s+=1);var c=[];for(o=t,s=0;s<r.down;){if(o&&o.tagName){"*"!==i&&o.tagName.toLowerCase()!==i||(c=c.concat([o]));for(var d=o.previousSibling;d;)d.tagName&&("*"!==i&&d.tagName.toLowerCase()!==i||(c=c.concat([d])),c=c.concat(aps.call(d.getElementsByTagName(i)).reverse())),d=d.previousSibling}o=o.parentNode,s+=1}return n=n.concat(c.reverse())},docScrollTop=function(e){var t=document.body,i=document.documentElement;if(null==e)return i&&i.scrollTop||t&&t.scrollTop||0;t&&(t.scrollTop=e),i&&(i.scrollTop=e)},docScrollLeft=function(e){var t=document.body,i=document.documentElement;if(null==e)return i&&i.scrollLeft||t&&t.scrollLeft||0;t&&(t.scrollLeft=e),i&&(i.scrollLeft=e)},safeRequestAnimationFrame=function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)})(e)},pageLoaded=function(e){if(isDocReady())setTimeout(e,1);else{var t=function(){return clearTimeout(i),e(),elemUnbind};elemBind(window,"load",t);var i=setTimeout(function(){elemUnbind(window,"load",t),e()},4e3)}},isDocReady=function(){return/loaded|complete/.test(document.readyState)},inUserEventContext=function(){var e=window.event,t=window.UIEvent;return e&&t&&e instanceof t};module.exports={elemHtml:elemHtml,getScriptTags:getScriptTags,execScriptTags:execScriptTags,removeScriptTags:removeScriptTags,getCssTags:getCssTags,execCssTags:execCssTags,removeCssTags:removeCssTags,addInlineCss:addInlineCss,elemFromObject:elemFromObject,elemToObject:elemToObject,elemClone:elemClone,elemAppend:elemAppend,elemPrepend:elemPrepend,elemBefore:elemBefore,elemAfter:elemAfter,elemRemove:elemRemove,elemRemoveClass:elemRemoveClass,elemAddClass:elemAddClass,elemHasClass:elemHasClass,elemClasses:elemClasses,elemStyle:elemStyle,vendoredProperties:vendoredProperties,vendoredProperty:vendoredProperty,vendorPrefixes:vendorPrefixes,propsWithVendorPrefixes:propsWithVendorPrefixes,getComputedStyle:getComputedStyle,elemWidth:elemWidth,elemHeight:elemHeight,isBoxModel:isBoxModel,elemOffset:elemOffset,elemContainsOffset:elemContainsOffset,elemScrollOffset:elemScrollOffset,elemIsHidden:elemIsHidden,elemInDom:elemInDom,elemIsDescendantOf:elemIsDescendantOf,elemAncestorHasClass:elemAncestorHasClass,elemAncestors:elemAncestors,elemIsInside:elemIsInside,elemAnimate:elemAnimate,elemBind:elemBind,elemUnbind:elemUnbind,elemUnbindAll:elemUnbindAll,elemUnbindAllInside:elemUnbindAllInside,elemBindKey:elemBindKey,elemRebind:elemRebind,elemBindOnce:elemBindOnce,elemTrigger:elemTrigger,fullscreenElement:fullscreenElement,elemRequestFullscreen:elemRequestFullscreen,elemCancelFullscreen:elemCancelFullscreen,elemStripEventAttributes:elemStripEventAttributes,elemMutationObserver:elemMutationObserver,elemDomDistance:elemDomDistance,elemAllBetween:elemAllBetween,docScrollTop:docScrollTop,docScrollLeft:docScrollLeft,safeRequestAnimationFrame:safeRequestAnimationFrame,isDocReady:isDocReady,pageLoaded:pageLoaded,inUserEventContext:inUserEventContext}},function(e,t,i){var n=void 0;!function(e,i){i(t)}(this,function(e){function t(e,t,i){this.nodeName=e,this.attributes=t,this.children=i,this.key=t&&t.key}function i(e,i){var n,r,o,s,a=[];for(s=arguments.length;s-- >2;)N.push(arguments[s]);for(i&&i.children&&(N.length||N.push(i.children),delete i.children);N.length;)if((r=N.pop())instanceof Array)for(s=r.length;s--;)N.push(r[s]);else null!=r&&!1!==r&&("number"!=typeof r&&!0!==r||(r=String(r)),o="string"==typeof r,o&&n?a[a.length-1]+=r:(a.push(r),n=o));var l=new t(e,i||void 0,a);return H.vnode&&H.vnode(l),l}function n(e,t){if(t)for(var i in t)e[i]=t[i];return e}function r(e){return n({},e)}function o(e,t){for(var i=t.split("."),n=0;n<i.length&&e;n++)e=e[i[n]];return e}function s(e){return"function"==typeof e}function a(e){return"string"==typeof e}function l(e){var t="";for(var i in e)e[i]&&(t&&(t+=" "),t+=i);return t}function u(e,t){return i(e.nodeName,n(r(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function c(e,t,i){var n=t.split(".");return function(t){for(var r=t&&t.target||this,s={},l=s,u=a(i)?o(t,i):r.nodeName?r.type.match(/^che|rad/)?r.checked:r.value:t,c=0;c<n.length-1;c++)l=l[n[c]]||(l[n[c]]=!c&&e.state[n[c]]||{});l[n[c]]=u,e.setState(s)}}function d(e){!e._dirty&&(e._dirty=!0)&&1==q.push(e)&&(H.debounceRendering||z)(h)}function h(){var e,t=q;for(q=[];e=t.pop();)e._dirty&&D(e)}function p(e){var t=e&&e.nodeName;return t&&s(t)&&!(t.prototype&&t.prototype.render)}function f(e,t){return e.nodeName(y(e),t||Q)}function m(e,t){return a(t)?e instanceof Text:a(t.nodeName)?g(e,t.nodeName):s(t.nodeName)?e._componentConstructor===t.nodeName||p(t):void 0}function g(e,t){return e.normalizedNodeName===t||U(e.nodeName)===U(t)}function y(e){var t=r(e.attributes);t.children=e.children;var i=e.nodeName.defaultProps;if(i)for(var n in i)void 0===t[n]&&(t[n]=i[n]);return t}function _(e){var t=e.parentNode;t&&t.removeChild(e)}function v(e,t,i,n,r){if("className"===t&&(t="class"),"class"===t&&n&&"object"==typeof n&&(n=l(n)),"key"===t);else if("class"!==t||r)if("style"===t){if((!n||a(n)||a(i))&&(e.style.cssText=n||""),n&&"object"==typeof n){if(!a(i))for(var o in i)o in n||(e.style[o]="");for(var o in n)e.style[o]="number"!=typeof n[o]||Y[o]?n[o]:n[o]+"px"}}else if("dangerouslySetInnerHTML"===t)n&&(e.innerHTML=n.__html);else if("o"==t[0]&&"n"==t[1]){var u=e._listeners||(e._listeners={});t=U(t.substring(2)),n?u[t]||e.addEventListener(t,A,!!K[t]):u[t]&&e.removeEventListener(t,A,!!K[t]),u[t]=n}else if("list"!==t&&"type"!==t&&!r&&t in e)b(e,t,null==n?"":n),null!=n&&!1!==n||e.removeAttribute(t);else{var c=r&&t.match(/^xlink\:?(.+)/)
;null==n||!1===n?c?e.removeAttributeNS("http://www.w3.org/1999/xlink",U(c[1])):e.removeAttribute(t):"object"==typeof n||s(n)||(c?e.setAttributeNS("http://www.w3.org/1999/xlink",U(c[1]),n):e.setAttribute(t,n))}else e.className=n||""}function b(e,t,i){try{e[t]=i}catch(e){}}function A(e){return this._listeners[e.type](H.event&&H.event(e)||e)}function w(e){if(_(e),e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||U(e.nodeName);(J[t]||(J[t]=[])).push(e)}}function E(e,t){var i=U(e),n=J[i]&&J[i].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));return n.normalizedNodeName=i,n}function k(){for(var e;e=X.pop();)H.afterMount&&H.afterMount(e),e.componentDidMount&&e.componentDidMount()}function C(e,t,i,n,r,o){Z++||($=r instanceof SVGElement);var s=x(e,t,i,n);return r&&s.parentNode!==r&&r.appendChild(s),--Z||o||k(),s}function x(e,t,i,n){for(var r=t&&t.attributes;p(t);)t=f(t,i);if(null==t&&(t=""),a(t)){if(e){if(e instanceof Text&&e.parentNode)return e.nodeValue!=t&&(e.nodeValue=t),e;O(e)}return document.createTextNode(t)}if(s(t.nodeName))return F(e,t,i,n);var o=e,l=t.nodeName,u=$,c=t.children;if(a(l)||(l=String(l)),$="svg"===l||"foreignObject"!==l&&$,e){if(!g(e,l)){for(o=E(l,$);e.firstChild;)o.appendChild(e.firstChild);O(e)}}else o=E(l,$);c&&1===c.length&&"string"==typeof c[0]&&1===o.childNodes.length&&o.firstChild instanceof Text?o.firstChild.nodeValue!=c[0]&&(o.firstChild.nodeValue=c[0]):(c&&c.length||o.firstChild)&&T(o,c,i,n);var d=o[G];if(!d){o[G]=d={};for(var h=o.attributes,m=h.length;m--;)d[h[m].name]=h[m].value}return P(o,t.attributes,d),r&&"function"==typeof r.ref&&(d.ref=r.ref)(o),$=u,o}function T(e,t,i,n){var r,o,a,l,u=e.childNodes,c=[],d={},h=0,p=0,f=u.length,g=0,y=t&&t.length;if(f)for(var _=0;_<f;_++){var v=u[_],b=y?(o=v._component)?o.__key:(o=v[G])?o.key:null:null;b||0===b?(h++,d[b]=v):c[g++]=v}if(y)for(var _=0;_<y;_++){a=t[_],l=null;var b=a.key;if(null!=b)h&&b in d&&(l=d[b],d[b]=void 0,h--);else if(!l&&p<g){for(r=p;r<g;r++)if((o=c[r])&&m(o,a)){l=o,c[r]=void 0,r===g-1&&g--,r===p&&p++;break}!l&&p<g&&s(a.nodeName)&&n&&(l=c[p],c[p++]=void 0)}(l=x(l,a,i,n))&&l!==e&&l!==u[_]&&e.insertBefore(l,u[_]||null)}if(h)for(var _ in d)d[_]&&O(d[_]);p<g&&S(c)}function S(e,t){for(var i=e.length;i--;)e[i]&&O(e[i],t)}function O(e,t){var i=e._component;i?R(i,!t):(e[G]&&e[G].ref&&e[G].ref(null),t||w(e),e.childNodes&&e.childNodes.length&&S(e.childNodes,t))}function P(e,t,i){for(var n in i)t&&n in t||null==i[n]||v(e,n,i[n],i[n]=void 0,$);if(t)for(var r in t)"children"===r||"innerHTML"===r||r in i&&t[r]===("value"===r||"checked"===r?e[r]:i[r])||v(e,r,i[r],i[r]=t[r],$)}function M(e){var t=e.constructor.name,i=ee[t];i?i.push(e):ee[t]=[e]}function I(e,t,i){var n=new e(t,i),r=ee[e.name];if(L.call(n,t,i),r)for(var o=r.length;o--;)if(r[o].constructor===e){n.nextBase=r[o].nextBase,r.splice(o,1);break}return n}function B(e,t,i,n,r){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,n),n&&n!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=n),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==i&&(1!==i&&!1===H.syncComponentUpdates&&e.base?d(e):D(e,1,r)),e.__ref&&e.__ref(e))}function D(e,t,i,o){if(!e._disable){var a,l,u,c,d=e.props,h=e.state,m=e.context,g=e.prevProps||d,_=e.prevState||h,v=e.prevContext||m,b=e.base,A=e.nextBase,w=b||A,E=e._component;if(b&&(e.props=g,e.state=_,e.context=v,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,h,m)?a=!0:e.componentWillUpdate&&e.componentWillUpdate(d,h,m),e.props=d,e.state=h,e.context=m),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!a){for(e.render&&(l=e.render(d,h,m)),e.getChildContext&&(m=n(r(m),e.getChildContext()));p(l);)l=f(l,m);var x,T,S=l&&l.nodeName;if(s(S)){u=E;var P=y(l);u&&u.constructor===S?B(u,P,1,m):(x=u,u=I(S,P,m),u.nextBase=u.nextBase||A,u._parentComponent=e,e._component=u,B(u,P,0,m),D(u,1,i,!0)),T=u.base}else c=w,x=E,x&&(c=e._component=null),(w||1===t)&&(c&&(c._component=null),T=C(c,l,m,i||!b,w&&w.parentNode,!0));if(w&&T!==w&&u!==E){var M=w.parentNode;M&&T!==M&&(M.replaceChild(T,w),x||(w._component=null,O(w)))}if(x&&R(x,T!==w),e.base=T,T&&!o){for(var F=e,L=e;L=L._parentComponent;)(F=L).base=T;T._component=F,T._componentConstructor=F.constructor}}!b||i?X.unshift(e):a||(e.componentDidUpdate&&e.componentDidUpdate(g,_,v),H.afterUpdate&&H.afterUpdate(e));var j,N=e._renderCallbacks;if(N)for(;j=N.pop();)j.call(e);Z||o||k()}}function F(e,t,i,n){for(var r=e&&e._component,o=e,s=r&&e._componentConstructor===t.nodeName,a=s,l=y(t);r&&!a&&(r=r._parentComponent);)a=r.constructor===t.nodeName;return r&&a&&(!n||r._component)?(B(r,l,3,i,n),e=r.base):(r&&!s&&(R(r,!0),e=o=null),r=I(t.nodeName,l,i),e&&!r.nextBase&&(r.nextBase=e,o=null),B(r,l,1,i,n),e=r.base,o&&e!==o&&(o._component=null,O(o))),e}function R(e,t){H.beforeUnmount&&H.beforeUnmount(e);var i=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?R(n,t):i&&(i[G]&&i[G].ref&&i[G].ref(null),e.nextBase=i,t&&(_(i),M(e)),S(i.childNodes,!t)),e.__ref&&e.__ref(null),e.componentDidUnmount&&e.componentDidUnmount()}function L(e,t){this._dirty=!0,this.context=t,this.props=e,this.state||(this.state={})}function j(e,t,i){return C(i,e,{},!1,t)}var H={},N=[],V={},U=function(e){return V[e]||(V[e]=e.toLowerCase())},W="undefined"!=typeof Promise&&Promise.resolve(),z=W?function(e){W.then(e)}:setTimeout,Q={},G="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",Y={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},K={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},q=[],J={},X=[],Z=0,$=!1,ee={};n(L.prototype,{linkState:function(e,t){var i=this._linkedStates||(this._linkedStates={});return i[e+t]||(i[e+t]=c(this,e,t))},setState:function(e,t){var i=this.state;this.prevState||(this.prevState=r(i)),n(i,s(e)?e(i,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),d(this)},forceUpdate:function(){D(this,2)},render:function(){}}),e.h=i,e.cloneElement=u,e.Component=L,e.render=j,e.rerender=h,e.options=H})},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(20),a=n(s),l=navigator.userAgent,u=/(webkit)[ \/]([^\s]+)/i,c=/OPR\/([^\s]+)/i,d=/(msie) ([^\s;]+)/i,h=/(trident)\/\s*([^;]+)/i,p=/(edge)\/(\d+(?:\.\d+)?)/i,f=/(mozilla)(?:.*? rv:([^\s\)]+))?/i,m=/(android) ([^;]+)/i,g=/(iphone)/i,y=/(ipad)/i,_=/(Windows Phone OS (\d+(?:\.\d+)?))/,v=/OS (\d+)_(\d+)/i,b=/(playstation 3)/i,A=/BlackBerry|BB10/i,w=/(firefox)/i,E=/Mobile VR/i,k=function(){return(x()[1]||"webkit").toLowerCase()},C=function(){return x()[2]},x=function(){var e=void 0;return(e=l.match(u))?e:(e=l.match(c))?e:(e=l.match(/(msie) ([^\s;]+)/i))?(null!=document.documentMode&&(e[2]=document.documentMode),e):(e=l.match(/(mozilla)(?:.*? rv:([^\s\)]+))?/i))?e:[]},T=function(){var e=l.match(/(android) ([^;]+)/i);return null!=e&&{version:e[2]}},S=function(){return T()&&T().version<"4.1.0"&&!V()},O=function(){return g.test(l)},P=function(){return j()>0||T()},M=function(){return A.test(l)},I=function(){return null!=a.default.devicePixelRatio&&a.default.devicePixelRatio>1},B=function(){return y.test(l)},D=function(){return u.test(l)&&!/chrome/i.test(l)&&!B()&&!O()},F=function(){return!(!/Chrome/.test(l)||!/Google Inc/.test(navigator.vendor))&&{version:R()}},R=function(){var e=l.match(/\bChrome\/([^\s]+)/);return e&&e[1]},L=function(){return c.test(l)},j=function(){var e=l.match(/OS (\d+)_(\d+)/i);return null!=e?parseFloat(e[1]+"."+e[2]):0},H=function(){return _.test(l)},N=function(){return b.test(l)},V=function(){return h.test(l)},U=function(){return p.test(l)},W=function(){return w.test(l)},z=function(){return E.test(l)},Q=function(){return/win/i.test(navigator.platform)},G=function(){return/mac/i.test(navigator.platform)},Y=function(){return/linux/i.test(navigator.platform)},K=function(){var e=q();return{version:parseFloat(e[0]+"."+e[1]),major:parseInt(e[0]),minor:parseInt(e[1]),rev:parseInt(e[2])}},q=function(){try{try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{e.AllowScriptAccess="always"}catch(e){return[6,0,0]}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(e){}}return[0,0,0]},J=function(){var e=document.createElement("video"),t=!1;try{if(e.canPlayType){t={};var i='video/mp4; codecs="avc1.42E01E';t.h264=!!e.canPlayType(i+'"')||!!e.canPlayType(i+', mp4a.40.2"'),t.webm=!!e.canPlayType('video/webm; codecs="vp9, vorbis"')}}catch(e){t={ogg:!1,h264:!1,webm:!1}}return t},X=function(){return a.default.MediaSource&&a.default.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')},Z=function(){return O()||B()||D()},ee=function(){try{return"localStorage"in a.default&&null!=a.default.localStorage}catch(e){return!1}},te=function(){return!(!a.default.JSON||"function"!=typeof JSON.parse)},ie=function(){var e=document.createElement("div");return""===e.style.backgroundSize||""===e.style.webkitBackgroundSize||""===e.style.mozBackgroundSize||""===e.style.oBackgroundSize},ne=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled},re=["WebKit","Moz","O","Ms",""],oe=function(){for(var e=0;e<re.length;e++){var t=re[e],i=t+"MutationObserver";if(a.default[i])return i}return null},se=function(){return!(O()||B()||T()||M()||!(/webkit|mozilla/.test(k())||"msie"===k()&&C()>=11)||!J().h264||!Object.defineProperties)},ae=function(){return o.default._detectCache?o.default._detectCache:(o.default._detectCache=le(),o.default._detectCache)},le=function(){var e={browser:{version:C(),quirks:"msie"===k()&&"BackCompat"===document.compatMode,old:"msie"===k()&&("BackCompat"===document.compatMode||C()<7),ltie8:"msie"===k()&&("BackCompat"===document.compatMode||C()<8)},trident:V(),edge:U(),firefox:W(),gearvr:z(),android:T(),oldandroid:S(),iphone:O(),ipad:B(),blackberry:M(),safari:D(),chrome:F(),opera:L(),winphone:{version:H()[2]},ios:{version:j()},windows:Q(),mac:G(),linux:Y(),retina:I(),touchScreen:P(),ps3:N(),flash:K(),video:J(),mediaSource:X(),nativeHls:Z(),localstorage:ee(),json:te(),backgroundSize:ie(),fullscreenEnabled:ne(),vulcanSupport:se(),mutationObserver:oe()};return e.browser[k()]=!0,e},ue=function(){o.default._detectCache=null};e.exports={cachedDetect:ae,uncachedDetect:le,clearDetectCache:ue}},function(e,t){var i=Array.isArray;e.exports=i},function(e,t,i){var n=i(68),r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();e.exports=o},function(e,t,i){var n=void 0;!function(t,n){e.exports=n(i(5),i(12))}(this,function(e,t){function i(){}function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function r(){A||(A=!0,n("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function o(e,t){if(e===t)return!0;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var r=Object.prototype.hasOwnProperty,o=0;o<i.length;o++)if(!r.call(t,i[o])||e[i[o]]!==t[i[o]])return!1;return!0}function s(e){return function(i){return t.bindActionCreators(e,i)}}function a(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function l(e){return!!e&&"object"==typeof e}function u(e){if(!l(e)||P.call(e)!=k||a(e))return!1;var t=E(e);if(null===t)return!0;var i=S.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&T.call(i)==O}function c(){}function d(e){return e.displayName||e.name||"Component"}function h(e,t){try{return e.apply(t)}catch(e){return R.value=e,R}}function p(t,i,r){var a=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],l=Boolean(t),p=t||B,f=void 0;f="function"==typeof i?i:i?s(i):D;var m=r||F,A=a.pure,w=void 0===A||A,E=a.withRef,k=void 0!==E&&E,C=w&&m!==F,x=L++;return function(t){function i(e,t){u(e)||n(t+"() in "+s+" must return a plain object. Instead received "+e+".")}function r(e,t,n){var r=m(e,t,n);return i(r,"mergeProps"),r}var s="Connect("+d(t)+")",a=function(n){function a(e,t){y(this,a);var i=b(this,n.call(this,e,t));i.version=x,i.store=e.store||t.store,c(i.store,'Could not find "store" in either the context or props of "'+s+'". Either wrap the root component in a <Provider>, or explicitly pass "store" as a prop to "'+s+'".');var r=i.store.getState();return i.state={storeState:r},i.clearCache(),i}return v(a,n),a.prototype.shouldComponentUpdate=function(){return!w||this.haveOwnPropsChanged||this.hasStoreStateChanged},a.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return i(r,"mapStateToProps"),r},a.prototype.configureFinalMapState=function(e,t){var n=p(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:p,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):(i(n,"mapStateToProps"),n)},a.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return i(r,"mapDispatchToProps"),r},a.prototype.configureFinalMapDispatch=function(e,t){var n=f(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:f,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):(i(n,"mapDispatchToProps"),n)},a.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return!(this.stateProps&&o(e,this.stateProps)||(this.stateProps=e,0))},a.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return!(this.dispatchProps&&o(e,this.dispatchProps)||(this.dispatchProps=e,0))},a.prototype.updateMergedPropsIfNeeded=function(){var e=r(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&C&&o(e,this.mergedProps)||(this.mergedProps=e,0))},a.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},a.prototype.trySubscribe=function(){l&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},a.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},a.prototype.componentDidMount=function(){this.trySubscribe()},a.prototype.componentWillReceiveProps=function(e){w&&o(e,this.props)||(this.haveOwnPropsChanged=!0)},a.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},a.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},a.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!w||t!==e){if(w&&!this.doStatePropsDependOnOwnProps){var i=h(this.updateStatePropsIfNeeded,this);if(!i)return;i===R&&(this.statePropsPrecalculationError=R.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},a.prototype.getWrappedInstance=function(){return c(k,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},a.prototype.render=function(){var i=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,o=this.statePropsPrecalculationError,s=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,o)throw o;var a=!0,l=!0;w&&s&&(a=n||i&&this.doStatePropsDependOnOwnProps,l=i&&this.doDispatchPropsDependOnOwnProps);var u=!1,c=!1;return r?u=!0:a&&(u=this.updateStatePropsIfNeeded()),l&&(c=this.updateDispatchPropsIfNeeded()),(u||c||i)&&this.updateMergedPropsIfNeeded()||!s?(this.renderedElement=k?e.h(t,_({},this.mergedProps,{ref:"wrappedInstance"})):e.h(t,this.mergedProps),this.renderedElement):s},a}(e.Component);return a.displayName=s,a.WrappedComponent=t,a.contextTypes={store:g},a.prototype.componentWillUpdate=function(){this.version!==x&&(this.version=x,this.trySubscribe(),this.clearCache())},I(a,t)}}var f={only:function(e){return e&&e[0]||null}};i.isRequired=i;var m={element:i,func:i,shape:function(){return i}},g=m.shape({subscribe:m.func.isRequired,dispatch:m.func.isRequired,getState:m.func.isRequired}),y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},v=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},b=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},A=!1,w=function(e){function t(i,n){y(this,t);var r=b(this,e.call(this,i,n));return r.store=i.store,r}return v(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){var e=this.props.children;return f.only(e)},t}(e.Component);w.prototype.componentWillReceiveProps=function(e){this.store!==e.store&&r()},w.childContextTypes={store:g.isRequired};var E=function(e,t){return function(i){return e(t(i))}}(Object.getPrototypeOf,Object),k="[object Object]",C=Function.prototype,x=Object.prototype,T=C.toString,S=x.hasOwnProperty,O=T.call(Object),P=x.toString,M=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},n="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,r,o){if("string"!=typeof r){var s=Object.getOwnPropertyNames(r);n&&(s=s.concat(Object.getOwnPropertySymbols(r)));for(var a=0;a<s.length;++a)if(!(t[s[a]]||i[s[a]]||o&&o[s[a]]))try{e[s[a]]=r[s[a]]}catch(e){}}return e}}),I=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(M),B=function(e){return{}},D=function(e){return{dispatch:e}},F=function(e,t,i){return _({},i,e,t)},R={value:null},L=0;return{Provider:w,connect:p}})},function(e,t,i){"use strict";var n=i(39),r=i(20),o=n("app"),s=n("fast"),a="fast.wistia.net",l="embed.wistia.com",u="embed-ssl.wistia.com",c=n("embed-a"),d="embedwistia-a.akamaihd.net",h=n("embed-e"),p="embed-ssl.wistia.com",f="pipedream.wistia.com",m=function(){return"undefined"!=typeof window&&r===window&&r.location?r.location.protocol:"https:"}(),g=function(e,t,i){return"https:"===e?t:i},y=function(){return g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,"embed-ssl.wistia.com","embed.wistia.com")},_=function(){return g(arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,"embedwistia-a.akamaihd.net",c)},v=function(){return o},b=function(){return s},A=function(){return"fast.wistia.net"},w=function(){return"pipedream.wistia.com"},E=/(\.wistia\.net|\.wistia.com|\.wistia\.st)$/,k=function(e){return e&&E.test(e)?e:b()};e.exports={deliveryHost:y,appHost:v,cdnFastWistiaComHost:b,cdnFastWistiaNetHost:A,akamaiHost:_,metricsHost:w,forceValidFastWistiaHost:k}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}var o=i(2),s=r(o),a=i(39),l=n(a),u=i(16),c=i(6),d=i(10),h=n(d),p=i(1),f=Array.prototype.slice,m=-1,g=0,y=1,_=2,v=["select","sortFn","sortBy","unique"],b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.assets&&(e=e.assets),null==t.qualityMin&&null==t.qualityMax||(e=O(e,t.qualityMin,t.qualityMax),t=s.except(t,["qualityMin","qualityMax"]));var i=s.only(t,v),n=i.select||s.except(t,v);n&&(i.select=n);var r=i.select?s.select(e,i.select):s.clone(e);if((i.sortFn||i.sortBy)&&(r=s.sort(r,i.sortFn||i.sortBy)),i.unique){for(var o={},a=0;a<r.length;a++){var l=r[a],u=l[""+i.unique]||"__undefined__";o[u]||(o[u]=l)}r=[];for(var c in o)r.push(o[c])}return r},A=function(e,t){return b(e,t)[0]||null},w=function(e){return b(e,{container:"mp4",status:2,public:!0})},E=function(e){return b(e,{container:"m3u8",status:2,public:!0})},k=function(e){return b(e,{container:"flv",status:2,public:!0})},C=function(e){return b(e,{container:/mp4|flv/,status:2,public:!0})},x=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=null!=n.opt_vbitrate&&500<=n.opt_vbitrate&&n.opt_vbitrate<=1e5,o=null!=n.width&&n.width>400;(r||o)&&t.push(n)}return t},T=function(e){return x(b(e,{container:/mp4|flv/,public:!0,status:2}))},S=function(e){return x(b(e,{container:/mp4|flv/,public:!0,status:function(e){return e!==-1}}))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;return b(e,{select:function(e){var n=P(e.width,e.height);return t<=n&&n<=i}})},P=function(e,t){if(t>e){var i=e;e=t,t=i}var n=e/t,r=e*t+1;return r>=3840/n*3840?2160:r>=2560/n*2560?1440:r>=1920/n*1920?1080:r>=1280/n*1280?720:r>=960/n*960?540:r>=640/n*640?360:t},M=function(e){var t=A(e,{type:"still_image",sortBy:"created_at desc"});return t||(t=A(e,{type:"original"})),t||(t=A(e,{container:/flv|mp4/})),t},I=(0,l.default)("fast"),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=M(e);if(2!==i.status)return"//"+I+"/assets/images/blank.gif";t=s.merge({aspect:i.width/i.height,stillUrl:i.url,playButton:!1,playerColor:t.playerColor||"636155",videoWidth:i.width||640,videoHeight:i.height||360,stillSnap:!0},t);var n=t.videoWidth,r=t.videoHeight,o=new u.Url(t.stillUrl);return t.retina&&(o.params.image_play_button_size="2x",n*=2,r*=2),t.stillSnap&&(n=D({videoWidth:n,masterStillWidth:i.width}),r=Math.round(n/t.aspect)),R(t.stillUrl)?("https:"===t.protocol&&(o.protocol="https:",o.host="embed-ssl.wistia.com"),o.params.image_crop_resized=n+"x"+r,(null==t.playButton||t.playButton)&&(o.params.image_play_button=1,o.params.image_play_button_color=(""+t.playerColor).replace(/^#+/,"")+"e0"),o.ext("jpg"),o.absolute()):t.stillUrl},D=function(e){var t=[640,960,1280,1920,3840];e.masterStillWidth<3840&&t.push(e.masterStillWidth);for(var i=[],n=0;n<t.length;n++){var r=t[n];r<=e.masterStillWidth&&i.push(r)}i.sort(function(e,t){return e-t});for(var o=0;o<i.length;o++){var s=i[o];if(e.videoWidth<=s)return s}return Math.max.apply(Math,i)},F=["embed.wistia.com","embed-ssl.wistia.com","embed.wistia.com","embed-ssl.wistia.com",(0,l.default)("embed"),(0,l.default)("prime"),(0,l.default)("mixergy-cdn"),(0,l.default)("embed-a"),"embedwistia-a.akamaihd.net"],R=function(e){if(null==e)return!1;var t=new u.Url(e);return!!t.host&&F.join(",").indexOf(t.host)>=0},L=function(e,t,i){return i=s.merge({container:t,public:!0,status:2},i),A(e,i)},j=function(e,t){return L(e,"mp4",t)},H=function(e,t){return L(e,"webm",t)},N=function(e,t){return L(e,"m3u8",t)},V=function(e,t){return L(e,"flv",t)},U=function(e,t){return A(e,{type:"original"})},W=function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,c.cachedDetect)()).video.webm?H(e,t)||j(e,t):j(e,t)},z=function(e){var t=U(e);return t&&t.width>640&&t.bitrate<1200},Q=function(e){var t=j(e)||V(e)||N(e)||H(e)||U(e);return t&&t.height?t.width/t.height:640/360},G=function(e,t){if(Q(e)>1)return t=s.merge({width:640},t),j(e,t)||Y(e,t);var i=s.merge({width:320},t),n=s.merge({width:640},t);return j(e,i)||j(e,n)||Y(e,t)},Y=function(e,t){return t=s.merge({sortBy:"width asc",width:[640,1920]},t),j(e,t)},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,u.proto)(),i=new u.Url(e);return R(e)&&("https:"===t?(i.host=h.default.deliveryHost(location.protocol),i.protocol="https:"):(i.host=h.default.deliveryHost(location.protocol),i.protocol="http:")),i.absolute()},q=function(e,t,i){if(0===e.length)return[];for(var n=f.call(e).sort(function(e,t){return P(e.width,e.height)-P(t.width,t.height)}),r=(n[0],void n[n.length-1]),o=void 0,s=0;s<n.length;s++){var a=n[s],l=P(a.width,a.height);if(l<t&&(r=a),l>=i){o=a;break}}var u=[];return r&&u.push(r),o&&u.push(o),0===u.length&&(p.wlog.error("nearestAssetsOutsideRange: no nearby assets found, using first in list",n[0]),u.push(n[0])),u},J=function(e,t){if(!t)return e;for(var i=-1,n=0;n<e.length;n++)if(e[n].url===t.url){i=n;break}return i>0&&(e.splice(i,1),e.unshift(t)),e};e.exports={FAILED:-1,QUEUED:0,PROCESSING:1,READY:2,filter:b,one:A,readyPublicMp4s:w,readyPublicFlvs:k,readyPublicMp4sAndFlvs:C,readyPublicM3u8s:E,readyPublicOver400:T,filterOver400:x,nonfailedPublicOver400:S,withinQualityRange:O,numericSizeSnapped:P,still:M,stillUrl:B,getStillWidth:D,BAKERY_HOSTS:F,isBakeryUrl:R,mp4:j,webm:H,m3u8:N,flv:V,original:U,playable:W,isScreencast:z,videoAspect:Q,iphone:G,smallestNormalMp4:Y,urlWithCorrectHost:K,nearestOutsideRange:q,moveToFront:J}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var o=i(308),s=n(o),a=i(364),l=n(a),u=i(363),c=n(u),d=i(362),h=n(d),p=i(307),f=n(p),m=i(309),g=n(m);t.createStore=s.default,t.combineReducers=l.default,t.bindActionCreators=c.default,t.applyMiddleware=h.default,t.compose=f.default},function(e,t,i){function n(e,t){var i=o(e,t);return r(i)?i:void 0}var r=i(123),o=i(145);e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=o.default,a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wistia_",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=s._sequenceVal||1,n=""+e+i+t;return s._sequenceVal=i+1,n};e.exports=a},function(e,t){function i(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=i},function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(1),o=i(2),s=i(33),a=function(){return/^http:\/\//.test(arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.href)?"http:":"https:"},l=function(e){var t={};if(!e)return t;for(var i=e.split("&"),n=0;n<i.length;n++){var s=i[n],a=s.split("="),l=a[0],c=a[1];try{l=f(decodeURIComponent(l))||""}catch(e){setTimeout(function(){r.wlog.notice(e)},50),l=""}o.cast(l);var d=o.get(t,l);if(null!=d)if(o.isArray(d))d.push(u(c));else{var h=[d];h.push(u(c)),o.set(t,l,h)}else o.set(t,l,u(c))}return t},u=function(e){var t=void 0;try{t=decodeURIComponent(e)}catch(i){setTimeout(function(){r.wlog.notice(i)},50),t=e}if("string"!=typeof e||!/^[\{\[].*[\}\]]$/.test(t))return t;try{return s.parse(t)}catch(e){return t}},c=function(e){var t=[];return o.eachLeaf(e,function(e,i){t.push(encodeURIComponent(p(i))+"="+encodeURIComponent(e))}),t.join("&")},d=function(e){var t=[];if(null==e)return t;for(var i=e.split(/\/+/),n=0;n<i.length;n++){var r=i[n];null!=r&&""!==r&&t.push(r)}return t},h=function(e){return"string"==typeof e&&(e=e.split("/")),null==e?"":"/"+e.join("/")},p=function(e){for(var t=e[0],i=1;i<e.length;i++)t+="["+e[i]+"]";return t},f=function(e){return e.match(/([\w\-\_]+)/g)},m=["protocol","host","port","params","path"],g=function(e){var t=this;return function(){t.params={},t.path=[],t.host="","object"===(void 0===e?"undefined":n(e))?t.fromOptions(e):e&&t.fromRaw(e)}(),t},y=g.prototype;y.fromOptions=function(e){for(var t=0;t<m.length;t++){var i=m[t];null!=e[i]&&(this[i]=e[i])}return this},y.fromRaw=function(e){this.rawUrl=e;var t=void 0;return(t=e.match(/^((?:https?\:)|(?:file\:)|(?:ftp\:))?\/\//))&&(this.protocol=t[1]||void 0),(t=e.match(/\/\/([^\:\?\/]*)/))&&(this.host=t[1]||void 0),((t=e.match(/\/\/.*?(\/[^\?#$]+)/))||(t=e.match(/(^\/[^\/][^\?#$]+)/)))&&(this.rawPath=t[1],this._hasTrailingSlash=/\/$/.test(this.rawPath),this.path=d(this.rawPath)),(t=e.match(/\:(\d+)/))&&(this.port=parseInt(t[1],10)),(t=e.match(/\?([^#]+)/))&&(this.rawParams=t[1],this.params=l(this.rawParams)),(t=e.match(/#(.*)$/))&&(this.anchor=t[1]),this},y.clone=function(){return new g({protocol:this.protocol,host:this.host,port:this.port,path:o.clone(this.path),params:o.clone(this.params),anchor:this.anchor})},y.ext=function(e){if(null!=e){var t=this.ext(),i=this.path.length-1,n=new RegExp("\\."+t,"g");return t&&(this.path[i]=""+this.path[i].replace(n,"")),this.path[i]=this.path[i]+"."+e}var r=this.path[this.path.length-1].match(/\.(.*)$/);return null!=r&&r[1]||null},y.isRelative=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,t=this.protocol,i=this.host;return!(null!=t&&""!==t&&t!==e.protocol||i&&i!==e.hostname)},y.toString=function(){return this.isRelative()?this.relative():this.absolute()},y.absolute=function(){var e="";null!=this.protocol&&(e=this.protocol);var t="";return null!=this.port&&(t=":"+this.port),e+"//"+(this.host||location.host)+t+this.relative()},y.relative=function(){var e="";this.path.length>0&&(e=h(this.path),this._hasTrailingSlash&&(e+="/"));var t="?"+c(this.params);return 1===t.length&&(t=""),""+e+t+this.relativeAnchor()},y.authority=function(){var e=null!=this.port?":"+this.port:"";return""+this.host+e},y.relativeProtocol=function(){var e="";return null!=this.port&&(e=":"+this.port),"//"+this.host+e+this.relative()},y.relativeAnchor=function(){var e="";return null!=this.anchor&&(e="#"+this.anchor),""+e},g.create=function(e){return new g(e)},g.parse=function(e){return new g(e)},e.exports={proto:a,queryParamsToObject:l,urlComponentToObject:u,objectToQueryParams:c,splitPath:d,joinPath:h,brack:p,debrack:f,Url:g}},function(e,t){function i(e){return null!=e&&"object"==typeof e}e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(2),a=o.default;null==a._timeouts&&(a._timeouts={});var l=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,s.isArray)(e)&&(e=e.join("."));var n=d(e);if(u(e,n),t){var r=a._timeouts[n];null==r&&(r=a._timeouts[n]={});var o=setTimeout(function(){delete r[e],t()},i);return r[e]=o,o}return a._timeouts[n][e]},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,s.isArray)(e)&&(e=e.join(".")),t=t||d(e);var i=void 0;if("__global__"===t&&(i=a._timeouts[e]))for(var n in i){var r=i[n];clearTimeout(r),
delete i[n]}if(i=a._timeouts[t])for(var o in i){var l=i[o];!o.indexOf||0!==o.indexOf(e)||o.length!==e.length&&"."!==o.charAt(e.length)||(clearTimeout(l),delete i[o])}a.blockSweepTimeouts||(a.blockSweepTimeouts=!0,setTimeout(c,0),setTimeout(function(){a.blockSweepTimeouts=!1},5e3))},c=function(){for(var e in a._timeouts){var t=a._timeouts[e];(0,s.isEmpty)(t)&&delete a._timeouts[e]}},d=function(e){var t=e.indexOf(".");return t>0?e.substring(0,t):"__global__"};e.exports={doTimeout:l,clearTimeouts:u}},function(e,t,i){function n(e){return null==e?void 0===e?l:a:u&&u in Object(e)?o(e):s(e)}var r=i(26),o=i(142),s=i(168),a="[object Null]",l="[object Undefined]",u=r?r.toStringTag:void 0;e.exports=n},function(e,t,i){(function(e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={function:!0,object:!0},o=r[n(t)]&&t&&!t.nodeType&&t,s=r["undefined"==typeof window?"undefined":n(window)]&&window||void 0,a=o&&r[n(e)]&&e&&!e.nodeType&&"object"==(void 0===i?"undefined":n(i))&&i;!a||a.global!==a&&a.window!==a&&a.self!==a||(s=a),e.exports=s}).call(t,i(24)(e),function(){return this}())},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(321),o=n(r),s=i(231),a=n(s),l=i(295),u=n(l);t.default={actions:o.default,accessors:a.default}},function(e,t,i){"use strict";var n=i(4),r=i(18),o=function(e,t,i,n,r){var o=c(e,t,i);return{width:o*n,height:o*r}},s=function(e,t,i,n,r){return o(e,t,i,n,r)},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.screenHeight||window.screen.height;return(e.screenWidth||window.screen.width)<t?3.5:1.5},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.screenHeight||window.screen.height;return(e.screenWidth||window.screen.width)<t?1:.75},u=function(e){return e?Math.max(1,window.innerWidth/Math.max(screen.width,screen.height)):1},c=function(e,t,i){var n=u(i),r=Math.max(e,t);return r>960?Math.min(a(i)*n,r/960*n):r<640?Math.max(l(i)*n,r/640*n):1},d=function(e,t,i){return c(e,t,i)},h=function(e,t,i){return Math.max(.75,c(e,t,i))},p=function(e,t,i,r,s){var a=o(t.videoWidth(),t.videoHeight(),t.inFullscreen(),r,s),l=a.width,u=a.height;return(0,n.elemStyle)(i,{height:u+"px",width:l+"px"}),f(t.uuid+"."+e,i),{width:l,height:u}},f=function(e,t){for(var i=t.getElementsByTagName("svg"),o=0;o<i.length;o++)!function(t){(0,r.doTimeout)(e+".tap_icon",function(){(0,n.elemStyle)(t,{position:"relative"}),(0,r.doTimeout)("#{timeoutPrefix}.tap_icon",function(){(0,n.elemStyle)(t,{position:""})},30)},30)}(i[o])};e.exports={controlDimensionsForVideo:o,fontSizeMultiplierForVideo:d,menuMultiplierForVideo:h,bigPlayButtonDimensionsForVideo:s,controlMultiplierForVideo:c,getZoomMultiplier:u,fitControl:p,tapIcon:f}},function(e,t){"use strict";var i=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(" ","&nbsp;")},n=function(e){var t=document.createElement("div");return t.innerHTML=e.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.childNodes.length>0?t.childNodes[0].nodeValue:""},r=function(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},o=function(e){return e.replace(/[_-]([a-z])/g,function(e){return e.charAt(1).toUpperCase()})},s=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})},a=function(e){return Object.keys(e).reduce(function(t,i){return t[o(i)]=e[i],t},{})},l=function(e){return Object.keys(e).reduce(function(t,i){return t[s(i)]=e[i],t},{})},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=function(e){var t=0,i="";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t<e.length;){var n=u.indexOf(e.charAt(t++)),r=u.indexOf(e.charAt(t++)),o=u.indexOf(e.charAt(t++)),s=u.indexOf(e.charAt(t++)),a=n<<2|r>>4,l=(15&r)<<4|o>>2,c=(3&o)<<6|s;i+=String.fromCharCode(a),64!=o&&(i+=String.fromCharCode(l)),64!=s&&(i+=String.fromCharCode(c))}return i},d=function(e){for(var t=0,i="";t<e.length;){var n=e.charCodeAt(t++),r=e.charCodeAt(t++),o=e.charCodeAt(t++),s=n>>2,a=(3&n)<<4|r>>4,l=(15&r)<<2|o>>6,c=63&o;isNaN(r)?l=c=64:isNaN(o)&&(c=64),i=i+u.charAt(s)+u.charAt(a)+u.charAt(l)+u.charAt(c)}return i},h=function(e){return null==e||!0===e},p=function(e){var t=0,i=0;return e>0&&(t+=Math.floor(e/60),e%=60),i=Math.round(e),60===i&&(t+=1,i=0),t+":"+f(i,2)},f=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=""+e;i.length<t;)i="0"+i;return i},m=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=t.scrollTop,o=t.scrollHeight,s=t.offsetHeight,a=function(){return r+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)-i<=0},l=function(){return r+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+n>=o-s},u=e.deltaY||-e.wheelDelta,c=u>0?"down":"up";if(e.deltaY)("up"===c&&a()||"down"===c&&l())&&e.preventDefault();else{var d=47.5*u/120;"up"===c&&a(d)?(e.preventDefault(),t.scrollTop=0):"down"===c&&l(d)&&(e.preventDefault(),t.scrollTop=o-s)}},g=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5e3,r=arguments[4],o=null,s=(new Date).getTime(),a=function a(){if((new Date).getTime()-s>n)return void("function"==typeof r&&r());e()?t():(clearTimeout(o),o=setTimeout(a,i))};o=setTimeout(a,1)},y=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=null,r=null,o=null,s=null,a=0,l=function(){a=!1===i.leading?0:(new Date).getTime(),s=null,o=t.apply(n,r),s||(n=r=null)};return function(){var u=(new Date).getTime();a||!1!==i.leading||(a=u);var c=e-(u-a);return n=this,r=arguments,c<=0||c>e?(clearTimeout(s),s=null,a=u,o=t.apply(n,r),s||(n=r=null)):s||!1===i.trailing||(s=setTimeout(l,c)),o}};e.exports={unbreakifyText:i,unescapeHtml:n,camelCase:o,snakeCase:s,shallowCamelizeKeys:a,shallowSnakeKeys:l,stripHtml:r,base64Decode:c,base64Encode:d,notSetOrTrue:h,niceDuration:p,preventOuterMouseWheel:m,poll:g,throttle:y}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(50),a=n(s),l=i(46),u=n(l),c=i(15),d=n(c),h=i(12),p=i(59),f=i(204),m=i(298),g=n(m),y=function(e,t){return!!e&&("contains"in e?e.contains(t):e.compareDocumentPosition(t)%16)},_={parentSelector:function(){return document.body},onFocus:function(){},onBlur:function(){}},v=function(){function e(t){r(this,e),this.options=(0,a.default)({},_,t),this._hadActiveChild=!1,document.addEventListener("focus",this._onDocumentFocusBlur.bind(this),!0)}return o(e,[{key:"destroy",value:function(){document.removeEventListener("focus",this._onDocumentFocusBlur.bind(this),!0)}},{key:"_fireCallbacks",value:function(){var e=this.options.parentEl(),t=y(e,document.activeElement);t!=this._hadActiveChild&&(t?this.options.onFocus():this.options.onBlur(),this._hadActiveChild=t)}},{key:"_onDocumentFocusBlur",value:function(){setTimeout(this._fireCallbacks.bind(this),0)}}]),e}(),b=function(e){return(0,u.default)(e,function(e){return""!=e}).join(" ")},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=w(e);return Object.keys(t).reduce(function(e,n){return e[n]=(0,h.bindActionCreators)(t[n],i.dispatch),e},{})},w=function(e){return(0,d.default)(e)?e:(0,p.getStoreForPlayerInstance)(e)},E=function(e,t){return Object.keys(e).reduce(function(i,n){return i[n]=function(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return e[n].apply(e,[t.getState()].concat(r))},i},{})},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=w(e);return Object.keys(t).reduce(function(e,n){return e[n]=E(t[n],i),e},{})},C=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120;if(!t)return 0;var n=(0,f.ancestorsWithClass)(t,"w-chrome")[0];if(!n)return 0;var r=(0,f.offset)(n).left,o=parseInt(t.style.left)||0,s=(0,f.offset)(t).left-o,a=s+i,l=r+e;return Math.min(l-a,0)};t.default={FocusHelper:v,classListToString:b,bindActionsToStore:A,bindAccessorsToStore:k,bindListenersToStore:g.default,leftValueToKeepMenuInsideVideo:C}},function(e,t,i){var n=i(8),r=n.Symbol;e.exports=r},function(e,t,i){function n(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var r=i(34),o=1/0;e.exports=n},function(e,t,i){function n(e){return s(e)?r(e):o(e)}var r=i(110),o=i(125),s=i(36);e.exports=n},function(e,t,i){function n(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}var r=i(154),o=i(155),s=i(156),a=i(157),l=i(158);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=l,e.exports=n},function(e,t,i){function n(e,t){for(var i=e.length;i--;)if(r(e[i][0],t))return i;return-1}var r=i(35);e.exports=n},function(e,t,i){function n(e,t){var i=e.__data__;return r(t)?i["string"==typeof t?"string":"hash"]:i.map}var r=i(152);e.exports=n},function(e,t,i){var n=i(13),r=n(Object,"create");e.exports=r},function(e,t,i){(function(e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){function r(e,t){function i(e,t){try{e()}catch(e){t&&t()}}function o(e){if(null!=o[e])return o[e];var n;if("bug-string-char-index"==e)n="a"!="a"[0];else if("json"==e)n=o("json-stringify")&&o("date-serialization")&&o("json-parse");else if("date-serialization"==e){if(n=o("json-stringify")&&b){var r=t.stringify;i(function(){n='"-271821-04-20T00:00:00.000Z"'==r(new d(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==r(new d(864e13))&&'"-000001-01-01T00:00:00.000Z"'==r(new d(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==r(new d(-1))})}}else{var a,u='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var r=t.stringify,c="function"==typeof r;c&&((a=function(){return 1}).toJSON=a,i(function(){c="0"===r(0)&&"0"===r(new s)&&'""'==r(new l)&&r(_)===g&&r(g)===g&&r()===g&&"1"===r(a)&&"[1]"==r([a])&&"[null]"==r([g])&&"null"==r(null)&&"[null,null,null]"==r([g,_,null])&&r({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==u&&"1"===r(null,a)&&"[\n 1,\n 2\n]"==r([1,2],null,1)},function(){c=!1})),n=c}if("json-parse"==e){var h,p=t.parse;"function"==typeof p&&i(function(){0!==p("0")||p(!1)||(a=p(u),(h=5==a.a.length&&1===a.a[0])&&(i(function(){h=!p('"\t"')}),h&&i(function(){h=1!==p("01")}),h&&i(function(){h=1!==p("1.")})))},function(){h=!1}),n=h}}return o[e]=!!n}e||(e=u.Object()),t||(t=u.Object());var s=e.Number||u.Number,l=e.String||u.String,c=e.Object||u.Object,d=e.Date||u.Date,h=e.SyntaxError||u.SyntaxError,p=e.TypeError||u.TypeError,f=e.Math||u.Math,m=e.JSON||u.JSON;"object"==(void 0===m?"undefined":n(m))&&m&&(t.stringify=m.stringify,t.parse=m.parse);var g,y=c.prototype,_=y.toString,v=y.hasOwnProperty,b=new d(-0xc782b5b800cec);if(i(function(){b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}),o["bug-string-char-index"]=o["date-serialization"]=o.json=o["json-stringify"]=o["json-parse"]=null,!o("json")){var A=o("bug-string-char-index"),w=function(e,t){var i,r,o,s=0;(i=function(){this.valueOf=0}).prototype.valueOf=0,r=new i;for(o in r)v.call(r,o)&&s++;return i=r=null,s?w=function(e,t){var i,n,r="[object Function]"==_.call(e);for(i in e)r&&"prototype"==i||!v.call(e,i)||(n="constructor"===i)||t(i);(n||v.call(e,i="constructor"))&&t(i)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],w=function(e,t){var i,o,s="[object Function]"==_.call(e),l=!s&&"function"!=typeof e.constructor&&a[n(e.hasOwnProperty)]&&e.hasOwnProperty||v;for(i in e)s&&"prototype"==i||!l.call(e,i)||t(i);for(o=r.length;i=r[--o];l.call(e,i)&&t(i));}),w(e,t)};if(!o("json-stringify")&&!o("date-serialization")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},k=function(e,t){return("000000"+(t||0)).slice(-e)},C=function(e){var t,i,n,r,o,s,a,l,u;if(b)t=function(e){i=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDate(),s=e.getUTCHours(),a=e.getUTCMinutes(),l=e.getUTCSeconds(),u=e.getUTCMilliseconds()};else{var c=f.floor,d=[0,31,59,90,120,151,181,212,243,273,304,334],h=function(e,t){return d[t]+365*(e-1970)+c((e-1969+(t=+(t>1)))/4)-c((e-1901+t)/100)+c((e-1601+t)/400)};t=function(e){for(r=c(e/864e5),i=c(r/365.2425)+1970-1;h(i+1,0)<=r;i++);for(n=c((r-h(i,0))/30.42);h(i,n+1)<=r;n++);r=1+r-h(i,n),o=(e%864e5+864e5)%864e5,s=c(o/36e5)%24,a=c(o/6e4)%60,l=c(o/1e3)%60,u=o%1e3}}return(C=function(e){return e>-1/0&&e<1/0?(t(e),e=(i<=0||i>=1e4?(i<0?"-":"+")+k(6,i<0?-i:i):k(4,i))+"-"+k(2,n+1)+"-"+k(2,r)+"T"+k(2,s)+":"+k(2,a)+":"+k(2,l)+"."+k(3,u)+"Z",i=n=r=s=a=l=u=null):e=null,e})(e)};if(o("json-stringify")&&!o("date-serialization")){var x=function(e){return C(this)},T=t.stringify;t.stringify=function(e,t,i){var n=d.prototype.toJSON;d.prototype.toJSON=x;var r=T(e,t,i);return d.prototype.toJSON=n,r}}else{var S=function(e){var t=e.charCodeAt(0);return E[t]||"\\u00"+k(2,t.toString(16))},O=/[\x00-\x1f\x22\x5c]/g,P=function(e){return O.lastIndex=0,'"'+(O.test(e)?e.replace(O,S):e)+'"'},M=function e(t,r,o,s,a,l,u){var c,h,f,m,y,v,b,A,E;if(i(function(){c=r[t]}),"object"==(void 0===c?"undefined":n(c))&&c&&(c.getUTCFullYear&&"[object Date]"==_.call(c)&&c.toJSON===d.prototype.toJSON?c=C(c):"function"==typeof c.toJSON&&(c=c.toJSON(t))),o&&(c=o.call(r,t,c)),c==g)return c===g?c:"null";switch(h=void 0===c?"undefined":n(c),"object"==h&&(f=_.call(c)),f||h){case"boolean":case"[object Boolean]":return""+c;case"number":case"[object Number]":return c>-1/0&&c<1/0?""+c:"null";case"string":case"[object String]":return P(""+c)}if("object"==(void 0===c?"undefined":n(c))){for(b=u.length;b--;)if(u[b]===c)throw p();if(u.push(c),m=[],A=l,l+=a,"[object Array]"==f){for(v=0,b=c.length;v<b;v++)y=e(v,c,o,s,a,l,u),m.push(y===g?"null":y);E=m.length?a?"[\n"+l+m.join(",\n"+l)+"\n"+A+"]":"["+m.join(",")+"]":"[]"}else w(s||c,function(t){var i=e(t,c,o,s,a,l,u);i!==g&&m.push(P(t)+":"+(a?" ":"")+i)}),E=m.length?a?"{\n"+l+m.join(",\n"+l)+"\n"+A+"}":"{"+m.join(",")+"}":"{}";return u.pop(),E}};t.stringify=function(e,t,i){var r,o,s,l;if(a[void 0===t?"undefined":n(t)]&&t)if("[object Function]"==(l=_.call(t)))o=t;else if("[object Array]"==l){s={};for(var u,c=0,d=t.length;c<d;u=t[c++],("[object String]"==(l=_.call(u))||"[object Number]"==l)&&(s[u]=1));}if(i)if("[object Number]"==(l=_.call(i))){if((i-=i%1)>0)for(r="",i>10&&(i=10);r.length<i;r+=" ");}else"[object String]"==l&&(r=i.length<=10?i:i.slice(0,10));return M("",(u={},u[""]=e,u),o,s,r,"",[])}}}if(!o("json-parse")){var I,B,D=l.fromCharCode,F={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},R=function(){throw I=B=null,h()},L=function(){for(var e,t,i,n,r,o=B,s=o.length;I<s;)switch(r=o.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=A?o.charAt(I):o[I],I++,e;case 34:for(e="@",I++;I<s;)if((r=o.charCodeAt(I))<32)R();else if(92==r)switch(r=o.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=F[r],I++;break;case 117:for(t=++I,i=I+4;I<i;I++)(r=o.charCodeAt(I))>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=70||R();e+=D("0x"+o.slice(t,I));break;default:R()}else{if(34==r)break;for(r=o.charCodeAt(I),t=I;r>=32&&92!=r&&34!=r;)r=o.charCodeAt(++I);e+=o.slice(t,I)}if(34==o.charCodeAt(I))return I++,e;R();default:if(t=I,45==r&&(n=!0,r=o.charCodeAt(++I)),r>=48&&r<=57){for(48==r&&(r=o.charCodeAt(I+1))>=48&&r<=57&&R(),n=!1;I<s&&(r=o.charCodeAt(I))>=48&&r<=57;I++);if(46==o.charCodeAt(I)){for(i=++I;i<s&&(r=o.charCodeAt(i))>=48&&r<=57;i++);i==I&&R(),I=i}if(101==(r=o.charCodeAt(I))||69==r){for(r=o.charCodeAt(++I),43!=r&&45!=r||I++,i=I;i<s&&(r=o.charCodeAt(i))>=48&&r<=57;i++);i==I&&R(),I=i}return+o.slice(t,I)}n&&R();var a=o.slice(I,I+4);if("true"==a)return I+=4,!0;if("fals"==a&&101==o.charCodeAt(I+4))return I+=5,!1;if("null"==a)return I+=4,null;R()}return"$"},j=function e(t){var i,n;if("$"==t&&R(),"string"==typeof t){if("@"==(A?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(i=[];"]"!=(t=L());)n?","==t?"]"==(t=L())&&R():R():n=!0,","==t&&R(),i.push(e(t));return i}if("{"==t){for(i={};"}"!=(t=L());)n?","==t?"}"==(t=L())&&R():R():n=!0,","!=t&&"string"==typeof t&&"@"==(A?t.charAt(0):t[0])&&":"==L()||R(),i[t.slice(1)]=e(L());return i}R()}return t},H=function(e,t,i){var n=N(e,t,i);n===g?delete e[t]:e[t]=n},N=function(e,t,i){var r,o=e[t];if("object"==(void 0===o?"undefined":n(o))&&o)if("[object Array]"==_.call(o))for(r=o.length;r--;H(o,r,i));else w(o,function(e){H(o,e,i)});return i.call(e,t,o)};t.parse=function(e,t){var i,n;return I=0,B=""+e,i=j(L()),"$"!=L()&&R(),I=B=null,t&&"[object Function]"==_.call(t)?N((n={},n[""]=i,n),"",t):i}}}return t.runInContext=r,t}var o=null,s="function"==typeof o&&o.amd,a={function:!0,object:!0},l=a[n(t)]&&t&&!t.nodeType&&t,u=a["undefined"==typeof window?"undefined":n(window)]&&window||this,c=l&&a[n(e)]&&e&&!e.nodeType&&"object"==(void 0===i?"undefined":n(i))&&i;if(!c||c.global!==c&&c.window!==c&&c.self!==c||(u=c),l&&!s)r(u,l);else{var d=u.JSON,h=u.JSON3,p=!1,f=r(u,u.JSON3={noConflict:function(){return p||(p=!0,u.JSON=d,u.JSON3=h,d=h=null),f}});u.JSON={parse:f.parse,stringify:f.stringify}}s&&o(function(){return f})}).call(void 0)}).call(t,i(24)(e),function(){return this}())},function(e,t,i){function n(e){return"symbol"==typeof e||o(e)&&r(e)==s}var r=i(19),o=i(17),s="[object Symbol]";e.exports=n},function(e,t){function i(e,t){return e===t||e!==e&&t!==t}e.exports=i},function(e,t,i){function n(e){return null!=e&&o(e.length)&&!r(e)}var r=i(56),o=i(44);e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(58),o=n(r),s=i(1),a=i(14),l=n(a),u=i(2),c=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=document.getElementsByTagName("script"),n=0;n<i.length;n++){var r=i[n],o=r.getAttribute("src")||"";if(t.ignoreQueryParams){var s=o.split("?"),a=s[0];s[1],o=a}if(t.ignoreProtocol&&(o=o.replace(/^https?:/,""),e=e.replace(/^https?:/,"")),t.testStartsWith){if(0===o.indexOf(e))return r}else if(o===e)return r}return null},d=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};null==i&&(i=8e3),null==n&&(n={});var r=new o.default,s=new o.default,a=void 0,u=void 0;!0===n.once&&(a=c(e))?u=!0:(a=document.createElement("script"),a.src=e,a.async=!0,a.type="text/javascript");var d=a.id=n.id||(0,l.default)(),h=null,p=!1,f=function(){a.onerror=a.onreadystatechange=a.onload=null,clearTimeout(h),clearTimeout(y),h=setTimeout(function(){var e=void 0;(e=document.getElementById(d))&&e.parentNode.removeChild(e)},500)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return function(i){p=!0,"function"==typeof t&&t(),r(!0,"failed",e),f(),s.go()}},g=function(){var e=a.readyState;p||e&&!/loaded|complete/.test(e)||(p=!0,setTimeout(function(){"function"==typeof t&&t(),r(!0,"success"),f()},1))},y=setTimeout(m("timeout"),i),_=m();return a.onerror=_,a.onreadystatechange=g,a.onload=g,n.once&&u?a.readyState&&!/loaded|complete/.test(a.readyState)||setTimeout(g,1):(document.body||document.head).appendChild(a),{loaded:r,error:function(){return s}}},h=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t[0]instanceof Array){var n=t[1];t=t[0],n&&(t=t.concat(n))}t=p(t);for(var r=0;r<t.length;r++){var a=t[r];a.src&&a.preloadAllowed&&d(a.src,null,null,a)}for(var l=[],u=[],c=0;c<t.length;c++){var h=t[c],f=new o.default,m=new o.default;!function(e,t,i){o.default.when.apply(o.default,l).run(function(){if(e.fn){var n=function(){try{e.fn()}catch(e){s.wlog.error(e)}finally{t.go(),i.go()}};e.async?setTimeout(n,1):n()}else if(e.src){var r=function(){d(e.src,null,null,e).loaded(function(e){i.go(),t.go()})};e.async?(setTimeout(r,1),t.go()):setTimeout(r,1)}})}(h,f,m),l.push(f),u.push(m)}return{loaded:o.default.when.apply(o.default,u)}},p=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];"string"==typeof n?t.push({src:n,async:!1}):(0,u.isObject)(n)?t.push(n):t.push({fn:n,async:!1})}return t};e.exports={findScriptInDomBySrc:c,scriptInputsToHash:p,runScript:d,runScripts:h}},function(e,t){function i(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=i},function(e,t,i){var n;n=function(e){var t;return null==e&&(e="app"),t=e?e+".wistia.com":"wistia.com"},e.exports=n},function(e,t,i){var n=i(13),r=i(8),o=n(r,"Map");e.exports=o},function(e,t,i){function n(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}var r=i(159),o=i(160),s=i(161),a=i(162),l=i(163);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=l,e.exports=n},function(e,t,i){function n(e,t){if(r(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!o(e))||a.test(e)||!s.test(e)||null!=t&&e in Object(t)}var r=i(7),o=i(34),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=n},function(e,t){function i(e){var t=-1,i=Array(e.size);return e.forEach(function(e){i[++t]=e}),i}e.exports=i},function(e,t){function i(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}var n=9007199254740991;e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i,n){var r="?";t=t||{};for(var o in t)"callback"!=o&&t.hasOwnProperty(o)&&(r+=encodeURIComponent(o)+"="+encodeURIComponent(t[o])+"&");p.info(e,r,n);var a,h;if(n&&n.once&&(a=(e+r).replace(/\.json[^p]/,".jsonp"),h=(0,c.findScriptInDomBySrc)(a,{ignoreProtocol:!0,testStartsWith:!0})),h){var f=new u.Url(a),m="wistiajsonp-"+f.relative();p.info("script already in DOM",a,"polling",m),(0,d.poll)(function(){return p.info("found",m,"on root object"),null!=s.default[m]},function(){i(s.default[m])},50,3e4)}else{var g;g=t&&t.callback?t.callback:"wistiajson"+ ++l.default._jsonpCounter,p.info("defining on root:",g),s.default[g]=function(e){i(e);try{delete s.default[g]}catch(e){}s.default[g]=null};var y=e+r+"callback="+g;p.info("runScript",y),(0,c.runScript)(y)}return g}var o=i(20),s=n(o),a=i(3),l=n(a),u=i(16),c=i(37),d=i(23),h=i(1),p=h.wlog.getPrefixedFunctions("jsonp");null==l.default._jsonpCounter&&(l.default._jsonpCounter=0);var f=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n.timeout||(n.timeout=5e3),n.onerror||(n.onerror=function(){});var o=setTimeout(n.onerror,n.timeout);r(e,t,function(e){clearTimeout(o),i&&i(e)},{once:n.once})};e.exports={jsonp:r,jsonpPlus:f}},function(e,t,i){function n(e,t){return(a(e)?r:o)(e,s(t,3))}var r=i(65),o=i(113),s=i(93),a=i(7);e.exports=n},function(e,t,i){(function(t){!function(i,n){function r(e,t){return(typeof t)[0]==e}function o(e,t){return t=function a(l,u,c,d,h,p){function f(e){return function(t){h&&(h=0,a(r,e,t))}}if(d=a.q,l!=r)return o(function(e,t){d.push({p:this,r:e,j:t,1:l,0:u})});if(c&&r(i,c)|r(n,c))try{h=c.then}catch(e){u=0,c=e}if(r(i,h))try{h.call(c,f(1),u=f(0))}catch(e){u(e)}else for(t=function(t,n){return r(i,t=u?t:n)?o(function(e,i){s(this,e,i,c,t)}):e},p=0;p<d.length;)h=d[p++],r(i,l=h[u])?s(h.p,h.r,h.j,c,l):(u?h.r:h.j)(c)},t.q=[],e.call(e={then:function(e,i){return t(e,i)},catch:function(e){return t(0,e)}},function(e){t(r,1,e)},function(e){t(r,0,e)}),e}function s(e,o,s,a,l){t(function(){try{a=l(a),l=a&&r(n,a)|r(i,a)&&a.then,r(i,l)?a==e?s(TypeError()):l.call(a,o,s):o(a)}catch(e){s(e)}})}function a(e){return o(function(t){t(e)})}e.exports=o,o.resolve=a,o.reject=function(e){return o(function(t,i){i(e)})},o.all=function(e){return o(function(t,i,n,r){r=[],n=e.length||t(r),e.map(function(e,o){a(e).then(function(e){r[o]=e,--n||t(r)},i)})})},o.race=function(e){return o(function(t,i){e.map(function(e){a(e).then(t,i)})})}}("f","o")}).call(t,i(206).setImmediate)},function(e,t){function i(e){return e}e.exports=i},function(e,t,i){function n(e,t){return r(e)?e:o(e,t)?[e]:s(a(e))}var r=i(7),o=i(42),s=i(177),a=i(183);e.exports=n},function(e,t){"use strict";function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;e.exports=n()?Object.assign:function(e,t){for(var n,a,l=i(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(l[c]=n[c]);if(r){a=r(n);for(var d=0;d<a.length;d++)s.call(n,a[d])&&(l[a[d]]=n[a[d]])}}return l}},function(e,t,i){"use strict";var n=i(6),r=i(4),o=i(16),s=i(11),a=i(10),l=(0,n.cachedDetect)(),u=(0,o.proto)()+"//"+(0,a.cdnFastWistiaComHost)()+"/assets/images/blank.gif",c=function(e,t,i){var n={tagName:"video",id:e,crossorigin:"anonymous",style:{background:"transparent",display:"block",height:"100%",position:"static",visibility:"visible",width:"100%"},preload:"none",type:d(t,i)};i.poster?n.poster=i.poster:n.poster=u,i.playsinline&&(n.playsinline="playsinline"),i.muted&&(n.muted="muted"),i.loop&&(n.loop="loop"),i.controls&&(n.controls="controls"),i.preload&&(n.preload=i.preload),(l.browser.msie||l.trident)&&(n.style.minWidth="10px",n.style.minHeight="10px");var o={tagName:"source",src:g(t.url),type:d(t,i)};return n.childNodes=[o],(0,r.elemFromObject)(n)},d=function(e,t){if(null!=t.contentType)return t.contentType;var i="video/"+e.ext;return t.spherical&&(i+=";dimension=360;"),i},h=function(e){if((0,s.isBakeryUrl)(e)){var t=new o.Url(e);if(t.protocol)return t.protocol+"//"+t.host}return(0,o.proto)()+"//"+(0,a.deliveryHost)((0,o.proto)())},p=function(e){return h(e)+"/tiny.mp4"},f=function(e){if(null==e)return null;for(var t=0,i=0;i<e.length;i++)t+=e.end(i)-e.start(i);return t},m=function(e,t,i){var n,r,o,s,a,l=[];for(e.sort(function(e,t){return e.start-t.start||t.end-e.end}),a=0;a<e.length;a++){var u=l.length;if(u){var c=l[u-1].end;e[a].start-c<i?e[a].end>c&&(l[u-1].end=e[a].end):l.push(e[a])}else l.push(e[a])}for(a=0,n=0,r=o=t;a<l.length;a++){var d=l[a].start,h=l[a].end;if(t+i>=d&&t<h)r=d,o=h,n=o-t;else if(t+i<d){s=d;break}}return{len:n,start:r,end:o,nextStart:s}},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mp4";return(0,s.isBakeryUrl)(e)&&/\.bin$/.test(e)?e.replace(/\.bin$/,"")+"/file."+t:e};e.exports={createElement:c,inferTypeAttribute:d,srcProtocolAndHost:h,tinyMp4Url:p,sumTimeRanges:f,bufferedInfo:m,properAssetUrl:g}},function(e,t,i){"use strict";var n=i(4),r=i(53),o=function(e){return null!=e.attributes.trimStart&&e.attributes.trimStart>0},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e)&&e.video.currentTime<e.attributes.trimStart-t},a=function(e){return null!=e.attributes.trimEnd&&e.attributes.trimEnd>0},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a(e)&&e.video.currentTime>e.attributes.trimEnd+t},u=function(e){e.video,r.globalEventLoop.add(e.uuid+".enforce_trimming",100,function(){c(e)})},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;"beforeplay"!==e.getPlaybackMode()&&(e.state.fakeEnded&&!l(e)?e.state.fakeEnded=!1:!e.state.fakeEnded&&l(e)&&(e.state.fakeEnded=!0,e.attributes.loop?(e.trigger("ended"),e.seek(0).then(function(){return e.play()})):(e.pause(),e.trigger("ended"))),s(e,t)?e.seek(0):l(e,t)&&e.seek(e.getDuration()))},d=function(e,t){var i=t.start,n=t.end,r=null!=t.sensitivity?t.sensitivity:.1;null!=i&&i>=0&&(e.attributes.trimStart=t.start),null!=n&&n>=0&&(e.attributes.trimEnd=t.end),u(e,r)},h=function(e){return{start:e.attributes.trimStart||-1,end:e.attributes.trimEnd||-1}},p=function(e){r.globalEventLoop.remove(e.uuid+".enforce_trimming")};e.exports={getTrim:h,isStartDefined:o,isEndDefined:a,isBeforeStart:s,isAfterEnd:l,enforceTrimming:u,setTrim:d,teardown:p}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(4),o=i(1),s=i(3),a=n(s),l=o.wlog.getPrefixedFunctions("event_loop"),u=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._timeoutId=null,this._latency=null!=t.latency?t.latency:100,this._blurLatency=null!=t.blurLatency?t.blurLatency:2e3,this._functions={},this._paused={},(0,r.elemBind)(window,"blur",function(){return e.blur()}),(0,r.elemBind)(window,"focus",function(){return e.focus()}),this.start()},c=u.prototype;c.start=function(){var e=this;clearTimeout(this._timeoutId),this._loopFn=this._loopFn||function(){e.runFunctions(),e._timeoutId=setTimeout(e._loopFn,e._latency)},this._loopFn()},c.resync=function(){this.start()},c.resyncNextTick=function(){var e=this;setTimeout(function(){e.resync()},0)},c.stop=function(){clearTimeout(this._timeoutId)},c.clear=function(){this._functions={}},c.runFunctions=function(){this._pausedDirty&&this.updatePaused();var e=[];for(var t in this._functions){var i=this._functions[t],n=(new Date).getTime(),r=n-i.lastRanAt;if(!i.paused&&r>=i.interval){i.lastRanAt=n;try{i.fn()===this.remove&&e.push(t)}catch(e){l.error(e)}}}for(var o=0;o<e.length;o++)this.remove(e[o])},c.add=function(e,t,i){var n=(new Date).getTime();this._functions[e]={addedAt:n,lastRanAt:-1,interval:t,fn:i};var r=i();this._functions[e]&&(this._functions[e].lastRanAt=(new Date).getTime()),this._functions[e]&&r===this.remove?delete this._functions[e]:this._pausedDirty=!0},c.remove=function(e){var t=this;this.forEachMatchingKey(e,function(e){delete t._functions[e]})},c.forEachMatchingKey=function(e,t){for(var i in this._functions){var n=this._functions[i];this.key1IncludesKey2(e,i)&&t(i,n)}},c.latency=function(e){if(null==e)return this._latency;this._latency=e},c.interval=function(e,t){if(null==t)return this._functions[e].interval;null==this._functions[e]?l.notice("setting interval of ",e,"to",t,"failed because",e,"is not defined"):this._functions[e].interval=t},c.pause=function(e){this._paused[e]=!0,this._pausedDirty=!0},c.unpause=function(e){this._paused[e]=!1,this._pausedDirty=!0},c.isPaused=function(e){for(var t in this.paused)if(this._paused[t]&&this.key1IncludesKey2(t,e))return!0;return!1},c.updatePaused=function(){for(var e in this._functions)this._functions[e].paused=this.isPaused(e);this._pausedDirty=!1},c.key1IncludesKey2=function(e,t){return"function"==typeof t.indexOf&&0===t.indexOf(e)&&(t.length===e.length||"."===t.charAt(e.length))},c.blur=function(){this._blurred||(this._blurred=!0,this._savedLatency=this._latency,this._latency=this._blurLatency)},c.focus=function(){this._blurred&&(this._blurred=!1,this._latency=this._savedLatency,this.resync())},null==a.default.eventLoop&&(a.default.eventLoop=new u({latency:100,blurLatency:100}));var d=a.default.eventLoop;e.exports={EventLoop:u,globalEventLoop:d}},function(e,t,i){
function n(e,t){t=r(t,e);for(var i=0,n=t.length;null!=e&&i<n;)e=e[o(t[i++])];return i&&i==n?e:void 0}var r=i(49),o=i(27);e.exports=n},function(e,t,i){var n=i(119),r=i(17),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},function(e,t,i){function n(e){if(!o(e))return!1;var t=r(e);return t==a||t==l||t==s||t==u}var r=i(19),o=i(15),s="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=i(2),s=i(16),a=i(6),l=i(37),u=i(1),c=i(14),d=n(c),h=i(45),p=i(18),f=i(33),m=n(f),g=(0,a.cachedDetect)(),y=u.wlog.getPrefixedFunctions("ajax"),_={type:"GET",contentType:"",headers:void 0,data:void 0,dataType:void 0,timeout:0,success:void 0,error:void 0,complete:void 0},v=function(e,t){return t=(0,o.merge)({},t,{type:"GET",data:void 0}),w(e,t)},b=function(e,t){return t=(0,o.merge)({},t,{type:"HEAD",data:void 0}),w(e,t)},A=function(e,t){var i={contentType:"application/x-www-form-urlencoded"},n={type:"POST"};return t=(0,o.merge)(i,t,n),w(e,t)},w=function(e,t){y.info("ajax",e,t);var i=(0,o.merge)({},_,t),n=new s.Url(e);n.protocol=n.protocol||(0,s.proto)();var a=!!(g.browser.msie&&g.browser.version<11),u=(0,s.proto)()!==n.protocol;if(y.info("noHttpToHttpsSupport",a,"isHttpToHttps",u),i.fallbackToJsonp&&u&&a){if(y.info("fallbackToJsonp"),i.type&&!/get/i.test(i.type))return void((0,o.isFunction)(i.error)&&i.error.call(null,null,"error","This browser does not support POST requests from an http to an https domain. To use this feature, please make sure this page is loaded over https."));var c=n.params;i.data&&(0,o.isObject)(i.data)&&(c=(0,o.merge)(c,i.data)),i.jsonpCallback&&(c.callback=i.jsonpCallback),n.params={};var f=(0,l.findScriptInDomBySrc)(n.absolute(),{ignoreProtocol:!0,testStartsWith:!0});f&&(y.info("found existing script, removing",n.absolute()),f.onload=f.onreadystatechange=f.onerror=null,f.parentNode&&f.parentNode.removeChild(f));var v=(0,d.default)("ajax-jsonp.");(0,h.jsonp)(n.absolute(),c,function(e){if((0,p.clearTimeouts)(v),"json"===i.dataType&&"string"==typeof e)try{var t=m.default.parse(e);i.success(t,"OK",e),i.complete(null,"OK")}catch(t){i.error(null,"parseerror",e),i.complete(null,e)}else i.success(e,"OK")}),(0,p.doTimeout)(v,function(){i.error(null,"timeout"),y.warn("request timed out:",n.absolute(),c)},6e4)}var b=n.absolute(),A=k(b);if(!A)return(0,o.isFunction)(i.error)&&i.error.call(null,A,"error","Could not create XMLHttpRequest"),void((0,o.isFunction)(i.complete)&&i.complete.call(null,A,"error"));var w=null!=window.XDomainRequest&&A instanceof window.XDomainRequest,E=!1,C=!1,x=function(e,t,n){E||(0,o.isFunction)(i.error)&&i.error.call(null,e,t,n),E=!0},T=function(e,t,n){(0,o.isFunction)(i.success)&&(E||i.success.call(null,e,t,n)),E=!0},S=function(e,t){(0,o.isFunction)(i.complete)&&(C||i.complete.call(null,e,t)),e.onerror=e.ontimeout=e[w?"onload":"onreadystatechange"]=null,C=!0};y.info("xhr.open",i.type,b),A.open(i.type,b,!0);var O=function(){if(null!=A.status&&(A.status>=200&&A.status<300||304==A.status))if("json"==i.dataType&&"object"!==r(A.response))try{var e=m.default.parse(A.responseText);y.info("success",A.statusText,e),T(e,A.statusText,A)}catch(e){x(A,"parseerror",e),y.warn("parseerror"),y.warn(e)}else T(A.response||A.responseText,A.statusText,A),y.info("success",A.statusText,A.response||A.responseText);else x(A,"error",A.statusText),y.warn("error",A.statusText);S(A,A.statusText),y.info("complete",A.statusText)},P=function(e,t){x(A,e,t),S(A,e)};if(i.timeout&&(A.timeout=i.timeout),null!=i.dataType&&(A.responseType=i.dataType),(0,o.isFunction)(A.setRequestHeader)&&(i.contentType&&A.setRequestHeader("Content-Type",i.contentType),i.headers))for(var M in i.headers)A.setRequestHeader(M,i.headers[M]);if(i.withCredentials&&(A.withCredentials=!0),w){if(y.info("isXDomainObject"),null!=i.headers)return P("error","custom headers disallowed for XDomainRequest");A.onload=function(){y.info("XDomainObject onload"),A.status=200,A.statusText="OK",O()},A.onerror=function(){return P("error","error")},A.ontimeout=function(){return P("timeout","timeout")}}else A.onreadystatechange=function(){y.info("xhr onreadystatechange",A.readyState),4==A.readyState&&O()},A.onerror=function(){return P("error","error")},A.ontimeout=function(){return P("timeout","timeout")};return y.info("xhr.send",i.data),A.send(i.data),A},E=[function(){var e=void 0,t=void 0;return function(i){if(null!=window.XDomainRequest){null==e&&(e=window.location.href),null==t&&(t=new s.Url(e.toLowerCase()));var n=new s.Url(i.toLowerCase()),r=!1;return r||(r=t.protocol!=n.protocol),r||(r=t.host!=n.host),r?new window.XDomainRequest:null}}}(),function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],k=function(e){for(var t=void 0,i=0;i<E.length;i++){var n=E[i];try{t=n(e)}catch(e){continue}if(t)break}return t};e.exports={AJAX_DEFAULTS:_,ajax:w,ajaxGet:v,ajaxHead:b,ajaxPost:A}},function(e,t){var i,n=[].slice;i=function(){function e(){return this._queue=[],this._green=!1,this._lock=!1,this.allInOne=function(e){return function(){return e._allInOne.apply(e,arguments)}}(this),this.defineMethodsOn(this.allInOne),this.allInOne}return e.prototype.defineMethodsOn=function(e){var t,i,n,r,o;t={},n=this,r=[];for(i in n)o=n[i],r.push(function(i){return function(i,n,r){if("[object Function]"===t.toString.call(n))return e[i]=function(){return r[i].apply(r,arguments)}}}()(i,o,this));return r},e.prototype.flush=function(){var e,t;if(e=1<=arguments.length?n.call(arguments,0):[],!this._green)return this;for(this._lock=!0;this._queue.length>0&&(t=this._queue.shift(),e.length||!this.goArgs?this.tryAndReport(function(){return t.apply(null,e)}):this.tryAndReport(function(e){return function(){return t.apply(null,e.goArgs)}}(this)),!this._block&&this._green););return this._lock=!1,this},e.prototype._debug=function(){return"undefined"!=typeof console&&null!==console?console.log.apply(console,arguments):void 0},e.prototype.synchronize=function(){var e,t,i,r;for(t=1<=arguments.length?n.call(arguments,0):[],i=0,r=t.length;i<r;i++)e=t[i],this.synchronizeFn(e);return this},e.prototype.synchronizeFn=function(e){var t,i,n;return i=null,t=function(e){return function(){return clearTimeout(i),e._block=!1,e.go()}}(this),n=function(i){return function(){return i._block=!0,i.stop(),e(t)}}(this),i=setTimeout(function(i){return function(){return i._debug("StopGo#synchronize timed out",e),t()}}(this),5e3),this.runFn(n),this},e.prototype.tryAndReport=function(e){var t;try{return e()}catch(e){return t=e,t.stack?("undefined"!=typeof console&&null!==console&&console.log(t.message),"undefined"!=typeof console&&null!==console?console.log(t.stack):void 0):"undefined"!=typeof console&&null!==console?console.log(t):void 0}},e.prototype.clearSynchronized=function(){return this.setQueue([]),this._block=!1,this._green=!0},e.prototype.filter=function(e){var t;return this._queue=function(){var i,n,r,o;for(r=this._queue,o=[],i=0,n=r.length;i<n;i++)t=r[i],e(t)&&o.push(t);return o}.call(this),this},e.prototype.push=function(e){return this._queue.push(e),this},e.prototype.go=function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._green=!0,this.goArgs=e,this.flush.apply(this,e),this},e.prototype.stop=function(){return this._green=!1,this},e.prototype.run=function(){var e,t,i,r;for(t=1<=arguments.length?n.call(arguments,0):[],i=0,r=t.length;i<r;i++)e=t[i],this.runFn(e);return this},e.prototype.then=function(){return this.run.apply(this,arguments)},e.prototype.runFn=function(e){return this._green&&!this._block?this._lock?this.tryAndReport(e):(this.push(e),this.flush()):this.push(e),this},e.prototype.remove=function(){var e,t,i,r;for(t=1<=arguments.length?n.call(arguments,0):[],i=0,r=t.length;i<r;i++)e=t[i],this.removeFn(e);return this},e.prototype.removeFn=function(e){return this.filter(function(t){return e!==t}),this},e.prototype.setQueue=function(e){return this._queue=e,this},e.prototype.getQueue=function(){return this._queue},e.prototype._allInOne=function(){var e,t;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],!0===e?this.go.apply(this,t):!1===e?this.stop():null!=e?e instanceof Array?this.run.apply(this,e):"string"==typeof e?this[e].apply(this,t):this.run.apply(this,arguments):this._green},e}(),i.when=function(){var e,t,r,o,s,a,l,u;for(u=1<=arguments.length?n.call(arguments,0):[],a=new i,r=function(){return a.go.apply(a,arguments)},s=u.reverse(),e=function(e,t){return r=function(){return t(function(){return e.apply(null,arguments)})}},t=0,o=s.length;t<o;t++)l=s[t],e(r,l);return r(),a},e.exports=i},function(e,t,i){var n,r,o,s,a,l,u,c,d,h,p;d=i(12),l=d.createStore,n=d.applyMiddleware,a=i(338).default,p=i(361),s=i(360),h=function(e){return!1},o=function(e){var t;return null==e&&(e={}),t=l(a(),n(p),n(s({predicate:function(t,i){return h(e)}}))),t.asyncReducers={},t},c=function(e,t,i){return e.asyncReducers[t]=reducer,e.replaceReducer(a(e.asyncReducers))},u=function(e){var t;return null==window.__wistiaStores&&(window.__wistiaStores={}),null==(t=window.__wistiaStores)[e]&&(t[e]=o()),window.__wistiaStores[e]},r=function(){return window.__wistiaStores={}},e.exports={store:u(1),getStoreForPlayerInstance:u,injectAsyncReducer:c,clearStores:r}},function(e,t,i){function n(e,t,i,s,a){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:r(e,t,i,s,n,a))}var r=i(120),o=i(17);e.exports=n},function(e,t,i){var n=i(75),r=i(196),o=i(197),s=i(36),a=i(77),l=i(28),u=Object.prototype,c=u.hasOwnProperty,d=o(function(e,t){if(a(t)||s(t))return void r(t,l(t),e);for(var i in t)c.call(t,i)&&n(e,i,t[i])});e.exports=d},function(e,t,i){var n=i(13),r=i(8),o=n(r,"Set");e.exports=o},function(e,t,i){function n(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new r;++t<i;)this.add(e[t])}var r=i(41),o=i(169),s=i(170);n.prototype.add=n.prototype.push=o,n.prototype.has=s,e.exports=n},function(e,t,i){function n(e){var t=this.__data__=new r(e);this.size=t.size}var r=i(29),o=i(171),s=i(172),a=i(173),l=i(174),u=i(175);n.prototype.clear=o,n.prototype.delete=s,n.prototype.get=a,n.prototype.has=l,n.prototype.set=u,e.exports=n},function(e,t){function i(e,t){for(var i=-1,n=null==e?0:e.length,r=0,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[r++]=s)}return o}e.exports=i},function(e,t){function i(e,t){return e.has(t)}e.exports=i},function(e,t,i){function n(e,t,i,n,u,c){var d=i&a,h=e.length,p=t.length;if(h!=p&&!(d&&p>h))return!1;var f=c.get(e);if(f&&c.get(t))return f==t;var m=-1,g=!0,y=i&l?new r:void 0;for(c.set(e,t),c.set(t,e);++m<h;){var _=e[m],v=t[m];if(n)var b=d?n(v,_,m,t,e,c):n(_,v,m,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(y){if(!o(t,function(e,t){if(!s(y,t)&&(_===e||u(_,e,i,n,c)))return y.push(t)})){g=!1;break}}else if(_!==v&&!u(_,v,i,n,c)){g=!1;break}}return c.delete(e),c.delete(t),g}var r=i(63),o=i(112),s=i(66),a=1,l=2;e.exports=n},function(e,t){(function(t){var i="object"==typeof t&&t&&t.Object===Object&&t;e.exports=i}).call(t,function(){return this}())},function(e,t,i){function n(e){return e===e&&!r(e)}var r=i(15);e.exports=n},function(e,t){function i(e,t){return function(i){return null!=i&&i[e]===t&&(void 0!==t||e in Object(i))}}e.exports=i},function(e,t){function i(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var n=Function.prototype,r=n.toString;e.exports=i},function(e,t,i){(function(e){var n=i(8),r=i(182),o="object"==typeof t&&t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o,l=a?n.Buffer:void 0,u=l?l.isBuffer:void 0,c=u||r;e.exports=c}).call(t,i(24)(e))},function(e,t,i){var n=i(124),r=i(132),o=i(167),s=o&&o.isTypedArray,a=s?r(s):n;e.exports=a},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(295),o=n(r),s=i(316),a=n(s),l=i(293),u=n(l),c=i(326),d=n(c),h=i(287),p=n(h),f={closeAllMenus:function(){return function(e){e(a.default.actions.default.setIsMenuOpen(!1)),e(o.default.actions.default.setIsMenuOpen(!1)),e(o.default.actions.default.setIsEmbedCodeCopierOpen(!1)),e(u.default.actions.default.setIsMenuOpen(!1)),e(d.default.actions.default.setIsMenuOpen(!1)),e(p.default.actions.setIsMenuOpen(!1))}}};t.default=f},function(e,t,i){function n(e,t,i){var n=e[t];a.call(e,t)&&o(n,i)&&(void 0!==i||t in e)||r(e,t,i)}var r=i(82),o=i(35),s=Object.prototype,a=s.hasOwnProperty;e.exports=n},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}var o=i(20),s=r(o),a=i(219),l=r(a),u=i(11),c=n(u),d=i(3),h=r(d),p=i(2),f=r(p),m=i(80),g="vulcan",y="html5",_="simplehtml5",v="flash",b="external",A="notplayable",w="passwordprotected",E="auto",k=[g,y,"simplehtml5",v,"external","notplayable","passwordprotected"],C="nativeHlsVideo",x="hlsVideo",T="manualQualityVideo",S="twoStrokeVideo",O=["manualQualityVideo","nativeHlsVideo","hlsVideo","twoStrokeVideo"],P=void 0,M=function(){if(P)return P;var e=i(6),t=e.cachedDetect,n=i(1),r=n.wlog;return r=r.getPrefixedFunctions("judy"),P={location:window.location,logger:r,pageUrl:location.href,detect:f.default.clone(t()),userAgent:navigator.userAgent,silenceGlobalWarnings:s.default.wistiaSilenceGlobalWarnings,inIframe:top!==self}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.default.assign({},M(),e)},B=function(e,t,i){var n=e.logger,r=t.assets,o=i.force;n.info("choosePlayer input",t.hashedId);var s=U(e,t,i);return o&&!F(e,o)&&(n.error('Invalid force option: "'+o+'", ignoring'),o=null),s&&"auto"!==s&&!F(e,s)&&(n.error('Invalid playerPreference option: "'+s+'", ignoring'),s="auto"),n.info("playerPreference is",s),o?(n.info('"force" used, return',o),o):z(e,i)?(n.info("return","passwordprotected"),"passwordprotected"):Q(e,t)?(n.info("return","notplayable"),"notplayable"):"auto"!==s&&R(e,s,r)?(n.info('"playerPreference" used, return',s),s):(n.info("choosing player with no preference"),D(e,t,i))},D=function(e,t,i){var n=e.location,r=e.detect,o=e.logger,s=e.inIframe,a=(t.spherical||i.spherical)&&!i.overrideSpherical,l=t.assets;return r.oldandroid?(o.info("oldandroid"),R(e,v,l)&&"https:"===n.protocol?(o.info("flash on old android"),v):(o.info("external on old android"),"external")):r.ios.version>0||r.android?R(e,g,l)&&(a||!s&&i.playsinline&&L(e))?(o.info("vulcan on mobile"),g):(o.info("html5 on mobile"),y):R(e,g,l)?(o.info("default, ret",g),g):R(e,v,l)?(o.info("default, ret",v),v):R(e,y,l)?(o.info("default, ret",y),y):G(e)?(o.info("no fallback from flash, return",v),v):(o.info("nothing left, use","external"),"external")},F=function(e,t){return(0,l.default)(k,t)>=0},R=function(e,t,i){return N(e,t)&&V(e,t,i)},L=function(e){var t=e.detect;return t.android||t.ios.version>=10},j=function(e,t){for(var i=[],n=H(e),r=0;r<n.length;r++){var o=n[r];R(e,o,t)&&i.push(o)}return i},H=function(e){var t=e.detect,i=["notplayable","passwordprotected","external"];return t.vulcanSupport?i.push(g):(t.iphone||t.ipad||t.android)&&i.push(g),t.video.h264&&i.push(y),t.flash.version>=9&&i.push(v),i},N=function(e,t){return!!F(e,t)&&(0,l.default)(H(e),t)>=0},V=function(e,t,i){if(!F(e,t))return!1;if("notplayable"===t||"passwordprotected"===t)return!0;if(t===g)return c.readyPublicMp4s(i).length>0||c.readyPublicM3u8s(i).length>0;if(t===y)return c.readyPublicMp4s(i).length>0;if(t===v)return c.readyPublicFlvs(i).length>0||c.readyPublicMp4s(i).length>0;if("external"===t)return c.readyPublicMp4s(i).length>0;throw new Error("Unhandled player type '"+t+"'")},U=function(e,t,i){var n=i.playerPreference||i.platformPreference;return n&&"auto"!==n?n===y?W(e)?y:g:"simplehtml5"===n?y:n:"auto"},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:context,t=e.detect;return t.iphone||t.ipad||t.android},z=function(e,t){var i=f.default.get(t,"plugin.passwordProtectedVideo");return null!=i&&!1!==i.on},Q=function e(t,i){var n=i.assets;return 0===n.length||1===n.length&&"original"===n[0].type||0==c.readyPublicMp4sAndFlvs(n).length||c.nonfailedPublicOver400(n).length>0&&0===c.readyPublicOver400(n).length||i.secondaryMediaData&&e(t,i.secondaryMediaData)},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:context,t=e.detect;return t.browser.msie&&(t.browser.version<9||t.browser.quirks)||t.browser.mozilla},Y=function(e){var t=e.detect,i=e.userAgent,n=e.logger;if(!e.silenceGlobalWarnings){var r=t.browser.msie&&t.browser.version<11,o=/phantomjs/i.test(i);Z()&&(o||r||n.error("The XMLHttpRequest constructor has been tampered with. Because this affects CORS/Range XHR requests, HLS playback has been disabled. To enable HLS playback and other important features, please remove code that changes the definition of window.XMLHttpRequest.")),ee()&&(!t.mediaSource||o||r||n.error("window.URL.createObjectURL has been tampered with. Because this affects use of Media Source Extensions, HLS playback has been disabled. window.URL is a browser API that should not be clobbered. Its current value is:",window.URL))}},K=function(e,t,i){var n=e.detect;return(n.mediaSource||n.nativeHls)&&(!n.chrome||parseInt(n.chrome.version)>50)&&(t.hls_enabled||te(e,i))&&!1!==te(e,i)&&q(e,t.assets)&&(!Z(e)&&!ee(e)||te(e,i))},q=function(e,t){var i=c.filter(t,{container:"m3u8",type:"hls_video",status:c.READY,sortBy:"width desc",metadata:function(e){return e&&e.max_bitrate},display_name:function(e){return"Audio"!=e}}),n=c.filter(t,{container:"mp4",status:c.READY,sortBy:"width desc"});return i.length>0&&(0===n.length||i[0].width>=n[0].width)},J=/\s*function\s+XMLHttpRequest\(\)\s*{\s*\[native code\]\s*}\s*/m,X=/\[object XMLHttpRequestConstructor\]/m,Z=function(e){if(XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.constructor){var t=XMLHttpRequest.prototype.constructor.toString();return!(J.test(t)||X.test(t))}return!0},ee=function(e){return"function"!=typeof(window.URL&&window.URL.createObjectURL)},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:context,t=e.pageUrl,i=arguments[1],n=ie(t);if(null!=n)return n;var r=(0,m.setOrGet)("forceHls");return null!=r?r:i.hls},ie=function(e){var t=e&&e.match&&e.match(/[\&\?]whls=([^\&]+)/),i=t&&t[1];return null!=i?f.default.cast(i):null},ne={sphericalVideo:{on:!0,initBeforeHasData:!1,async:!1},notPlayableVideo:{on:!0,initBeforeHasData:!0,async:!1,loadWeight:-1},vulcanVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1},hlsVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:0},nativeHlsVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:0},passwordProtectedVideo:{on:!0,initBeforeHasData:!0,async:!1,loadWeight:-1},encodingProgress:{on:!0,initBeforeHasData:!1,async:!0,loadWeight:100}},re=function(e,t){var i={};return i[t]=ne[t],i},oe=function(e,t,i,n){var r=(e.detect,e.logger),o={};if(r.info("playerPlugins input",t,i.hashedId,i,n),"notplayable"===t)f.default.merge(o,re(e,"notPlayableVideo"));else if("passwordprotected"===t)f.default.merge(o,re(e,"passwordProtectedVideo"));else if(t===g){f.default.merge(o,re(e,"vulcanVideo")),!i.spherical&&!n.spherical||n.overrideSpherical||f.default.merge(o,re(e,"sphericalVideo"));for(var s=se(e,i,n),a=0;a<s.length;a++)f.default.merge(o,re(e,s[a]))}var l=[];for(var u in o)l.push(u);return r.info.apply(r,["playerPlugins output"].concat(l,[o])),o},se=function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.detect,o=t.logger,s=[];o.info("enginesToLoad");var a=K(t,i,n);if(a&&r.nativeHls?(o.info("nativeHlsVideo"),s.push("nativeHlsVideo")):a?(o.info("hlsVideo"),s.push("hlsVideo")):(o.info("manualQualityVideo"),s.push("manualQualityVideo")),i.secondaryMediaData){o.info("twoStrokeVideo"),s.push("twoStrokeVideo");var l=f.default.except(n,["twoStroke"]),u=i.secondaryMediaData,c=e(t,u,l);s=s.concat(c)}else n.secondaryVideoUrl&&(o.info("secondaryVideoUrl","twoStrokeVideo"),s.push("twoStrokeVideo"));return s=f.default.uniq(s)},ae=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.detect,r=e.logger;r.info("bestUsableEngineClass");var o=K(e,t,i);return t.secondaryMediaData&&h.default.TwoStrokeVideo?(r.info("twoStrokeVideo"),h.default.TwoStrokeVideo):i.secondaryVideoUrl&&h.default.TwoStrokeVideo?(r.info("twoStrokeVideo"),h.default.TwoStrokeVideo):o&&n.nativeHls&&h.default.NativeHlsVideo?(r.info("nativeHlsVideo"),h.default.NativeHlsVideo):o&&h.default.HlsVideo?(r.info("hlsVideo"),h.default.HlsVideo):(r.info("manualQualityVideo"),h.default.ManualQualityVideo)},le=function(e,t,i){return{bestPlayer:D(e,t,i),supportedPlayers:H(e),usablePlayers:j(e,t.assets),playerPreferenceFromInput:U(e,t,i)}};e.exports={getDefaultContext:M,buildContext:I,choosePlayer:B,bestPlayer:D,isValidPlayer:F,canUsePlayer:R,usablePlayers:j,supportedPlayers:H,isSupportedPlayer:N,hasAssetsForPlayer:V,determinePlayerPreferenceFromInput:U,isMobile:W,isPasswordProtected:z,isNotPlayable:Q,noFallbackFromFlash:G,logWarnings:Y,shouldServeHls:K,hasDesktopHlsAssets:q,xhrHasBeenTamperedWith:Z,urlHasBeenTamperedWith:ee,hlsOverrideValue:te,hlsQueryParamValue:ie,PLUGIN_CONFIGS:ne,playerPlugins:oe,enginesToLoad:se,bestUsableEngineClass:ae,report:le}},function(e,t){function i(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}var n=Object.prototype;e.exports=i},function(e,t,i){"use strict";var n=i(4),r=["beforeplay","ended","loadeddata","loadedmetadata","loadstart","pause","playing","progress","ratechange","seeked","volumechange","timeupdate","webkitbeginfullscreen","webkitendfullscreen","webkitplaybacktargetavailabilitychanged"],o=function(e){for(var t=0;t<r.length;t++){var i=r[t];!function(t,i){var r="_marshalEvent_"+i;e[r]=e[r]||function(t){null==e.state&&(e.state={}),e.state.eventContext=t,e.trigger(i,t),e.state.eventContext=null},(0,n.elemBind)(t,i,e[r])}(e.video,i)}},s=function(e){return!(!e.state||!e.state.eventContext)},a=function(e){for(var t=0;t<r.length;t++){var i=r[t],o="_marshalEvent_"+i;(0,n.elemUnbind)(e.video,i,e[o])}};e.exports={setup:o,isInVideoEventContext:s,teardown:a}},function(e,t,i){"use strict";var n=i(1),r=n.wlog.getPrefixedFunctions("bindify"),o=function(e,t){return this._bindings||(this._bindings={}),this._bindings[e]||(this._bindings[e]=[]),this._bindings[e].push(t),this},s=function(e,t){if(!this._bindings)return this;if(!this._bindings[e])return this;for(var i=[],n=0;n<this._bindings[e].length;n++){var r=this._bindings[e][n];r!==t&&i.push(r)}return this._bindings[e]=i,this},a=function(e,t){this.unbind(e,t),this.bind(e,t)},l=function(e){if(!this._bindings)return this;if(!this._bindings[e])return this;for(var t=Array.prototype.slice.call(arguments,1),i=[],n=this._bindings[e],o=0;o<n.length;o++){var s=n[o];try{s.apply(this,t)===this.unbind&&i.push({event:e,fn:s})}catch(e){r.error(e)}}for(var a=0;a<i.length;a++){var l=i[a];this.unbind(l.event,l.fn)}return this},u=function(e,t){null==e._namedBindings&&(e._namedBindings={}),null==e._namedBindings[t]&&(e._namedBindings[t]={})},c=function(e,t,i){return u(e,t),e._namedBindings[t][i]},d=function(e,t,i){return null!=c(e,t,i)},h=function(e,t,i,n,r){u(e,t),e._namedBindings[t][i]={event:n,fn:r}},p=function(e,t,i,n){return r.debug("bindNamed",e,t,i),this.unbindNamed(e,t),h(this,e,t,i,n),this.bind(i,n),this},f=function(e,t){r.debug("unbindNamed",e,t),u(this,e);var i=c(this,e,t);if(i){var n=i.event,o=i.fn;this.unbind(n,o)}var s=this._namedBindings;return delete s[e][t],g(s[e])&&delete s[e],this},m=function(e){r.debug("unbindAllInNamespace",e);var t=this._namedBindings[e];if(null==t)return this;for(var i in t)t.hasOwnProperty(i)&&this.unbindNamed(e,i)},g=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},y=function(e){return e.bind=o,e.unbind=s,e.rebind=a,e.trigger=l,e.bindNamed=p,e.unbindNamed=f,e.unbindAllInNamespace=m,e},_=function(){};y(_.prototype),e.exports={bindify:y,bind:o,unbind:s,rebind:a,trigger:l,Bindings:_,bindNamed:p,unbindNamed:f,unbindAllInNamespace:m}},function(e,t,i){"use strict";var n=i(6),r=i(2),o=i(1),s=(0,n.cachedDetect)(),a=i(33),l=null,u=function(){if(s.localstorage&&null==l&&(l={},localStorage.wistia))try{l=a.parse(localStorage.wistia)}catch(e){o.wlog.notice(e)}},c=function(){l={}},d=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(s.localstorage){if(null==l&&u(),null!=t){i?(0,r.unset)(l,e):(0,r.set)(l,e,t);try{localStorage.wistia=a.stringify(l)}catch(e){o.wlog.notice(e)}return t}return null!=e?(0,r.get)(l,e):l}},h=function(e){return d(e,"nada",!0)},p=function(){if(s.localstorage){l={};try{localStorage.removeItem("wistia")}catch(e){o.wlog.error(e)}}};e.exports={init:u,uncache:c,setOrGet:d,removeLocalStorage:h,dumpLocalStorage:p}},function(e,t,i){function n(e,t,i){return t===t?s(e,t,i):r(e,o,i)}var r=i(114),o=i(122),s=i(176);e.exports=n},function(e,t,i){function n(e,t,i){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var r=i(83);e.exports=n},function(e,t,i){var n=i(13),r=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},function(e,t,i){var n=i(13),r=i(8),o=n(r,"WeakMap");e.exports=o},function(e,t){function i(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}e.exports=i},function(e,t){function i(e,t){return function(i){return e(t(i))}}e.exports=i},function(e,t,i){function n(e,t){return null!=e&&o(e,t,r)}var r=i(118),o=i(146);e.exports=n},function(e,t){function i(){}e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(4),a=i(79),l=i(2),u=n(l),c=i(11),d=n(c),h=i(14),p=n(h),f=i(51),m=n(f),g=i(210),y=n(g),_=i(215),v=n(_),b=i(214),A=n(b),w=i(217),E=n(w),k=i(216),C=n(k),x=i(78),T=n(x),S=i(52),O=n(S),P=i(94),M=n(P),I=i(96),B=n(I),D=i(213),F=n(D),R=i(212),L=n(R),j=i(95),H=n(j),N=i(91),V=n(N),U=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.uuid=(0,p.default)("wistia_simple_video_"),this.root=t,this.state={},H.default.setupProperties(this,i,n),H.default.injectVideo(this),M.default.fixWebkitControlsBug(this),H.default.setupBindingsAndLoops(this),F.default.fit(this)}return o(e,[{key:"activeBufferRange",value:function(){return y.default.activeBufferRange(this)}},{key:"anyBuffered",value:function(){return y.default.anyBuffered(this)}},{key:"canPlay",value:function(){return C.default.canPlay(this)}},{key:"cancelFullscreen",value:function(){return C.default.cancelFullscreen(this)}},{key:"changeStream",value:function(e){return E.default.changeStream(this,e)}},{key:"changeStreamWithoutLoad",value:function(e){return E.default.changeStreamWithoutLoad(this,e)}},{key:"changeVideo",value:function(e,t){return E.default.changeVideo(this,e,t)}},{key:"currentAsset",value:function(){return this._currentAsset}},{key:"defaultAsset",value:function(){return this.selectableAssets()[0]}},{key:"destroy",value:function(){this.state={},H.default.killBindingsAndStopLoops(this),this._bindings={}}},{key:"diagnosticData",value:function(){return L.default.getDiagnosticData(this)}},{key:"fit",value:function(){return F.default.fit(this)}},{key:"getCurrentTime",value:function(){return C.default.getCurrentTime(this)}},{key:"getDuration",value:function(){return C.default.getDuration(this)}},{key:"getPlaybackMode",value:function(){return B.default.getPlaybackMode(this)}},{key:"getPlaybackRate",value:function(){return C.default.getPlaybackRate(this)}},{key:"getPreload",value:function(){return C.default.getPreload(this)}},{key:"getState",value:function(){return C.default.getState(this)}},{key:"getTrim",value:function(){return O.default.getTrim(this)}},{key:"getVolume",value:function(){return C.default.getVolume(this)}},{key:"isChangingVideo",value:function(){return E.default.isChangingVideo(this)}},{key:"isInFullscreen",value:function(){return C.default.isInFullscreen(this)}},{key:"isMuted",value:function(){return C.default.isMuted(this)}},{key:"isSeeking",value:function(){return v.default.isSeeking(this)}},{key:"isSourceOfBrowserEvent",value:function(e){return C.default.isSourceOfBrowserEvent(this,e)}},{key:"lastBufferedTime",value:function(e){return y.default.lastBufferedTime(this,e)}},{key:"onEnterFullscreen",value:function(){return C.default.onEnterFullscreen(this)}},{key:"onHeightChange",value:function(e){return F.default.onHeightChange(this,e)}},{key:"onLeaveFullscreen",value:function(){return C.default.onLeaveFullscreen(this)}},{key:"onReady",value:function(){return A.default.onReady(this)}},{key:"onWidthChange",value:function(e){return F.default.onWidthChange(this,e)}},{key:"pause",value:function(){return C.default.pause(this)}},{key:"play",value:function(){return C.default.play(this)}},{key:"requestFullscreen",value:function(){return C.default.requestFullscreen(this)}},{key:"reset",value:function(){this.state={}}},{key:"seek",value:function(e){return v.default.seek(this,e)}},{key:"seekOnPlay",value:function(e){return v.default.seekOnPlay(this,e)}},{key:"selectedAsset",value:function(){return this._currentAsset}},{key:"selectableAssets",value:function(){return this.allAssets}},{key:"sequentialBufferedRange",value:function(){return y.default.sequentialBufferedRange(this)}},{key:"setAttributes",value:function(e){u.default.assign(this.attributes,e)}},{key:"setCurrentTime",value:function(e){return C.default.setCurrentTime(this,e)}},{key:"setPlaybackRate",value:function(e){return C.default.setPlaybackRate(this,e)}},{key:"setTrim",value:function(e){return O.default.setTrim(this,e)}},{key:"setVolume",value:function(e){return C.default.setVolume(this,e)}},{key:"showFirstFrame",value:function(){return v.default.seek(this,.01)}},{key:"stopStreaming",value:function(){return E.default.stopStreaming(this)}},{key:"timeBeforeEndOfBuffer",value:function(e){return y.default.timeBeforeEndOfBuffer(this,e)}},{key:"totalBuffered",value:function(){return y.default.totalBuffered(this)}},{key:"totalPlayed",value:function(){return m.default.sumTimeRanges(this.video.played)}},{key:"videoElem",value:function(){return C.default.videoElem(this)}}]),e}();(0,a.bindify)(U.prototype),U.delegatePublicMethods=V.default.delegatePublicMethods,U.PUBLIC_METHODS=V.default.PUBLIC_METHODS,U.mediaDataWithAssets=function(e,t){var i=u.default.clone(e);return i.assets=u.default.clone(t),i},e.exports=U},function(e,t,i){(function(e,t){!function(e,i){"use strict";function n(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return u[l]=n,a(l),l++}function r(e){delete u[e]}function o(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(i,n)}}function s(e){if(c)setTimeout(s,0,e);else{var t=u[e];if(t){c=!0;try{o(t)}finally{r(e),c=!1}}}}if(!e.setImmediate){var a,l=1,u={},c=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){a=function(e){t.nextTick(function(){s(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?function(){
var t="setImmediate$"+Math.random()+"$",i=function(i){i.source===e&&"string"==typeof i.data&&0===i.data.indexOf(t)&&s(+i.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),a=function(i){e.postMessage(t+i,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){s(e.data)},a=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;a=function(t){var i=d.createElement("script");i.onreadystatechange=function(){s(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i)}}():function(){a=function(e){setTimeout(s,0,e)}}(),h.setImmediate=n,h.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,function(){return this}(),i(205))},function(e,t){"use strict";var i=["activeBufferRange","anyBuffered","bind","bindNamed","bufferInfo","canPlay","cancelFullscreen","changeStream","changeStreamWithoutLoad","changeVideo","currentAsset","defaultAsset","destroy","diagnosticData","fit","getCurrentTime","getDuration","getPlaybackMode","getPlaybackRate","getPreload","getState","getTrim","getVolume","isChangingVideo","isInFullscreen","isMuted","isSeeking","isSourceOfBrowserEvent","lastBufferedTime","onEnterFullscreen","onHeightChange","onLeaveFullscreen","onReady","onWidthChange","pause","play","requestFullscreen","reset","seek","seekOnPlay","selectedAsset","selectableAssets","sequentialBufferedRange","setAttributes","setCurrentTime","setPlaybackRate","setTrim","setVolume","showFirstFrame","stopStreaming","timeBeforeEndOfBuffer","totalBuffered","totalPlayed","trigger","unbind","unbindNamed","unbindAllInNamespace","videoElem"],n=function(e,t,i){for(var n=0;n<e.length;n++){var r=e[n];t[r]||function(e){t[e]=function(){var t=i.call(this);return t?t[e].apply(t,arguments):null}}(r)}},r=function(e,t){n(i,e,t)};e.exports={PUBLIC_METHODS:i,delegateMethods:n,delegatePublicMethods:r}},function(e,t,i){var n=i(116),r=i(135),o=r(n);e.exports=o},function(e,t,i){function n(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):l(e)}var r=i(126),o=i(127),s=i(48),a=i(7),l=i(180);e.exports=n},function(e,t,i){"use strict";var n=i(6),r=i(1),o=(0,n.cachedDetect)(),s=r.wlog.getPrefixedFunctions("SimpleVideo"),a=function(e){var t=e.video;if(o.browser.webkit){s.info("fixWebkitControlsBug");var i=t.getAttribute("controls");t.setAttribute("controls","controls"),t.removeAttribute("controls"),null!=i&&t.setAttribute("controls",i)}};e.exports={fixWebkitControlsBug:a}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(4),o=i(51),s=n(o),a=i(211),l=n(a),u=i(218),c=n(u),d=i(52),h=n(d),p=i(94),f=n(p),m=i(78),g=n(m),y=function(e,t,i){var n=t.assets;0===n.length&&(n=[{}]),e.mediaData=t,e.allAssets=n,e.attributes=i},_=function(e){e._currentAsset=e.defaultAsset(),e.video=s.default.createElement(e.uuid,e._currentAsset,e.attributes),(0,r.elemAppend)(e.root,e.video)},v=function(e){c.default.setup(e),h.default.enforceTrimming(e),g.default.setup(e),l.default.setup(e)},b=function(e){g.default.teardown(e),h.default.teardown(e),l.default.teardown(e),c.default.teardown(e)};e.exports={setupProperties:y,setupBindingsAndLoops:v,injectVideo:_,killBindingsAndStopLoops:b}},function(e,t,i){"use strict";var n=i(1),r=n.wlog.getPrefixedFunctions("SimpleVideo"),o="beforeplay",s="ended",a="paused",l="playing",u="unknown",c=function(e){var t=e.video;try{return e.state.hasPlayed?e.state.fakeEnded||t.ended?"ended":t.paused?"paused":"playing":"beforeplay"}catch(e){return r.warn(e),"unknown"}};e.exports={getPlaybackMode:c,BEFORE_PLAY:"beforeplay",ENDED:"ended",PAUSED:"paused",PLAYING:"playing",UNKNOWN:"unknown"}},function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(5),c=i(9),d=function(e,t){return function(i){function c(){r(this,c);var e=o(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return e.state={propJustChanged:!1},e}return s(c,i),l(c,[{key:"componentWillUpdate",value:function(e){var i=this.props[t],n=e[t],r=n&&!i&&!this.state.propJustChanged;this.setState({propJustChanged:r})}},{key:"propName",value:function(){return t+"JustChanged"}},{key:"render",value:function(){var t=n({},this.propName(),this.state.propJustChanged);return(0,u.h)(e,a({},this.props,t))}}]),c}(u.Component)};t.default=d},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=function(e,t){return function(i){function u(e){n(this,u);var t=r(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.state={isOpen:!1,isTransitioned:!1},t.updateTransitionState(e,{}),t}return o(u,i),a(u,[{key:"componentWillUpdate",value:function(e){this.updateTransitionState(e,this.props)}},{key:"updateTransitionState",value:function(e,i){var n=i[t],r=e[t];n!=r&&(r?this.transitionOpen():this.transitionClosed())}},{key:"transitionClosed",value:function(){var e=this.setState.bind(this);e({isTransitioned:!1}),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e({isOpen:!1})},200)}},{key:"transitionOpen",value:function(){var e=this.setState.bind(this);e({isOpen:!0}),clearTimeout(this.timeout),this.timeout=setTimeout(function(){e({isTransitioned:!0})},10)}},{key:"render",value:function(){return(0,l.h)(e,s({},this.props,this.state))}}]),u}(l.Component)};t.default=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.settings};t.default={getIsMenuOpen:function(e){return i(e).isMenuOpen},getIsVisible:function(e){return i(e).isVisible},getIsVideoQualityOpen:function(e){return i(e).videoQuality.isOpen},getVideoQualityValue:function(e){return i(e).videoQuality.value},getSelectedVideoQualityValue:function(e){return i(e).selectedVideoQuality.value},getIsPlaybackRateOpen:function(e){return i(e).playbackRate.isOpen},getPlaybackRateValue:function(e){return i(e).playbackRate.value},getVideoQualityOptions:function(e){return i(e).videoQualityOptions},getPlaybackRateOptions:function(e){return i(e).playbackRateOptions}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.shareMenu};t.default={getIsVisible:function(e){return i(e).isVisible},getIsMenuOpen:function(e){return i(e).isMenuOpen},getIsEmbedCodeCopierOpen:function(e){return i(e).isEmbedCodeCopierOpen},activeChannels:function(e){return i(e).activeChannels},channelData:function(e,t){return i(e).channels[t]},pageUrl:function(e){return i(e).pageUrl},pageTitle:function(e){return i(e).pageTitle},ignoreQueryParams:function(e){return i(e).ignoreQueryParams},tweetText:function(e){return i(e).tweetText},videoName:function(e){return i(e).videoName},overrideUrl:function(e){return i(e).overrideUrl},downloadAsset:function(e){return i(e).assets[i(e).downloadType]},includeLinkback:function(e){return i(e).includeLinkback},getConversionOpportunityKey:function(e){return i(e).conversionOpportunityKey},getConversionOpportunity:function(e){return i(e).conversionOpportunity}}},function(e,t,i){function n(e,t,i){return t=o(void 0===t?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=o(n.length-t,0),l=Array(a);++s<a;)l[s]=n[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=n[s];return u[t]=i(l),r(e,this,u)}}var r=i(193),o=Math.max;e.exports=n},function(e,t,i){var n=i(195),r=i(199),o=r(n);e.exports=o},function(e,t){"use strict";var i=function(e){return function(t,i,n){if(s(e,t),r(e,t,i))return o(e,t,i);var l=n();return a(e,t,i,l),l}},n=function(e){return function(t){return null==t[e]&&(t[e]={}),t[e]}},r=function(e,t,i){return null!=o(e,t,i)},o=function(e,t,i){return s(e,t),t[e][i]},s=function(e,t){null==t[e]&&(t[e]={})},a=function(e,t,i,n){s(e,t),t[e][i]=n},l=function(e,t,i){s(e,t),delete t[e][i]},u=function(e,t){t[e]={}};e.exports={makeCacheable:i,uncacheNamespace:u,uncache:l,makeNamespace:n}},function(e,t,i){var n=i(13),r=i(8),o=n(r,"DataView");e.exports=o},function(e,t,i){function n(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}var r=i(147),o=i(148),s=i(149),a=i(150),l=i(151);n.prototype.clear=r,n.prototype.delete=o,n.prototype.get=s,n.prototype.has=a,n.prototype.set=l,e.exports=n},function(e,t,i){var n=i(13),r=i(8),o=n(r,"Promise");e.exports=o},function(e,t,i){var n=i(8),r=n.Uint8Array;e.exports=r},function(e,t,i){function n(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}var r=i(81);e.exports=n},function(e,t){function i(e,t,i){for(var n=-1,r=null==e?0:e.length;++n<r;)if(i(t,e[n]))return!0;return!1}e.exports=i},function(e,t,i){function n(e,t){var i=s(e),n=!i&&o(e),c=!i&&!n&&a(e),h=!i&&!n&&!c&&u(e),p=i||n||c||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!d.call(e,g)||p&&("length"==g||c&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m))||f.push(g);return f}var r=i(130),o=i(55),s=i(7),a=i(72),l=i(38),u=i(73),c=Object.prototype,d=c.hasOwnProperty;e.exports=n},function(e,t){function i(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}e.exports=i},function(e,t){function i(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return!0;return!1}e.exports=i},function(e,t,i){function n(e,t){var i=[];return r(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}var r=i(92);e.exports=n},function(e,t){function i(e,t,i,n){for(var r=e.length,o=i+(n?1:-1);n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}e.exports=i},function(e,t,i){var n=i(136),r=n();e.exports=r},function(e,t,i){function n(e,t){return e&&r(e,t,o)}var r=i(115),o=i(28);e.exports=n},function(e,t,i){function n(e,t,i){var n=t(e);return o(e)?n:r(n,i(e))}var r=i(85),o=i(7);e.exports=n},function(e,t){function i(e,t){return null!=e&&t in Object(e)}e.exports=i},function(e,t,i){function n(e){return o(e)&&r(e)==s}var r=i(19),o=i(17),s="[object Arguments]";e.exports=n},function(e,t,i){function n(e,t,i,n,g,_){var v=u(e),b=u(t),A=v?f:l(e),w=b?f:l(t);A=A==p?m:A,w=w==p?m:w;var E=A==m,k=w==m,C=A==w;if(C&&c(e)){if(!c(t))return!1;v=!0,E=!1}if(C&&!E)return _||(_=new r),v||d(e)?o(e,t,i,n,g,_):s(e,t,A,i,n,g,_);if(!(i&h)){var x=E&&y.call(e,"__wrapped__"),T=k&&y.call(t,"__wrapped__");if(x||T){var S=x?e.value():e,O=T?t.value():t;return _||(_=new r),g(S,O,i,n,_)}}return!!C&&(_||(_=new r),a(e,t,i,n,g,_))}var r=i(64),o=i(67),s=i(138),a=i(139),l=i(144),u=i(7),c=i(72),d=i(73),h=1,p="[object Arguments]",f="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;e.exports=n},function(e,t,i){function n(e,t,i,n){var l=i.length,u=l,c=!n;if(null==e)return!u;for(e=Object(e);l--;){var d=i[l];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<u;){d=i[l];var h=d[0],p=e[h],f=d[1];if(c&&d[2]){if(void 0===p&&!(h in e))return!1}else{var m=new r;if(n)var g=n(p,f,h,e,t,m);if(!(void 0===g?o(f,p,s|a,n,m):g))return!1}}return!0}var r=i(64),o=i(60),s=1,a=2;e.exports=n},function(e,t){function i(e){return e!==e}e.exports=i},function(e,t,i){function n(e){return!(!s(e)||o(e))&&(r(e)?f:u).test(a(e))}var r=i(56),o=i(153),s=i(15),a=i(71),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,h=c.toString,p=d.hasOwnProperty,f=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,i){function n(e){return s(e)&&o(e.length)&&!!M[r(e)]}var r=i(19),o=i(44),s=i(17),a="[object Arguments]",l="[object Array]",u="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",p="[object Map]",f="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",_="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",A="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",x="[object Int32Array]",T="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",P="[object Uint32Array]",M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Arguments]"]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object Boolean]"]=M["[object DataView]"]=M["[object Date]"]=M["[object Error]"]=M["[object Function]"]=M["[object Map]"]=M["[object Number]"]=M["[object Object]"]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object WeakMap]"]=!1,e.exports=n},function(e,t,i){function n(e){if(!r(e))return o(e);var t=[];for(var i in Object(e))a.call(e,i)&&"constructor"!=i&&t.push(i);return t}var r=i(77),o=i(166),s=Object.prototype,a=s.hasOwnProperty;e.exports=n},function(e,t,i){function n(e){var t=o(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(i){return i===e||r(i,e,t)}}var r=i(121),o=i(141),s=i(70);e.exports=n},function(e,t,i){function n(e,t){return a(e)&&l(t)?u(c(e),t):function(i){var n=o(i,e);return void 0===n&&n===t?s(i,e):r(t,n,d|h)}}var r=i(60),o=i(178),s=i(87),a=i(42),l=i(69),u=i(70),c=i(27),d=1,h=2;e.exports=n},function(e,t){function i(e){return function(t){return null==t?void 0:t[e]}}e.exports=i},function(e,t,i){function n(e){return function(t){return r(t,e)}}var r=i(54);e.exports=n},function(e,t){function i(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}e.exports=i},function(e,t,i){function n(e){if("string"==typeof e)return e;if(s(e))return o(e,n)+"";if(a(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-l?"-0":t}var r=i(26),o=i(111),s=i(7),a=i(34),l=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;e.exports=n},function(e,t){function i(e){return function(t){return e(t)}}e.exports=i},function(e,t,i){function n(e,t,i){var n=-1,d=o,h=e.length,p=!0,f=[],m=f;if(i)p=!1,d=s;else if(h>=c){var g=t?null:l(e);if(g)return u(g);p=!1,d=a,m=new r}else m=t?[]:f;e:for(;++n<h;){var y=e[n],_=t?t(y):y;if(y=i||0!==y?y:0,p&&_===_){for(var v=m.length;v--;)if(m[v]===_)continue e;t&&m.push(_),f.push(y)}else d(m,_,i)||(m!==f&&m.push(_),f.push(y))}return f}var r=i(63),o=i(108),s=i(109),a=i(66),l=i(137),u=i(43),c=200;e.exports=n},function(e,t,i){var n=i(8),r=n["__core-js_shared__"];e.exports=r},function(e,t,i){function n(e,t){return function(i,n){if(null==i)return i;if(!r(i))return e(i,n);for(var o=i.length,s=t?o:-1,a=Object(i);(t?s--:++s<o)&&!1!==n(a[s],s,a););return i}}var r=i(36);e.exports=n},function(e,t){function i(e){return function(t,i,n){for(var r=-1,o=Object(t),s=n(t),a=s.length;a--;){var l=s[e?a:++r];if(!1===i(o[l],l,o))break}return t}}e.exports=i},function(e,t,i){var n=i(62),r=i(88),o=i(43),s=1/0,a=n&&1/o(new n([,-0]))[1]==1/0?function(e){return new n(e)}:r;e.exports=a},function(e,t,i){function n(e,t,i,n,r,E,C){switch(i){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case A:return!(e.byteLength!=t.byteLength||!E(new o(e),new o(t)));case h:case p:case g:return s(+e,+t);case f:return e.name==t.name&&e.message==t.message;case y:case v:return e==t+"";case m:var x=l;case _:var T=n&c;if(x||(x=u),e.size!=t.size&&!T)return!1;var S=C.get(e);if(S)return S==t;n|=d,C.set(e,t);var O=a(x(e),x(t),n,r,E,C);return C.delete(e),O;case b:if(k)return k.call(e)==k.call(t)}return!1}var r=i(26),o=i(107),s=i(35),a=i(67),l=i(164),u=i(43),c=1,d=2,h="[object Boolean]",p="[object Date]",f="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",_="[object Set]",v="[object String]",b="[object Symbol]",A="[object ArrayBuffer]",w="[object DataView]",E=r?r.prototype:void 0,k=E?E.valueOf:void 0;e.exports=n},function(e,t,i){function n(e,t,i,n,s,l){var u=i&o,c=r(e),d=c.length;if(d!=r(t).length&&!u)return!1;for(var h=d;h--;){var p=c[h];if(!(u?p in t:a.call(t,p)))return!1}var f=l.get(e);if(f&&l.get(t))return f==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=u;++h<d;){p=c[h];var y=e[p],_=t[p];if(n)var v=u?n(_,y,p,t,e,l):n(y,_,p,e,t,l);if(!(void 0===v?y===_||s(y,_,i,n,l):v)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var b=e.constructor,A=t.constructor;b!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A)&&(m=!1)}return l.delete(e),l.delete(t),m}var r=i(140),o=1,s=Object.prototype,a=s.hasOwnProperty;e.exports=n},function(e,t,i){function n(e){return r(e,s,o)}var r=i(117),o=i(143),s=i(28);e.exports=n},function(e,t,i){function n(e){for(var t=o(e),i=t.length;i--;){var n=t[i],s=e[n];t[i]=[n,s,r(s)]}return t}var r=i(69),o=i(28);e.exports=n},function(e,t,i){function n(e){var t=s.call(e,l),i=e[l];try{e[l]=void 0}catch(e){}var n=a.call(e);return t?e[l]=i:delete e[l],n}var r=i(26),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,l=r?r.toStringTag:void 0;e.exports=n},function(e,t,i){var n=i(65),r=i(181),o=Object.prototype,s=o.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){return null==e?[]:(e=Object(e),n(a(e),function(t){return s.call(e,t)}))}:r;e.exports=l},function(e,t,i){var n=i(104),r=i(40),o=i(106),s=i(62),a=i(84),l=i(19),u=i(71),c="[object Map]",d="[object Object]",h="[object Promise]",p="[object Set]",f="[object WeakMap]",m="[object DataView]",g=u(n),y=u(r),_=u(o),v=u(s),b=u(a),A=l;(n&&"[object DataView]"!=A(new n(new ArrayBuffer(1)))||r&&"[object Map]"!=A(new r)||o&&"[object Promise]"!=A(o.resolve())||s&&"[object Set]"!=A(new s)||a&&"[object WeakMap]"!=A(new a))&&(A=function(e){var t=l(e),i="[object Object]"==t?e.constructor:void 0,n=i?u(i):"";if(n)switch(n){case g:return"[object DataView]";case y:return"[object Map]";case _:return"[object Promise]";case v:return"[object Set]";case b:return"[object WeakMap]"}return t}),e.exports=A},function(e,t){function i(e,t){return null==e?void 0:e[t]}e.exports=i},function(e,t,i){function n(e,t,i){t=r(t,e);for(var n=-1,c=t.length,d=!1;++n<c;){var h=u(t[n]);if(!(d=null!=e&&i(e,h)))break;e=e[h]}return d||++n!=c?d:!!(c=null==e?0:e.length)&&l(c)&&a(h,c)&&(s(e)||o(e))}var r=i(49),o=i(55),s=i(7),a=i(38),l=i(44),u=i(27);e.exports=n},function(e,t,i){function n(){this.__data__=r?r(null):{},this.size=0}var r=i(32);e.exports=n},function(e,t){function i(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=i},function(e,t,i){function n(e){var t=this.__data__;if(r){var i=t[e];return i===o?void 0:i}return a.call(t,e)?t[e]:void 0}var r=i(32),o="__lodash_hash_undefined__",s=Object.prototype,a=s.hasOwnProperty;e.exports=n},function(e,t,i){function n(e){var t=this.__data__;return r?void 0!==t[e]:s.call(t,e)}var r=i(32),o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,t,i){function n(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=r&&void 0===t?o:t,this}var r=i(32),o="__lodash_hash_undefined__";e.exports=n},function(e,t){function i(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=i},function(e,t,i){function n(e){return!!o&&o in e}var r=i(134),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=n},function(e,t){function i(){this.__data__=[],this.size=0}e.exports=i},function(e,t,i){function n(e){var t=this.__data__,i=r(t,e);return!(i<0||(i==t.length-1?t.pop():s.call(t,i,1),--this.size,0))}var r=i(30),o=Array.prototype,s=o.splice;e.exports=n},function(e,t,i){function n(e){var t=this.__data__,i=r(t,e);return i<0?void 0:t[i][1]}var r=i(30);e.exports=n},function(e,t,i){function n(e){return r(this.__data__,e)>-1}var r=i(30);e.exports=n},function(e,t,i){function n(e,t){var i=this.__data__,n=r(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}var r=i(30);e.exports=n},function(e,t,i){function n(){this.size=0,this.__data__={hash:new r,map:new(s||o),string:new r}}var r=i(105),o=i(29),s=i(40);e.exports=n},function(e,t,i){function n(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}var r=i(31);e.exports=n},function(e,t,i){function n(e){return r(this,e).get(e)}var r=i(31);e.exports=n},function(e,t,i){function n(e){return r(this,e).has(e)}var r=i(31);e.exports=n},function(e,t,i){function n(e,t){var i=r(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}var r=i(31);e.exports=n},function(e,t){function i(e){var t=-1,i=Array(e.size);return e.forEach(function(e,n){i[++t]=[n,e]}),i}e.exports=i},function(e,t,i){function n(e){var t=r(e,function(e){return i.size===o&&i.clear(),e}),i=t.cache;return t}var r=i(179),o=500;e.exports=n},function(e,t,i){var n=i(86),r=n(Object.keys,Object);e.exports=r},function(e,t,i){(function(e){var n=i(68),r="object"==typeof t&&t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r,a=s&&n.process,l=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=l}).call(t,i(24)(e))},function(e,t){function i(e){return r.call(e)}var n=Object.prototype,r=n.toString;e.exports=i},function(e,t){function i(e){return this.__data__.set(e,n),this}var n="__lodash_hash_undefined__";e.exports=i},function(e,t){function i(e){return this.__data__.has(e)}e.exports=i},function(e,t,i){function n(){this.__data__=new r,this.size=0}var r=i(29);e.exports=n},function(e,t){function i(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}e.exports=i},function(e,t){function i(e){return this.__data__.get(e)}e.exports=i},function(e,t){function i(e){return this.__data__.has(e)}e.exports=i},function(e,t,i){function n(e,t){var i=this.__data__;if(i instanceof r){var n=i.__data__;if(!o||n.length<a-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new s(n)}return i.set(e,t),this.size=i.size,this}var r=i(29),o=i(40),s=i(41),a=200;e.exports=n},function(e,t){function i(e,t,i){for(var n=i-1,r=e.length;++n<r;)if(e[n]===t)return n;return-1}e.exports=i},function(e,t,i){var n=i(165),r=/^\./,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,a=n(function(e){var t=[];return r.test(e)&&t.push(""),e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,function(e,i,n,r){t.push(n?r.replace(/\\(\\)?/g,"$1"):i||e)}),t});e.exports=a},function(e,t,i){function n(e,t,i){var n=null==e?void 0:r(e,t);return void 0===n?i:n}var r=i(54);e.exports=n},function(e,t,i){function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var s=e.apply(this,n);return i.cache=o.set(r,s)||o,s};return i.cache=new(n.Cache||r),i}var r=i(41),o="Expected a function";n.Cache=r,e.exports=n},function(e,t,i){function n(e){return s(e)?r(a(e)):o(e)}var r=i(128),o=i(129),s=i(42),a=i(27);e.exports=n},function(e,t){function i(){return[]}e.exports=i},function(e,t){function i(){return!1}e.exports=i},function(e,t,i){function n(e){return null==e?"":r(e)}var r=i(131);e.exports=n},function(e,t,i){function n(e){return e&&e.length?r(e):[]}var r=i(133);e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(20),o=n(r),s=i(3),a=n(s),l=i(58),u=n(l),c=i(10),d=i(1),h=i(16),p=i(45),f=i(14),m=n(f),g=i(18);null==a.default._canEditMedia&&(a.default._canEditMedia={}),null==a.default._remoteMedia&&(a.default._remoteMedia={});var y=function(e){var t=void 0;if(t=a.default._canEditMedia[e])return t;null==(t=a.default._canEditMedia[e])&&(t=a.default._canEditMedia[e]=new u.default);var i="https://"+(0,c.cdnFastWistiaComHost)()+"/media_url",n=function(e){e&&e.logged_in&&t.go(e)},r={hashed_id:encodeURIComponent(e)};return(0,p.jsonpPlus)(i,r,n,{once:!0}),t},_=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(k(e)){d.wlog.info("W.remote.media",e,"from local cache");var n="remote-media."+e+"."+(0,m.default)();return(0,g.doTimeout)(n,function(){t(k(e))}),n}d.wlog.info("W.remote.media",e,"fetching");var r=(0,c.forceValidFastWistiaHost)(i.embedHost),o=(0,h.proto)()+"//"+r+"/embed/medias/"+e+".json",s=void 0;null!=i.password&&(s={password:i.password});var a=function(i){i.error?(d.wlog.info("W.remote.media",e,"error",i),w(e,i),t(i)):(delete i.media.unnamed_assets,A(i.media),w(e,i.media),d.wlog.info("W.remote.media",e,"responded",i.media),t(i.media))},l=function(){d.wlog.error("Timed out fetching "+o)},u={onerror:l,timeout:1e4,once:null==i.once||i.once};return(0,p.jsonpPlus)(o,s,a,u)},v=[7624,130411,28809,147495,122341,128217,107313,408601,373299,118121,36705,194419,213273,318772,347673,133521,334813,334808,258329,316211,359815,39557,48095,142951,359161,126759,410559,207815,118975,413033,76681,291377,410563,344472,213403,238199,214077,415518,108645,81305,148247,105713,67485,129281,267677,334053,238205,332013,245103,26281,39559,76379,75627,211161,121113,410564,146343,390210,107317,302198,228193,36697,310058,126009,196755,364168,410553,77929,239353,370193,309760,389789,410568,127517,255905,390868,327858,73809,73197,301517,149621,334056,105935,222153,75321,134513,88465,334818,100433,153069,218369,142963,67037,142967,82707,117593,330884,114651,219395,209331,249799,109809,410569,57039,398712,155889,208909,241061,109611,288073,41247,230819,359128,364170,394729,316210,213283,312536,75631,410565,298754,152773,344468,373848,410571,102363,255911,305305,301757,410574,222019,239351,238889,261731,259557,229107,259623,259561,259687,234501,222069,228737,234127,234641,238903,259693,238905,229025,238203,258385,228007,239349,225077,222561,257143,234129,257263,229023,229111,245105,259503,222037,259505,238895,258417,410573,36699,65003,315082,291379,410578,331578,354779,410576,363083,410579,410545,226067,58007,354395,326682,36703,146337,152131,328174,117693,219329,138619,206705,112373,142969,65425,288103,90457,131933,347096,77287,315412,410582,410581,334823,371770,282139,304147,120761,87941,116301,362719,200495,79713,344473,75331,89953,73199,114265,341371,148249,407912,355435,305326,210009,39553,358496,240387,253585,39555,283619,216491],b=function(e){if(e.accountKey)return!1;for(var t=0;t<v.length;t++){var i=v[t];if(e.accountKey==="wistia-production_"+i)return!0}return!1},A=function(e){if(e.assets&&!b(e))for(var t=0;t<e.assets.length;t++){var i=e.assets[t];i.url&&(i.url=i.url.replace(/^https:\/\/embed-ssl\.wistia\.com/,"https://embedwistia-a.akamaihd.net"))}return e},w=function(e,t){return a.default._remoteMedia[e]=t},E=function(e,t){a.default._remoteMedia[e]=null,delete a.default._remoteMedia[e],window["wistiajsonp-/embed/medias/"+e+".json"]=null},k=function(e){var t=a.default._remoteMedia[e];if(t)return t;var i=o.default["wistiajsonp-/embed/medias/"+e+".json"];return null!=i&&i.media?i.media:null};e.exports={canEditMedia:y,fetchMedia:_,isEmbedSslMedia:b,convertEmbedSslToAkamai:A,cacheMedia:w,uncacheMedia:E,mediaFromCache:k}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(45),a=i(16),l=i(10),u=i(1),c=i(14),d=n(c),h=i(18);null==o.default._remotePlaylist&&(o.default._remotePlaylist={});var p=function(e,t){var i=void 0;if(i=o.default._remotePlaylist[e])(0,h.doTimeout)("remote-playlist."+e+"."+(0,d.default)(),function(){t(i)});else{var n=(0,a.proto)()+"//"+(0,l.cdnFastWistiaComHost)()+"/embed/playlists/"+e+".json",r=function(i){o.default._remotePlaylist[e]=i,t(i)},c=function(){u.wlog.error("Timed out fetching "+n)};(0,s.jsonpPlus)(n,{},r,{onerror:c,timeout:1e4})}};e.exports={fetchPlaylist:p}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(18),a=i(1),l=i(2),u=n(l),c=i(33),d=n(c),h=i(4),p=i(16),f=i(10),m=i(57),g=o.default;null==g._metricsCache&&(g._metricsCache={});var y=g._metricsCache,_=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{null==y.toMput&&(y.toMput=[]),null==y.requestId&&(y.requestId=0);var r=u.default.merge({type:e,key:t,value:null!=i?i:null,request_id:y.requestId},n),o=d.default.stringify(r);a.wlog.debug("send metrics",o),y.toMput.push(o),(0,s.doTimeout)("metrics.debounce",function(){(0,h.pageLoaded)(function(){v.apply(void 0,y.toMput),y.toMput=[],y.requestId+=1})},500)}catch(e){a.wlog.error(e)}},v=function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];var n=(0,p.proto)()+"//"+(0,f.metricsHost)()+"/mput?topic=metrics";return(0,m.ajaxPost)(n,{data:t.join("\n")})},b=function(e){return _("count",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,arguments[2])},A=function(e,t,i){return _("sample",e,t,i)};e.exports={send:_,msend:v,count:b,sample:A}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),l=i(9),u=i(59),c=function(e){return function(t){function i(){return n(this,i),r(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return o(i,t),s(i,[{key:"render",value:function(){var t=this.props.instanceId,i=(0,u.getStoreForPlayerInstance)(t);return(0,a.h)(l.Provider,{store:i},(0,a.h)(e,this.props))}}]),i}(a.Component)};t.default=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.chapters},n=t.getBranch=function(e){return i(e)},r=t.getIsVisible=function(e){return i(e).isVisible},o=t.getIsVisibleOnLoad=function(e){return i(e).isVisibleOnLoad
},s=t.getIsMenuOpen=function(e){return i(e).isMenuOpen},a=t.getChapters=function(e){return i(e).chapters},l=t.getLastChapterActivated=function(e){return i(e).lastChapterActivated},u=t.getChapterById=function(e,t){return i(e).chapters.filter(function(e){return e.id==t})[0]},c=t.getCurrentlyHoveredChapterId=function(e){return i(e).currentlyHoveredChapter},d=t.getCurrentlyHoveredChapter=function(e){return u(e,i(e).currentlyHoveredChapter)},h=t.getChapterTitleLeftOffset=function(e){return i(e).chapterTitleLeftOffset},p=t.getMenuWidth=function(e){return i(e).menuWidth},f=t.getHasControlBeenClicked=function(e){return i(e).hasControlBeenClicked}},function(e,t,i){function n(e){if("number"==typeof e)return e;if(o(e))return s;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var i=u.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):l.test(e)?s:+e}var r=i(15),o=i(34),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(310),o=n(r),s={setIsVisible:function(e){return{type:o.default.setIsVisible,payload:e}},setIsVisibleOnLoad:function(e){return{type:o.default.setIsVisibleOnLoad,payload:e}},setIsMenuOpen:function(e){return{type:o.default.setIsMenuOpen,payload:e}},addChapter:function(e){return{type:o.default.addChapter,payload:e}},removeChapter:function(e){return{type:o.default.removeChapter,payload:e}},setChapters:function(e){return{type:o.default.setChapters,payload:e}},setLastChapterActivated:function(e){return{type:o.default.setLastChapterActivated,payload:e}},setCurrentlyHoveredChapter:function(e){return{type:o.default.setCurrentlyHoveredChapter,payload:e}},setChapterTitleLeftOffset:function(e){return{type:o.default.setChapterTitleLeftOffset,payload:e}},setMenuWidth:function(e){return{type:o.default.setMenuWidth,payload:e}},setHasControlBeenClicked:function(e){return{type:o.default.setHasControlBeenClicked,payload:e}}};t.default=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(312),o=n(r);t.default={setIsMenuOpen:function(e){return{type:o.default.setIsMenuOpen,payload:e}},setIsVisible:function(e){return{type:o.default.setIsVisible,payload:e}},setIsOpenFor:function(e,t){return{type:o.default.setIsOpenFor,payload:{key:e,isOpen:t}}},setValueFor:function(e,t){return{type:o.default.setValueFor,payload:{key:e,value:t}}},setVideoQualityOptions:function(e){return{type:o.default.setVideoQualityOptions,payload:e}}}},function(e,t){function i(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}e.exports=i},function(e,t,i){function n(e,t){return s(o(e,t,r),e+"")}var r=i(48),o=i(101),s=i(102);e.exports=n},function(e,t,i){var n=i(200),r=i(83),o=i(48),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=s},function(e,t,i){function n(e,t,i,n){var s=!i;i||(i={});for(var a=-1,l=t.length;++a<l;){var u=t[a],c=n?n(i[u],e[u],u,i,e):void 0;void 0===c&&(c=e[u]),s?o(i,u,c):r(i,u,c)}return i}var r=i(75),o=i(82);e.exports=n},function(e,t,i){function n(e){return r(function(t,i){var n=-1,r=i.length,s=r>1?i[r-1]:void 0,a=r>2?i[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,a&&o(i[0],i[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++n<r;){var l=i[n];l&&e(t,l,n,s)}return t})}var r=i(194),o=i(198);e.exports=n},function(e,t,i){function n(e,t,i){if(!a(i))return!1;var n=typeof t;return!!("number"==n?o(i)&&s(t,i.length):"string"==n&&t in i)&&r(i[t],e)}var r=i(35),o=i(36),s=i(38),a=i(15);e.exports=n},function(e,t){function i(e){var t=0,i=0;return function(){var s=o(),a=r-(s-i);if(i=s,a>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var n=800,r=16,o=Date.now;e.exports=i},function(e,t){function i(e){return function(){return e}}e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(2),a=n(s),l=i(89),u=n(l),c=i(209),d=n(c),h=i(11),p=n(h),f=i(14),m=n(f),g=u.default.delegatePublicMethods,y=u.default.mediaDataWithAssets,_=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.uuid=(0,m.default)("wistia_manual_quality_video_"),this.root=t,this.mediaData=i,this.allAssets=i.assets,this.attributes=n,this.simpleVideo=new u.default(this.root,this.mediaDataForSimpleVideo(),this.attributes)}return o(e,[{key:"mediaDataForSimpleVideo",value:function(){return y(this.mediaData,this.assetsForSimpleVideo())}},{key:"defaultAsset",value:function(){return d.default.bestAsset(this)}},{key:"selectableAssets",value:function(){return d.default.selectable(this)}},{key:"assetsForSimpleVideo",value:function(){var e=this.selectableAssets();return e=p.default.moveToFront(e,this.defaultAsset())}},{key:"changeVideo",value:function(e,t){return this.mediaData=e,this.allAssets=e.assets,this.attributes=t,d.default.uncache(this),this.simpleVideo.changeVideo(this.mediaDataForSimpleVideo(),t)}},{key:"setAttributes",value:function(e){a.default.assign(this.attributes,e),this.simpleVideo.setAttributes(e)}}]),e}();g(_.prototype,function(){return this.simpleVideo}),e.exports=_},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(6),o=i(3),s=n(o),a=i(2),l=n(a),u=i(11),c=n(u),d=(0,r.cachedDetect)(),h=function(e){var t=c.default.filter(e,{container:d.video.webm?/webm|mp4/:"mp4",sortBy:"width asc, bitrate desc",public:!0,status:c.default.READY});return t=l.default.filter(t,function(t){return"webm"===t.container||0===l.default.filter(e,function(e){return"webm"===e.container&&e.width===t.width}).length})};e.exports={selectableAssets:h}},function(e,t,i){var n,r;r=i(6).cachedDetect,n=function(){function e(t){t instanceof e?(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a):t?this.parse(t):(this.r=this.g=this.b=0,this.a=1)}var t,i,n,o,s,a;return e.detect=r(),o=/^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i,a=/^rgba?\((\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?)(?:,\s*([01]?\.?\d*))?\)$/,s=/^\d+(\.\d+)*%$/,t=/([0-9a-f])/gi,n=function(e){return s.test(e)?2.55*parseFloat(e):e},i=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e.prototype.parse=function(e){var i,r;return o.test(e)?(r=e.replace(/^\#/,""),3!==r.length&&4!==r.length||(r=r.replace(t,"$1$1")),this.r=parseInt(r.substr(0,2),16),this.g=parseInt(r.substr(2,2),16),this.b=parseInt(r.substr(4,2),16),8===r.length?this.a=parseInt(r.substr(6,2),16)/255:this.a=1):a.test(e)&&(i=e.match(a),this.r=parseFloat(n(i[1])),this.g=parseFloat(n(i[2])),this.b=parseFloat(n(i[3])),i[4]?this.a=parseFloat(i[4]):this.a=1),this},e.prototype.clone=function(){return new e(this)},e.prototype._hslFromRgb=function(){var e,t,i,n,r,o,s,a,l;return a=this.r/255,i=this.g/255,e=this.b/255,o=Math.max(a,i,e),s=Math.min(a,i,e),r=(o+s)/2,o===s&&(this._h=this._s=0),0==(t=o-s)?(this._h=0,this._s=0,this._l=100*a,this):(l=r>.5?t/(2-o-s):t/(o+s),n=o===a?(i-e)/t+(i<e?6:0):o===i?(e-a)/t+2:(a-i)/t+4,n/=6,this._h=360*n,this._s=100*l,this._l=100*r,this)},e.prototype._rgbFromHsl=function(){var e,t,n,r,o;return e=this._h/360,o=this._s/100,t=this._l/100,r=t<.5?t*(1+o):t+o-t*o,n=2*t-r,this.r=255*i(n,r,e+1/3),this.g=255*i(n,r,e),this.b=255*i(n,r,e-1/3),this},e.prototype.blendChannel=function(e,t,i){return this[e]=i*t+(1-i)*this[e],this},e.prototype.blend=function(t,i){return t=new e(t),this.blendChannel("r",t.r,i),this.blendChannel("g",t.g,i),this.blendChannel("b",t.b,i),this},e.prototype.lightenChannel=function(e,t){return this[e]+=t,this[e]<0?this[e]=0:this[e]>255&&(this[e]=255),this},e.prototype.lighten=function(e){return this.looksLikePercent(e)?this.lightness(this.lightness()+parseFloat(e)):(this.lightenChannel("r",e),this.lightenChannel("g",e),this.lightenChannel("b",e)),this},e.prototype.darken=function(e){return"string"==typeof e?this.lighten("-"+e):this.lighten(-e)},e.prototype.looksLikePercent=function(e){return/^\-?\d+(\.\d+)?%$/.test(e)},e.prototype.lightness=function(e){return this._hslFromRgb(),null!=e?(this._l=Math.max(0,Math.min(100,e)),this._rgbFromHsl(),this):this._l},e.prototype.saturation=function(e){return this._hslFromRgb(),null!=e?(this._s=Math.max(0,Math.min(100,e)),this._rgbFromHsl(),this):this._s},e.prototype.grayLevel=function(){return(.299*this.r+.587*this.g+.114*this.b)/255},e.prototype.whiteLevel=function(){return Math.min(Math.min(this.r,this.g),this.b)},e.prototype.isGrayscale=function(){return this.r===this.g&&this.g===this.b},e.prototype.distanceFrom=function(e){return Math.sqrt(Math.pow(this.r-e.r,2)+Math.pow(this.g-e.g,2)+Math.pow(this.b-e.b,2))},e.prototype.channelDominance=function(){return["r","g","b"].sort(function(e){return function(t,i){return e[i]-e[t]}}(this))},e.prototype.alpha=function(e){return null!=this.a?(this.a=e,this):this.a},e.prototype.red=function(e){return null!=e?(this.r=e,this):this.r},e.prototype.green=function(e){return null!=this.g?(this.g=e,this):this.g},e.prototype.blue=function(e){return null!=this.b?(this.b=e,this):this.b},e.prototype.toHex=function(){var e,t,i;return i=Math.round(this.r).toString(16),t=Math.round(this.g).toString(16),e=Math.round(this.b).toString(16),1===i.length&&(i="0"+i),1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),""+i+t+e},e.prototype.toHexWithAlpha=function(){var e;return e=Math.round(255*this.a).toString(16),1===e.length&&(e="0"+e),""+e+this.toHex()},e.prototype.toRgb=function(){return"rgb("+Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+")"},e.prototype.toRgba=function(){return"rgba("+Math.round(this.r)+","+Math.round(this.g)+","+Math.round(this.b)+","+this.a+")"},e.prototype.toRgbaOrHex=function(){return this.constructor.detect.browser.msie&&this.constructor.detect.browser.version<9?"#"+this.toHex():this.toRgba()},e.prototype.toPercent=function(){return"rgba("+this.r/255*100+"%,"+this.g/255*100+"%,"+this.b/255*100+"%,"+this.a+")"},e.prototype.toIeGradient=function(){return"progid:DXImageTransform.Microsoft.gradient(startColorStr='#"+this.toHexWithAlpha()+"', endColorStr='#"+this.toHexWithAlpha()+"')"},e.prototype.toString=function(){return this.toPercent()},e}(),e.exports=n},function(e,t,i){var n,r,o,s,a,l,u,c,d;d=i(340),n=null,l=function(){var e;return null!=n?n:(e=document.createElement("div"),e.style.paddingLeft=e.style.width="1px",document.body.appendChild(e),n=2===e.offsetWidth,document.body.removeChild(e),n)},u=function(e){var t,i,n,r,o,s,a,u;return t=document.body,u=document.defaultView,o=document.documentElement,i=e.getBoundingClientRect(),r=o.clientTop||t.clientTop||0,n=o.clientLeft||t.clientLeft||0,a=(null!=u?u.pageYOffset:void 0)||l()&&o.scrollTop||t.scrollTop,s=(null!=u?u.pageXOffset:void 0)||l()&&o.scrollLeft||t.scrollLeft,{top:i.top+a-r,left:i.left+s-n}},c=function(e,t){var i,n,r;return i=u(e),n=t.clientX-i.left,r=t.clientY-i.top,{top:r,left:n}},r=function(e){var t,i;for(t=e,i=[];t=t.parentNode;)i.push(t);return i},o=function(e,t){var i,n,o,a,l;for(l=[],a=r(e),n=0,o=a.length;n<o;n++)i=a[n],s(i,t)&&l.push(i);return l},s=function(e,t){var i,n;return!!(i=null!=e&&"function"==typeof e.getAttribute?e.getAttribute("class"):void 0)&&(n=!1,d.eachIndexOf(i,t,function(e){var r,o,s;if(r=0===e||" "===i.charAt(e-1),s=e+t.length===i.length,o=" "===i.charAt(e+t.length),r&&(s||o))return n=!0,d.breakIdentifier}),n)},a=function(e){for(;e=e.parentNode;)if(e===document)return!0;return!1},e.exports={offset:u,relativeMousePosition:c,hasClass:s,inDom:a,ancestors:r,ancestorsWithClass:o}},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){f&&m&&(f=!1,m.length?p=m.concat(p):g=-1,p.length&&a())}function a(){if(!f){var e=r(s);f=!0;for(var t=p.length;t;){for(m=p,p=[];++g<t;)m&&m[g].run();g=-1,t=p.length}m=null,f=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c=e.exports={},d,h;!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(e){h=n}}();var p=[],f=!1,m,g=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new l(e,t)),1!==p.length||f||r(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=u,c.addListener=u,c.once=u,c.off=u,c.removeListener=u,c.removeAllListeners=u,c.emit=u,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,i){function n(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new n(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(90),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(314),o=n(r),s={setIsMenuOpen:function(e){return{type:o.default.setIsMenuOpen,payload:e}},setMultipleProperties:function(e){return{type:o.default.setMultipleProperties,payload:e}},setCurrentLanguage:function(e){return{type:o.default.setCurrentLanguage,payload:e}}};t.default=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(289),o=n(r);t.default={setMultipleProperties:function(e){return{type:o.default.setMultipleProperties,payload:e}},setVisibility:function(e){return{type:o.default.setVisibility,payload:e}},setIsMenuOpen:function(e){return{type:o.default.setIsMenuOpen,payload:e}},setIsEmbedCodeCopierOpen:function(e){return{type:o.default.setIsEmbedCodeCopierOpen,payload:e}},setActiveChannels:function(e){return{type:o.default.setActiveChannels,payload:e}},setPageTitle:function(e){return{type:o.default.setPageTitle,payload:e}},setPageUrl:function(e){return{type:o.default.setPageUrl,payload:e}},setVideoName:function(e){return{type:o.default.setVideoName,payload:e}},setIgnoreQueryParams:function(e){return{type:o.default.setIgnoreQueryParams,payload:e}},setTweetText:function(e){return{type:o.default.setTweetText,payload:e}},setDownloadType:function(e){return{type:o.default.setDownloadType,payload:e}},setAsset:function(e,t){return{type:o.default.setAsset,payload:{quality:e,assetHash:t}}},setConversionOpportunityKey:function(e){return{type:o.default.setConversionOpportunityKey,payload:e}},setConversionOpportunity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:o.default.setConversionOpportunity,payload:e}},setCurrentTime:function(e){return{type:o.default.setCurrentTime,payload:e}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(103),o=i(2),s=n(o),a=i(11),l=n(a),u=i(1),c=i(202),d=u.wlog.getPrefixedFunctions("asset_selection"),h=(0,r.makeCacheable)("asset_selection"),p=function(e){return(0,c.selectableAssets)(e.allAssets)},f=function(e){var t=e.attributes;if(d.info("bestAsset"),H(e))return m(e);if("sd-only"===t.videoQuality)return d.info("videoQuality=sd-only"),E(e);if("hd-only"===t.videoQuality)return d.info("videoQuality=hd-only"),b(e);if("md"===t.videoQuality)return d.info("videoQuality=md"),A(e);if(v(t.videoQuality)){var i=L(e);if(i)return d.info("targetAsset",t.videoQuality),i}return e.isInFullscreen()?(d.info("infullscreen"),g(e)):(d.info("default"),F(e)||E(e))},m=function(e){var t=e.attributes;if("low-fps"===t.videoQuality)return d.info("videoQuality=low-fps"),w(e);if(v(t.videoQuality)){var i=L(e);if(i)return d.info("targetAsset",t.videoQuality),i}return k(e)},g=function(e){return e.attributes.supportsHd?(d.info("supportsHd=true"),y(e)):(d.info("supportsHd=false"),_(e))},y=function(e){return B(e)||F(e)||I(e)||M(e)},_=function(e){return F(e)||E(e)},v=function(e){return/width:/.test(e)},b=function(e){return B(e)||I(e)||M(e)},A=function(e){return I(e)||M(e)},w=function(e){return j(e)||M(e)},E=function(e){return h(e,"md_or_sd",function(){var t=e.attributes;return"sd-only"===t.videoQuality?M(e):"md"===t.videoQuality||e.attributes.width>=720?I(e)||M(e):M(e)})},k=function(e){return h(e,"screencast",function(){return l.default.playable(e.allAssets,{bitrate:[0,1300],sortBy:"width desc, bitrate asc",width:[0,D(e).width]})})},C=function(e){var t=e.attributes;return{qualityMin:t.qualityMin,qualityMax:t.qualityMax}},x=function(e,t){return l.default.playable(e.allAssets,t)},T=function(e,t){return l.default.iphone(e.allAssets,t)},S=function(e){return l.default.iphone(e.allAssets,C(e))},O=function(e){return l.default.mp4(e.allAssets,C(e))},P=function(e,t){return x(e,s.default.assign(C(e),t))},M=function(e){return h(e,"sd_asset",function(){return S(e)||O(e)||T(e)||x(e)})},I=function(e){return h(e,"md_asset",function(){return P(e,{width:[720,980],sortBy:"width desc, bitrate desc"})})},B=function(e){return h(e,"hd_asset",function(){return P(e,{width:[980,e.attributes.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"})})},D=function(e){return h(e,"original",function(){return l.default.original(e.allAssets)})},F=function(e){var t=e.attributes;return null!=t.savedBandwidth?P(e,{bitrate:[0,t.savedBandwidth],width:[0,t.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"})||E(e):null},R=function(e){if(!v(e))return{};var t=e.match(/width:([a-z]*)(\d+)/i),i=t[1],n=t[2];return/^\d+$/.test(n)?(n=parseInt(n,10),""===i&&(i="lte"),{op:i,val:n}):{}},L=function(e){var t=R(e.attributes.videoQuality),i=t.op,n=t.val;return"lte"===i?x(e,{width:[0,n],sortBy:"width desc"})||x(e,{width:[n,1e4],sortBy:"width asc"}):"gte"===i?x(e,{width:[n,1e4],sortBy:"width asc"})||x(e,{width:[0,n],sortBy:"width desc"}):null},j=function(e){return h(e,"low_fps_asset",function(){return l.default.mp4(e.allAssets,{public:!1})})},H=function(e){return h(e,"is_screencast",function(){return l.default.isScreencast(e.allAssets)&&!!k(e)})},N=function(e){(0,r.uncacheNamespace)("asset_selection",e)};e.exports={bestAsset:f,selectable:p,uncache:N}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(51),o=n(r),s=function(e){var t=e.video;return t.buffered.length>0&&t.buffered.end(0)>0},a=function(e){for(var t=e.video,i=t.currentTime,n=0;n<t.buffered.length;n++){var r=t.buffered.start(n),o=t.buffered.end(n);if(r<=i&&i<o)return[r,o]}return null},l=function(e){return o.default.sumTimeRanges(e.video.buffered)},u=function(e){var t=e.video,i=t.buffered,n=null;try{for(var r=0;r<i.length;r++){var o=i.start(r)-.5,s=i.end(r)+.5;if(o<=t.currentTime&&t.currentTime<s){n=r;break}}if(null!=n){for(var a=n,l=n;l<i.length&&i.start(l)-.5<=i.end(a)+.5;l++)a=l;return[i.start(n),i.end(a)]}return null}catch(e){return logger.error(e),null}},c=function(e,t,i){var n=e.video;if(n){var r,s=n.buffered,a=[];for(r=0;r<s.length;r++)a.push({start:s.start(r),end:s.end(r)});return o.default.bufferedInfo(a,t,i)}return{len:0,start:0,end:0,nextStart:void 0}},d=function(e,t){return c(e,e.getCurrentTime(),t).end},h=function(e,t){return d(e,t)-e.getCurrentTime()};e.exports={anyBuffered:s,activeBufferRange:a,totalBuffered:l,sequentialBufferedRange:u,bufferInfo:c,lastBufferedTime:d,timeBeforeEndOfBuffer:h}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(2),o=n(r),s=i(4),a=i(53),l=300,u=function(e){var t=e.attributes;return(null!=t.eventLoopDuration?t.eventLoopDuration:300)/e.getPlaybackRate()},c=function(e){var t=e.video;null==e.state&&(e.state={}),"playing"===e.getPlaybackMode()&&(e.state.hasPlayed=!0),(0,s.elemBind)(t,"playing",function(){e.state.hasPlayed=!0}),(0,s.elemBind)(t,"waiting",function(){e.state.gotWaiting=!0}),o.default.assign(e.state,{lastPlaybackMode:e.getPlaybackMode(),lastTimePosition:e.getCurrentTime(),lastEventLoopDuration:u(e)});var i=e.uuid+".custom_state_and_events";a.globalEventLoop.add(i,u(e),function(){o.default.assign(e.state,{lastTimePosition:e.getCurrentTime(),lastPlaybackMode:e.getPlaybackMode(),lastEventLoopDuration:u(e)}),a.globalEventLoop.interval(i,u(e))})},d=function(e){var t=e.uuid+".custom_state_and_events";a.globalEventLoop.remove(t)};e.exports={setup:c,teardown:d}},function(e,t){"use strict";var i=function(e){try{return e()}catch(e){return"ERROR: "+e.message}},n=function(e){var t={};return t.state=e.state,t.attributes=e.attributes,t.currentAsset=e.currentAsset(),t.currentAsset.url&&t.currentAsset.url.length>100&&(t.currentAsset.url=t.currentAsset.url.substring(0,97)+"..."),t.selectedAsset=e.selectedAsset(),t.selectedAsset.url&&t.selectedAsset.url.length>100&&(t.selectedAsset.url=t.selectedAsset.url.substring(0,97)+"..."),t.getState=i(function(){return e.getState()}),t.getDuration=i(function(){return e.getDuration()}),t.getPlaybackRate=i(function(){return e.getPlaybackRate()}),t.getPlaybackMode=i(function(){return e.getPlaybackMode()}),t.isSeeking=i(function(){return e.isSeeking()}),t.getCurrentTime=i(function(){return e.getCurrentTime()}),t.activeBufferRange=i(function(){return e.activeBufferRange()}),t.sequentialBufferedRange=i(function(){return e.sequentialBufferedRange()}),t.getVolume=i(function(){return e.getVolume()}),t.timeBeforeEndOfBuffer=i(function(){return e.timeBeforeEndOfBuffer()}),t.lastBufferedTime=i(function(){return e.lastBufferedTime()}),t.totalBuffered=i(function(){return e.totalBuffered()}),t.anyBuffered=i(function(){return e.anyBuffered()}),t.getPreload=i(function(){return e.getPreload()}),t.rawVideoProps=i(function(){return o(e)}),t},r=["autoplay","controls","crossOrigin","currentSrc","currentTime","defaultMuted","defaultPlaybackRate","duration","ended","error","loop","muted","networkState","paused","playbackRate","preload","readyState","seeking","src","startDate","volume"],o=function(e){for(var t=e.video,i={},n=0;n<r.length;n++){var o=r[n],s=t[o];i[o]=s}return i};e.exports={getDiagnosticData:n}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(4),o=i(11),s=n(o),a=i(6),l=(0,a.cachedDetect)(),u=function(e,t){return e.setAttributes({width:t}),d(e)},c=function(e,t){return e.setAttributes({height:t}),d(e)},d=function(e){var t=e.attributes.fitStrategy;return"contain"===t?p(e):"cover"===t?h(e):"fill"===t?f(e):p(e)},h=function(e){var t=e.video,i=(e.attributes,s.default.videoAspect(e.allAssets)),n=(0,r.elemWidth)(e.root),o=(0,r.elemHeight)(e.root),a=n/o;l.trident||l.edge||l.browser.msie?a<=i?(0,r.elemStyle)(t,{height:"100%",left:"50%",objectFit:"contain",position:"relative",top:"50%",transform:"translate(-50%,-50%)",width:"1920px"}):(0,r.elemStyle)(t,{height:"1088px",left:"50%",objectFit:"contain",position:"relative",top:"50%",transform:"translate(-50%,-50%)",width:"100%"}):(0,r.elemStyle)(t,{objectFit:"cover"})},p=function(e){var t=e.video;(0,r.elemStyle)(t,{objectFit:"contain",height:"100%",width:"100%"})},f=function(e){var t=e.video;(0,r.elemStyle)(t,{objectFit:"fill",height:"100%",width:"100%"})};e.exports={onWidthChange:u,onHeightChange:c,fit:d}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(47),o=n(r),s=i(1),a=i(4),l=i(18),u=s.wlog.getPrefixedFunctions("SimpleVideo"),c=function(e){var t=e.video;return null==e.state&&(e.state={}),e.state.onReadyPromise?e.state.onReadyPromise:e.state.onReadyPromise=new o.default(function(i){if(e.state.hasBeenReady)i();else{if(t.readyState>=2)(0,l.doTimeout)(e.uuid+".ready_later",function(){u.info("ready readyState",t.src,t.readyState),e.state.hasBeenReady=!0,i()});else{var n=function(){(0,l.doTimeout)(e.uuid+".loadstart",function(){u.info("ready loadstart"),e.state.hasBeenReady=!0,i()})};(0,a.elemBind)(t,"loadstart",n)}(0,l.doTimeout)(e.uuid+".ready_fallback",function(){e.state.hasBeenReady||(u.info("ready fallback"),e.state.hasBeenReady=!0,i())},200)}})};e.exports={onReady:c}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(47),o=n(r),s=i(2),a=i(4),l=i(1),u=i(96),c=n(u),d=i(52),h=n(d),p=l.wlog.getPrefixedFunctions("SimpleVideo"),f=function(e,t){return h.default.isStartDefined(e)?m(e,t+e.attributes.trimStart):m(e,t)},m=function(e,t){return p.info("seek",t),e.getPlaybackMode()===c.default.BEFORE_PLAY?g(e,t):y(e,t)},g=function(e,t){var i=e.video;return p.info("seekBeforePlay",t),new o.default(function(n){p.info("time "+t+": seek beforeplay");var r="playing"===e.getPlaybackMode(),o=i.volume,l=function(){p.info("time "+t+": jump to time after playing"),i.currentTime=t,r?p.info("time: "+t+": play after seek"):(p.info("time: "+t+": pause after seek"),i.pause()),i.volume=o,(0,s.assign)(e.state,{seeking:!1,volumeBeforeSuppressed:null}),v(e).then(function(){i.style.visibility="visible",n()})};i.style.visibility="hidden",(0,s.assign)(e.state,{seeking:!0,volumeBeforeSuppressed:o}),i.volume=0,p.info("time "+t+": start stream by calling play"),e.trigger("beforeplay"),i.play(),"playing"===e.getPlaybackMode()?l():(0,a.elemBind)(i,"playing",function(){return l(),a.elemUnbind})})},y=function(e,t){return p.info("seekNow",t),new o.default(function(i){p.info("seekNow: start",t),e.video.currentTime=t,v(e).then(function(){p.info("seekNow: resolve",t),i()})})},_=function(e,t){return new o.default(function(i){"playing"===e.getPlaybackMode()?y(e,t).then(i):(0,a.elemBind)(e.video,"playing",function(){return y(e,t).then(i),a.elemUnbind})})},v=function(e){var t=e.video;return new o.default(function(e){t.seeking?(p.info("waiting for seek"),(0,a.elemBind)(t,"seeked",function(){return p.info("seeked"),e(),a.elemUnbind})):(p.info("no wait for seek"),e())})},b=function(e){return!!e.state.seeking};e.exports={seek:f,seekOnPlay:_,isSeeking:b}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(47),o=n(r),s=i(4),a=i(1),l=i(78),u=i(52),c=n(u),d=i(6),h=a.wlog.getPrefixedFunctions("SimpleVideo"),p=(0,d.cachedDetect)(),f=function(e){return e.state.fakeEnded?e.seek(0).then(function(){return m(e)}):c.default.isBeforeStart(e)?e.seek(0).then(function(){return m(e)}):m(e)},m=function(e){var t=e.video;return new o.default(function(i){var n=e.getPlaybackMode();h.info("play: start",t.playing),"playing"===n?(h.info("play: already playing, resolve"),i()):(e.trigger("beforeplay"),"ended"===n&&p.ios.version>0&&t.load(),t.play(),(0,s.elemBind)(t,"playing",function(){return h.info("play: got playing, resolve"),i(),s.elemUnbind}))})},g=function(e){return!(p.ios.version>0||p.android)||(0,s.inUserEventContext)()||(0,l.isInVideoEventContext)(e)},y=function(e){var t=e.video;return h.info("pause"),new o.default(function(e){h.info("pause: start"),t.pause(),(0,s.safeRequestAnimationFrame)(function(){h.info("pause: resolve"),e()})})},_=function(e,t){return c.default.isStartDefined(e)?v(e,t+e.attributes.trimStart):v(e,t)},v=function(e,t){h.info("setCurrentTime",t),e.video.currentTime=t},b=function(e){return c.default.isStartDefined(e)?Math.max(0,e.video.currentTime-e.attributes.trimStart):e.video.currentTime},A=function(e){return{playbackMode:e.getPlaybackMode(),currentTime:e.getCurrentTime(),volume:e.getVolume(),playbackRate:e.getPlaybackRate()}},w=function(e,t){h.info("setVolume",t);var i=e.video;i.volume=t,0===t?(i.setAttribute("muted","muted"),i.muted=!0):(i.removeAttribute("muted"),i.muted=!1)},E=function(e){return e.isSeeking()?e.state.volumeBeforeSuppressed:e.video.volume},k=function(e){return null!=e.video.playbackRate},C=function(e,t){h.info("setPlaybackRate",t),k(e)?e.video.playbackRate=t:h.info("playbackRate is supported on",e.video)},x=function(e){return k(e)?e.video.playbackRate:1},T=function(e){return c.default.isStartDefined(e)&&c.default.isEndDefined(e)?Math.max(0,e.attributes.trimEnd-e.attributes.trimStart):c.default.isStartDefined(e)?S(e)-e.attributes.trimStart:c.default.isEndDefined(e)?e.attributes.trimEnd:S(e)},S=function(e){var t=e.attributes;return null!=t.duration?t.duration:e.video.readyState>=2?e.video.duration:void 0},O=function(e,t){return t.target==e.video},P=function(e){var t=e.video;return t.muted||0===t.volume||!M(e)},M=function(e){var t=e.video;return t.mozHasAudio||t.webkitAudioDecodedByteCount||t.audioTracks&&t.audioTracks.length},I=function(e){return e.video.getAttribute("preload")},B=function(e){e.state.isInFullscreen=!0,e.video.style.backgroundColor="#000"},D=function(e){e.state.isInFullscreen=!1,e.video.style.backgroundColor="transparent"},F=function(e){return!!e.state.isInFullscreen},R=function(e){},L=function(e){},j=function(e){return e.video},H=function(e){(0,s.elemRequestFullscreen)(e.video)},N=function(e){(0,s.elemCancelFullscreen)(e.video)};e.exports={play:f,canPlay:g,pause:y,setCurrentTime:_,getCurrentTime:b,getState:A,setVolume:w,getVolume:E,setPlaybackRate:C,getPlaybackRate:x,getDuration:T,isMuted:P,isSourceOfBrowserEvent:O,getPreload:I,onEnterFullscreen:B,onLeaveFullscreen:D,isInFullscreen:F,onWidthChange:R,onHeightChange:L,videoElem:j}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(47),o=n(r),s=i(1),a=i(51),l=n(a),u=i(95),c=n(u),d=i(4),h=s.wlog.getPrefixedFunctions("SimpleVideo"),p=function(e){for(var t=e.video,i=[],n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];1===r.nodeType&&"source"===r.tagName.toLowerCase()&&i.push(r)}return i},f=function(e){try{var t=e.video;t.src=l.default.srcProtocolAndHost(t.getAttribute("src"))+"/tiny.mp4",t.load()}catch(e){h.warn(e)}},m=function(e,t){h.info("changeStreamWithoutLoad",t&&t.slug,t);var i=e.video;if((0,d.elemInDom)(i)){var n=l.default.properAssetUrl(t.url,t.container);e.state={},e._currentAsset=t,i.src=n;var r=p(e);r.length>0&&(r[0].src=n),e.trigger("stream-changed",e._currentAsset)}},g=function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];h.info("changeStream",i,n,t&&t.slug,t);var r=e.video;return e.asset=t,new o.default(function(o){var s=l.default.properAssetUrl(t.url,t.container);if(!n&&s===r.getAttribute("src"))return void o();var a=e.getState();e.state.seeking=!0,(0,d.elemBind)(r,"loadstart",function(){return n?(r.style.visibility="visible",e.state.seeking=!1,o()):a.currentTime>2?e.seek(a.currentTime).then(function(){"playing"===a.playbackMode?e.play().then(function(){e.state.seeking=!1,r.style.visibility="visible",o()}):e.pause().then(function(){r.style.visibility="visible",e.state.seeking=!1,o()})}):("playing"===a.playbackMode&&e.play(),r.style.visibility="visible",
e.state.seeking=!1,o()),e.setPlaybackRate(a.playbackRate),d.elemUnbind}),r.style.visibility="hidden",m(e,t,n),"beforeplay"===a.playbackMode||i||e.play()})},y=function(e){return!!e.state.isChangingVideo},_=function(e,t,i){return e.state.isChangingVideo=!0,e.destroy(),c.default.setupProperties(e,t,i),c.default.setupBindingsAndLoops(e,e.allAssets,i),new o.default(function(t){g(e,e.defaultAsset()).then(function(){e.state.isChangingVideo=!1,t()})})};e.exports={stopStreaming:f,changeStreamWithoutLoad:m,changeStream:g,changeVideo:_,isChangingVideo:y}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(2),o=n(r),s=i(4),a=i(53),l=300,u=function(e){var t=e.attributes;return(null!=t.eventLoopDuration?t.eventLoopDuration:300)/e.getPlaybackRate()},c=function(e){null==e.state&&(e.state={}),e.state.waiting=-1;var t=e.uuid+".waiting_events";a.globalEventLoop.add(t,u(e),function(){h(e),a.globalEventLoop.interval(t,u(e))})},d=function(e){var t=e.uuid+".waiting_events";a.globalEventLoop.remove(t)},h=function(e){var t=e.video,i=e.state,n=i.lastPlaybackMode,r=i.gotWaiting&&"beforeplay"===e.getPlaybackMode()||"playing"===e.getPlaybackMode(),a="playing"===n||"beforeplay"===n,l=i.lastEventLoopDuration||u(e);if(r&&a)if(e.getCurrentTime()===i.lastTimePosition){var c=i.startedWaitingAt;c?(i.waiting=((new Date).getTime()-c)/1e3,e.trigger("custom-waiting",i.waiting)):(o.default.assign(i,{startedWaitingAt:(new Date).getTime()-l,waiting:l/1e3}),e.trigger("custom-waiting",l/1e3),(0,s.elemBind)(t,"timeupdate",function(){return p(e),s.elemUnbind}))}else p(e);else p(e)},p=function(e){var t=e.state.waiting;o.default.assign(e.state,{waiting:-1,startedWaitingAt:null}),null!=t&&t>=0&&e.trigger("custom-done-waiting",t)};e.exports={maybeTriggerWaiting:h,setup:c,teardown:d}},function(e,t,i){function n(e,t,i){var n=null==e?0:e.length;if(!n)return-1;var a=null==i?0:o(i);return a<0&&(a=s(n+a,0)),r(e,t,a)}var r=i(81),o=i(221),s=Math.max;e.exports=n},function(e,t,i){function n(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*s:e===e?e:0:0===e?e:0}var r=i(190),o=1/0,s=1.7976931348623157e308;e.exports=n},function(e,t,i){function n(e){var t=r(e),i=t%1;return t===t?i?t-i:t:0}var r=i(220);e.exports=n},function(e,t,i){!function(e){var t;e.StopGo||(t=i(1).wlog,t=t.getPrefixedFunctions("StopGo"),e.StopGo=i(58),e.StopGo.prototype._debug=function(){return t.notice.apply(t,arguments)})}(Wistia)},function(e,t,i){i(228),i(229),i(226),i(224),i(227),i(222)},function(e,t,i){var n,r=[].slice;n=i(79),function(e){var t,i,o,s;if(!e.bindable){e.bindable={bind:function(t,i){return!0===("function"==typeof this.specialBind?this.specialBind.apply(this,arguments):void 0)?this:i?n.bind.call(this,t,i):e.warn(this.constructor.name,"bind","falsey value passed in as callback:",i)},unbind:function(e,t){return!0===("function"==typeof this.specialUnbind?this.specialUnbind.apply(this,arguments):void 0)?this:(t?n.unbind.call(this,e,t):this._bindings&&(this._bindings[e]=[]),this._bindings&&this._bindings[e]&&!this._bindings[e].length&&(this._bindings[e]=null,delete this._bindings[e]),this)},rebind:function(e,t){return this.unbind(e,t),this.bind(e,t)},trigger:function(){var e,t,i,o;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],(i=n.trigger).call.apply(i,[this,t].concat(r.call(e))),(o=n.trigger).call.apply(o,[this,"all"].concat(r.call([t].concat(e)))),this},bindNamed:function(){return n.bindNamed.apply(this,arguments)},unbindNamed:function(){return n.unbindNamed.apply(this,arguments)},unbindAllInNamespace:function(){return n.unbindAllInNamespace.apply(this,arguments)}},i=e.bindable,o=[];for(t in i)s=i[t],e[t]?o.push(void 0):o.push(e[t]=s)}}(Wistia)},function(e,t,i){var n=[].slice;!function(e){var t,r,o,s,a,l,u,c,d,h;if(t="2015-02-17",r=e.Wistia,a=function(){var i;return i={},i.wistia=t,i._initializers={},i._destructors={},i.extend=function(){var e,t,r;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],t.length||(t=[e],e=i),(r=i.obj).merge.apply(r,[e].concat(n.call(t))),e},i.proto=function(t){return null==t&&(t=e.location.href),i.url.proto(t)},i.mixin=function(e,t){var i,n,r;n=[];for(i in t)r=t[i],t.hasOwnProperty(i)&&n.push(e[i]=r);return n},i.data=function(e,t){return i.obj.isArray(e)||(e=e.split(".")),null!=t&&i.obj.set(i,["_data"].concat(e),t),i.obj.get(i,["_data"].concat(e))},i.removeData=function(e){return i.obj.isArray(e)||(e=e.split(".")),i.obj.unset(i,["_data"].concat(e))},i.async=function(e,t){var n;return n=new i.StopGo,n.run(t),i.timeout(e,n.go,0),n},i.asyncChain=function(e,t,n){var r,o,s,a,l,u,c;for(null==n&&(n=1),c=[],o=function(e){var t;return t=function(){var t;try{return e()}catch(e){return t=e,i.error(t)}},c.push((new i.StopGo).run(t))},s=0,l=t.length;s<l;s++)r=t[s],o(r);return a=c[c.length-1],i._drainStopGosAsync(e,c),u=new i.StopGo,a.then(function(){return i.timeout(e+".last",function(){return u.go()},0)}),u},i.chain=function(e){var t,n,r,o,s;for(s=new i.StopGo,r=0,o=e.length;r<o;r++){n=e[r];try{n()}catch(e){t=e,i.error(t)}}return s.go(),s},i._drainStopGosAsync=function(e,t,n){var r;if(null==n&&(n=0),!(t.length<1))return r=t.shift(),r.run(function(){return i._drainStopGosAsync(e,t,n+1)}),i.timeout(e+"."+n,function(){return r.go()},0),r},i.uniqId=function(t,i){var n,r;return null==t&&(t=""),null==i&&(i=""),n=(new Date).getTime(),e.performance&&"function"==typeof e.performance.now&&(n+=e.performance.now()),r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-xxxxxxxxx-xxxxxxxxxxxx-xxxx".replace(/[xy]/g,function(e){var t,i;return t=(n+16*Math.random())%16|0,n=Math.floor(n/16),i="x"===e?t:3&t|8,i.toString(16)}),t+r+i},i.css=function(){var e,t,n;return 2===arguments.length?(n=arguments[0]||document.body||document.head,e=arguments[1]):(n=document.body||document.head,e=arguments[0]),/\{/.test(e)&&/\}/.test(e)?i.util.addInlineCss(n,e):(t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),i.elem.append(n,t),t)},i.script=function(){var e,t;return t=1<=arguments.length?n.call(arguments,0):[],(e=i.remote).scripts.apply(e,t)},i},s=function(){return null!=e.Wistia&&null!=e.Wistia.wistia},s()||(e.Wistia=a()),Wistia.timeout||(c=i(18),l=c.doTimeout,o=c.clearTimeouts,Wistia.seqId=i(14),Wistia.timeout=l,Wistia.clearTimeouts=o),null!=r&&null==r.wistia){d=[];for(u in r)h=r[u],d.push(Wistia[u]=h)}}(window)},function(e,t,i){!function(e){var t,n,r;n=e,n.elem||(n.Elem=t=i(4),n.elem=r={},r.html=t.elemHtml,r.fromObject=t.elemFromObject,r.toObject=t.elemToObject,r.clone=t.elemClone,r.append=t.elemAppend,r.prepend=t.elemPrepend,r.before=t.elemBefore,r.after=t.elemAfter,r.remove=t.elemRemove,r.removeClass=t.elemRemoveClass,r.addClass=t.elemAddClass,r.hasClass=t.elemHasClass,r.classes=t.elemClasses,r.style=t.elemStyle,r.vendoredProperties=t.vendoredProperties,r.vendoredProperty=t.vendoredProperty,r.vendorPrefixes=t.vendorPrefixes,r.propsWithVendorPrefixes=t.propsWithVendorPrefixes,r.width=t.elemWidth,r.height=t.elemHeight,r.isBoxModel=t.isBoxModel,r.offset=t.elemOffset,r.containsOffset=t.elemContainsOffset,r.scrollOffset=t.elemScrollOffset,r.isHidden=t.elemIsHidden,r.inDom=t.elemInDom,r.isDescendantOf=t.elemIsDescendantOf,r.ancestorHasClass=t.elemAncestorHasClass,r.ancestors=t.elemAncestors,r.isInside=t.elemIsInside,r.animate=t.elemAnimate,r.bind=t.elemBind,r.unbind=t.elemUnbind,r.unbindAll=t.elemUnbindAll,r.unbindAllInside=t.elemUnbindAllInside,r._bindKey=t.elemBindKey,r.rebind=t.elemRebind,r.bindOnce=t.elemBindOnce,r.trigger=t.elemTrigger,r.fullscreenElement=t.fullscreenElement,r.requestFullscreen=t.elemRequestFullscreen,r.cancelFullscreen=t.elemCancelFullscreen,r.stripEventAttributes=t.elemStripEventAttributes,r.mutationObserver=t.elemMutationObserver,r.domDistance=t.elemDomDistance,r.allBetween=t.elemAllBetween)}(Wistia)},function(e,t,i){var n;n=i(2),function(e){var t,i;e.hasState={updateState:function(e){var i,r,o,s,a;for(this.state||(this.state={}),i=t(this.state,e),a=n.clone(this.state),n.merge(a,e),this.state=a,r=0,o=i.length;r<o;r++)s=i[r],this.trigger("property:updated:"+s);if(0!==i.length)return this.trigger("property:updated:all")},getState:function(e){var t;return t=n.clone(this.state),e?t[e]:stateCone}},t=function(e,t){var n,r,o;n=[];for(r in t)o=t[r],i(o,e[r])&&n.push(r);return n},i=function(t,i){return e.obj.isObject(t)?!e.obj.equalsDeep(t,i):t!==i},e.mixin(e.hasState,e.bindable)}(Wistia)},function(e,t,i){!function(e){e.obj||(e.obj=i(2))}(Wistia)},function(e,t,i){!function(e){var t,n,r,o,s,a,l,u;e.util||(s=i(23),u=s.unescapeHtml,a=s.snakeCase,n=s.camelCase,r=s.notSetOrTrue,o=s.poll,l=s.throttle,t=i(4),e.util={bindEvent:function(){var t;return(t=e.elem).bind.apply(t,arguments)},unbindEvent:function(){var t;return(t=e.elem).unbind.apply(t,arguments)},elemHeight:function(t){return e.elem.height(t)},elemWidth:function(t){return e.elem.width(t)},elemInDom:function(t){return e.elem.inDom(t)},winHeight:function(){return e.elem.height(window)},winWidth:function(){return e.elem.width(window)},docHeight:function(){return e.elem.height(document)},docWidth:function(){return e.elem.width(document)},unescapeHtml:u,addInlineCss:t.addInlineCss,cssTags:t.getCssTags,execCssTags:t.execCssTags,removeCssTags:t.removeCssTags,scriptTags:t.getScriptTags,execScriptTags:t.execScriptTags,removeScriptTags:t.removeScriptTags,scrollTop:function(e){var t,i,n,r;return null!=e?(null!=(t=document.body)&&(t.scrollTop=e),null!=(i=document.documentElement)?i.scrollTop=e:void 0):("undefined"!=typeof document&&null!==document&&null!=(n=document.documentElement)?n.scrollTop:void 0)||("undefined"!=typeof document&&null!==document&&null!=(r=document.body)?r.scrollTop:void 0)||0},scrollLeft:function(e){var t,i,n,r;return null!=e?(null!=(t=document.body)&&(t.scrollLeft=e),null!=(i=document.documentElement)?i.scrollLeft=e:void 0):("undefined"!=typeof document&&null!==document&&null!=(n=document.documentElement)?n.scrollLeft:void 0)||("undefined"!=typeof document&&null!==document&&null!=(r=document.body)?r.scrollLeft:void 0)||0},applyTransform:function(e,t){var i,n,r,o,s;for(n=["msTransform","mozTransform","webkitTransform","transform"],s=[],r=0,o=n.length;r<o;r++)i=n[r],s.push(e.style[i]=t);return s},applyTransformOrigin:function(e,t){var i,n,r,o,s;for(n=["msTransformOrigin","mozTransformOrigin","webkitTransformOrigin","transformOrigin"],s=[],r=0,o=n.length;r<o;r++)i=n[r],s.push(e.style[i]=t);return s},vendoredCss:function(e){return function(t){var i,n;return n=["-webkit-","-moz-","-o-","-ms-",""],function(){var r,o,s;for(s=[],r=0,o=n.length;r<o;r++)i=n[r],s.push(""+i+e+": "+t+";");return s}().join("\n")}},transitionCss:function(){var t,i,n;return arguments[0]instanceof Array?(i=arguments,n=function(){var e,n,r;for(r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(t[0]+" "+t[1]+" linear "+(t[2]||"0s"));return r}().join(",")):(t=arguments,n=t[0]+" "+t[1]+" linear "+(t[2]||"0s")),e.util.vendoredCss("transition")(n)},transformCss:function(t){return e.util.vendoredCss("transform")(t)},niceDuration:function(e){var t,i;return t=i=0,e>0&&(t+=Math.floor(e/60),e%=60),i=Math.round(e),60===i&&(t+=1,i=0),t+":"+this.padNumber(i,2)},padNumber:function(e,t){var i;for(null==t&&(t=0),i=""+e;i.length<t;)i="0"+i;return i},localDate:function(e){var t,i;return null==e&&(e=new Date),i=-e.getTimezoneOffset(),t=i>=0?"+":"-",e.getFullYear()+"-"+this.padNumber(e.getMonth()+1,2)+"-"+this.padNumber(e.getDate(),2)+"T"+this.padNumber(e.getHours(),2)+":"+this.padNumber(e.getMinutes(),2)+":"+this.padNumber(e.getSeconds(),2)+t+this.padNumber(Math.abs(Math.floor(i/60)),2)+":"+this.padNumber(Math.abs(Math.floor(i%60)),2)},requestAnimationFrame:function(e){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)})(e)},notSetOrTrue:r,indexOf:function(e,t){var i,n,r;for(i=n=0,r=e.length;0<=r?n<=r:n>=r;i=0<=r?++n:--n)if("function"==typeof t){if(t(e[i]))return i}else if(e[i]===t&&e[i]===t)return i;return-1},insertIntoArray:function(t,i,n){var r;return null==n&&(n={}),n.after?(r=e.util.indexOf(t,n.detect||n.after),r>=0?t.splice(r+1,0,i):"undefined"!=typeof console&&null!==console?console.log(n.after+" not found when trying to add "+i+" to array"):void 0):n.before?(r=e.util.indexOf(t,n.detect||n.before),r>=0?t.splice(r,0,i):"undefined"!=typeof console&&null!==console?console.log(n.before+" not found when trying to add "+i+" to array"):void 0):null!=n.index?t.splice(n.index,0,i):t.push(i)},throttle:l,toArray:function(e,t){if(null==t&&(t=/\s+/),e instanceof Array)return e;if("string"==typeof e)return e.split(t);throw new Error("Don't know how to convert "+e+" into an array.")},poll:o,aps:function(e){var t,i,n,r;for(r=[],i=0,n=e.length;i<n;i++)t=e[i],r.push(t);return r},pageLoaded:t.pageLoaded,isDocReady:t.isDocReady,onDocReady:function(){var t,i,n,r,o,s,a,l;return arguments.length>1?(a=arguments[0],i=arguments[1]):(a=1e4,i=arguments[0]),e.util.isDocReady()?i():top===self&&document.documentElement.doScroll?(s=function(){try{return document.documentElement.doScroll("left"),!0}catch(e){return!1}},e.util.poll(s,i,50,a,i)):(o=function(t){if(e.util.isDocReady())return clearTimeout(r),l(),i()},t=function(){return e.elem.bind(document,"DOMContentLoaded",o),e.elem.bind(document,"readystatechange",o),e.elem.bind(window,"load",o)},l=function(){return e.elem.unbind(document,"DOMContentLoaded",o),e.elem.unbind(document,"readystatechange",o),e.elem.unbind(window,"load",o)},n=function(){return l(),i()},r=setTimeout(n,a),t())},camelCase:n,snakeCase:a,breakIdentifier:{},eachIndexOf:function(t,i,n){var r,o;for(r=-1,o=[];-1!==(r=t.indexOf(i,r+1))&&n(r)!==e.util.breakIdentifier;)o.push(void 0);return o},removeFromArray:function(e,t){var i;return i=e.indexOf(t),e.splice(i,1)},assetSizeShorthandToNumeric:function(e){return"4k"===e?2160:parseInt(e,10)},numericAssetSizeSnapped:function(e,t){var i,n;return i=e/t,n=e*t+1,n>=3840/i*3840?2160:n>=2560/i*2560?1440:n>=1920/i*1920?1080:n>=1280/i*1280?720:n>=960/i*960?540:n>=640/i*640?360:t},parentFramesLength:function(){var t;try{return parent.frames.length}catch(i){return t=i,e.warn(t),1}},injectWistiaOverpassFontFace:function(){if(!e._wistiaFontFaceStyle)return e._wistiaFontFaceStyle=e.css(this.wistiaOverpassFontFaceDefinition())},removeWistiaOverpassFontFace:function(){return e.elem.remove(e._wistiaFontFaceStyle),e._wistiaFontFaceStyle=null},wistiaOverpassFontFaceDefinition:function(){return"@font-face {\nfont-family: 'WistiaPlayerOverpass';\nsrc: url(data:application/x-font-ttf;charset=utf-8;base64,"+this.overpassBase64()+");\n}"},overpassBase64:function(){
return"AAEAAAARAQAABAAQRFNJRwAAAAEAAD8gAAAACEdQT1Phut9TAAAqPAAAFNZHU1VCAAEAAAAAPxQAAAAKT1MvMl1tVn0AACJIAAAAYGNtYXDlAIozAAAiqAAAAYpjdnQgAAAAAAAAJcAAAAAEZnBnbUM+8IgAACQ0AAABCWdhc3AAGgAjAAAqLAAAABBnbHlmipfKngAAARwAAB6QaGVhZILshugAACCEAAAANmhoZWEG2ALDAAAiJAAAACRobXR4uxUW0AAAILwAAAFobG9jYWHRWWgAAB/MAAAAtm1heHAAYQBgAAAfrAAAACBuYW1lGpIbcAAAJcQAAAOPcG9zdAkqCRUAAClUAAAA1nByZXBoUamTAAAlQAAAAH8AAgBI//IAxgLIAAUAEQAAEzUjFRMzFjY1NCYjIgYVFBYzrUgeCxMlJRoaJSUaAe/Z2f7SzyYZGSYmGRkmAAAAAAIAPAGxAUUCvAADAAcAABMTIxMzEyMTgRJXEOcSWBEBsQEL/vUBC/71AAAAAgA5AAACdAK8ABsAHwAANzMHMzczNyM3MzcjNyMHIzcjByMHMwcjBzMHMxMHIzf4jh9EH3QKdRx7CnweRB6OHUQecgpzG3gMex9E0hyOHMzMzD+yPcLCwsI9sj/MAb2ysgAAAAEAQf+eAgcDFQA0AAAAJic1IxUGBwYGFRQXFhYXFhcWFRQGIyImJwcWFhcVMzU2NzY1NCcmJicmJyY1NDYzMhYXNwHYUjxHTzIWGEIbQy1JJDBNRjtYFUIUZkhHVjM0QRtDK08gMUQ+M0QOQQKDOghQTwcvFjceUDUWIhEcISs7PkE2Lxg1TQlZWAgxNFNaPBkkER8YJTAtNCYeFgAAAAAFADv/9AM9AsgAEgAWACQANwBFAAAANzY2NTQnJiMiBwYGFRQXFhYzAQEzAQAmNTQ3NjMyFhUUBwYjADc2NjU0JyYjIgcGBhUUFxYWMyYmNTQ3NjMyFhUUBwYjASgrEREjKlBOLBIRJBM9KQGv/iJIAd792y4WGC4tLxYaLAIYKxERIypQTiwSESQTPSkuLhYYLi0vFhosAWQ8GT4fRzI5PRk+HkcxGx8BZP0sAtT+1kE3NSAjQTc0ICT+VjwZPh9HMjk9GT4eRzEbHzpBNzUgI0E3NCAkAAADAC//9AJ5AsgAJQAwADoAACU2NyMGByc2NjU0JyYmIyIHBgYVFBcWFwYHBhUUFhcWMzI2NxczADYzMhYVFAcmJjUCJjU0NjcXBgYjAf4wCEIHHZhFRS0VOiJILRYaFRcsUCkvHBo2Vz14Lk1X/kg0Kyk3bS0lAU9DSawkWiuTUVs7O7YqVTVAKxQWJxM4IScmKjQsMDhGKkYYNDUyWwJbLzMrQUA3ORn9/0g7LkwszSwwAAABADwBsQCTArwAAwAAExMjE4ESVxABsQEL/vUAAQBV/34BHQLIABIAABYnJjU0NzY2NyMGBwYVFBcWFzPrIDE1EysQQzsgKiYeNkNMVH+VlYUxTRRIXHaSkW9YRgAAAAABADf/fgD/AsgAEgAAFjc2NTQnJicjFhYXFhUUBwYHM7seJikhO0MQKxQ0MSAnQzxYb5GQeF1HE04xiJKVf1Q2AAAAAAEAOgEtAd0CwwAYAAABJyc3NycHBzc1IxUXJycHFxcHBxc3NxcXAaU/Pk1oF2NHEkUQR2EXZks6QDhCHyBEAVhYOAUiQiAxU3BwUzEgQiIFOFgrXFBQXAABAF8AbAI1AkIACwAAASM1IxUjFTMVMzUzAjXISMbGSMgBeMrKRMjIAAAAAAEAMv9zALcAbQASAAAWNjU0JyYmIyIGFRQWMxQHBgcXhTIXChoNGiMpIBIMFBN0VjcpFwoKJB4bIyckGBIFAAABAFoBCAE5AUwAAwAAASMVMwE5398BTEQAAAAAAQAy//IAsABwAAsAABY2NTQmIyIGFRQWM4slJRoaJSUaDiYZGSYmGRkmAAABAAD/fgHNAsgAAwAAASMBMwHNRP53RALI/LYAAgBG//QCJgLIABUAJQAABDc2NzY1NCYnJiMiBwYHBhUUFhcWMyYnJjU0NzYzMhcWFRQHBiMBjzsxGBMZGj9+WjsvGRMZGz1/XCohHylfWiohHileDD0zW0lWQ4AydT0xXUhXRn8xdD9fSoJ5TGZfS4F8SmUAAAAAAQAoAAAA5QK8AAgAABMjBgYjFTMRM+UtEEc5d0YCvDAnKP3DAAAAAAEARwAAAhICyAAkAAAlITY3PgI3NjY3NjU0JiMiBwYHFzYzMhYVFAcGBwcGBgcGFSECEv5/CzMSMiEIMEMbQnRnVz46ET4df0dRMyNSEys6GEQBy0M9MBElFgUeMBxEVFtqKyhBHHFLOzw1IzYNHS4cUnMAAQAy//QCCALIADQAAAQ2NzY2NTQmJzY2NTQmJyYmIyIHBgcXNjc2MzIWFxYVFAYjIxUzMhYVFAcGIyImJwcWFxYzAUlWIiIlPzcqLx8cHEwqUzsxGkEVHys8GS8SJ0s/JS9LUTAsSD5PGkEbMzpgDB8bHEsrRGIWF1IwJ0MYFxouJkAZLhokERAiOTpFQExCQiUiPEIbSykwAAAAAgAeAAACIgK8AAoADQAAJTM1IxEjARUhFTMDESMBuGpqKv6QAVRGRvm9PAHD/iYlvQJD/rYAAAABAEb/9AIuArwALQAANhYXFjMyNjc2NjU0JicmJiMiBgc3ITUhAxc2NzYzMhcWFhUUBgcGBiMiJyYnB1MuHUROOl8jICIjHx9TLi1UICgBLP6cOTsXKTM3RC4UFxwYGUQmQi4qJCk8HwwdKSMhVS0xUx8dIR4d9D/+lRIbEhYxFz4iIT4YGBsXFSQzAAIAPP/0AgQCyAAhADYAAAQ2NzY2NTQmJyYmIyIGBzY2NzY2NzUGBgcGBhUUFhcWFjMSFxYVFAYHBiMiJicmJjU0Njc2NjMBUVIfHyMgHB1MKjZTGggyJSVbMUqEMTE2Hh0eVzhFLSsXFSxIITsVFhkYFRU7IwwkHyBVMCdOHh8kIR8sWSgoOw83Elo/P5FKOmMjJikBgC0tSCI6FS4YFhU7ISM8FhUYAAEAKAAAAcsCvAAMAAA2NzY3NSEVIQYHBgcz6ig3gv5dAVN3MysCRqaOxJYuPJeoircAAAADAEb/9AIQAsgAIwAvAEIAAAAGBwYGFRQWFwYHBhUUFhcWMzI2NzY2NTQmJzY2NTQmJyYmIwImNTQ2MzIWFRQGIwInJjU0Njc2NjMyFxYWFRQHBiMBAkkbGh4wLDUkIyIfQmIwVR8fIkQ5Li8eGhtJKTlFRzc3R0U5RCstFhUVOiJELhQWLStEAsgdGRlCJC5OFBM1NEIsTRw8IBwcTSxCZxUTTi8kQhkZHf7QPzM6RUU6Mz/+mykrSB84FhYYLhY4H0grKQAAAAIAPP/0AgQCyAAgADQAABIGBwYGFRQWFxYWMzI2NwYGBwYGBxU2Njc2NjU0JicmIwInJjU0NzYzMhYXFhYVFAYHBgYj9FQgICQgHBtMKjdVGgYsIyRYMkp/Ly4yHBs8bU0tKywtRyE7FhYYGBUVOyMCyCMgH1YwKU0eHiIjIS1cKCk8DzcSWj8+kko5YyVO/nwvLUhELi8ZFhY7ISM8FhYZAAAAAgAy//IAsAHjAAsAFwAAEjY1NCYjIgYVFBYzEjY1NCYjIgYVFBYziyUlGholJRoaJSUaGiUlGgFlJhkZJiYZGSb+jSYZGSYmGRkmAAIAMv9zALcB4wALAB0AABI2NTQmIyIGFRQWMxI2NTQnJiYjIgYVFBYzFAYHF4slJRoaJSUaFDIXChoNGiMoHBwREwFlJhkZJiYZGSb+J1Y3KRcKCiQeGyIpPw4FAAAAAAIALv/yAdwCyAAhAC0AACQ3NjY3Njc2NjU0JicmIyIGBxc2NjMyFhUUBwYHBgcGFTMGNjU0JiMiBhUUFjMBIA4NJxwUGRcaHBo7YlF0FkAMUD9CSQ4XORkUMUgMJSUaGiUlGucfGysYEBsaPSomQxk2UUUdNztDMiMaKTAWGDtVzCYZGSYmGRkmAAAAAgAy//QC7QLIAFAAXgAABDc3BgYjIiYnJiY1NDY3NjYzMhYXFhUUBwYjIiY1NTQ3NyMHJiYjIgYHBgYVFBYXFhYzMjY3FhYzMjY3NjY1NCYnJiYjIgYHBgYVFBYXFhYzEhYVFAcGIyImNTQ3NjMB4jEPGlAlQ2slJScqJyhyRjdjJE4aGykVGAEoPw4IOi0pRhkYGxYUFDYeKUAWBzApIT0WFhowLCx7SEqEMzQ7NTEvf0kuNSAhNCsyICE3DA9CCQosKCZnO0R0KisvHh0/b1Y7ORsYCQYD6FMvMSQfHkokJD8XFxotKCQoJiIiXjVCbygnKzYzNItRUYEuLS4B4DwxPCssOjM+KSwAAAIAPAAAAloCvAAHAA8AAAEjAzM3IRczATc3FhYXEyMBZTbzST0BEUBH/t0LCAMLBmDnArz9RLW1AgshHg0jD/7oAAAAAwBpAAACQAK8ABEAGwAmAAAhMjc2NTQmJzY2NTQmJyYjIxETMzIXFhUUBiMjFTMyFxYVFAcGIyMBYXQ8L0s8NDoWFzdy6EaoUSMbVVGRnWMsJB0lUL4/MFVFWQ8TTDUkQhg5/UQCfSUeMzpDPSwkPzkeKAABAEb/9AJIAsgAJQAABDc2NycGBiMiJicmJjU0Njc2MzIXFhc3JicmIyIHBgYVFBYXFjMBvD4zGz4aTDw3VBsaGRkYOm44JxwdPh8qN1aQTCMjISJOkQwoIjYYKy4wLChrPDZrKWEaEykkMxsjbTGCSkiAMXEAAAACAGkAAAJgArwACwAXAAAhMjc2NjU0JyYjIxETMzIXFhYVFAcGIyMBH6xTIx9FU6W6RoB0PhsbMz2DdXMve0GVW279RAJ9WSdnOHZMXQAAAAEAaQAAAg4CvAALAAAlIREzNSM1ITUhESECDv6h3t4BSf5xAaVDAQZC7kP9RAAAAAEAaQAAAgICvAAJAAATMzUjNSE1IREzr+XlAVP+Z0YBSULuQ/1EAAABAEb/9AJYAsgAKQAABDc2NTUjFTMVFAYjIiYnJiY1NDY3NjMyFxYXNyYnJiMiBwYGFRQWFxYzAdFCRcuBWU03VBsaGRkYOm44JxwdPh8qN1aQTCMjISJOkQxER31NPipQXjAsKGs8NmspYRoTKSQzGyNtMYJKSIAxcQAAAQBpAAACSwK8AAsAAAEjESERIxEzESERMwJLRv6qRkYBVkYCvP7RAS/9RAFL/rUAAQBpAAAArwK8AAMAABMjETOvRkYCvP1EAAAAAAEAHv/0AaUCvAAUAAAENzY1ESMRFAcGIyImJyYmJwcWFjMBKTZGRisiOyAnDgwUDTcZVEkMLz2BAdv+EFQmHwsLCh0ZHjs8AAEAaQAAAkwCvAALAAABNyMBESMRMxE3EzMBUb9M/utGRnLcTwHO7v6kAVz9RAEFjv5tAAABAGkAAAIKArwABQAAJSERIxEhAgr+pUYBoUMCef1EAAEAaf/0ArkCvAALAAABIwMDIxEzERMTETMCuT3t6jxG2upGArz93wIh/UQCA/3xAhL9+gABAGkAAAJYArwACQAAASMRASMRMxEBMwJYRv6eR0YBYkcCvP2/AkH9RAI5/ccAAAACAEb/9AKKAsgAFwAsAAAENjc2NjU0JicmJiMiBgcGBhUUFhcWFjMmJyYmNTQ2NzYzMhYXFhUUBgcGBiMBtnAkICAgICRwTk5wJCAgICAkcE5wOBkYGRg6bjpUGzAYGBtVOQw9NzJ/RUV/Mjc9PTcyf0VFfzI3PT9dKGs7NmspYTErT4A3aiktNAAAAAIAaQAAAkYCvAAOABkAABMzMjY3NjY1NCcmIyERMxEzMhcWFRQHBiMjr7o5VhwZGTA6c/8ARsBOKB4gKUvAASEkIBxIJVg1Qf1EAn0xJTk6Ji4AAAIARv+/AooCyAAaADEAAAQ3FzcnNjc2NTQmJyYmIyIGBwYGFRQWFxYWMyYnJiY1NDY3NjMyFhcWFRQGBycHFwYjAbU9OjA6NhsXICAkcE5OcCQgICAgJHBOcDgZGBkYOm46VBswIiQsMi8sOAwhViRWM1FJWEV/Mjc9PTcyf0VFfzI3PT9dKGs7NmspYTErT4BEeitCJEYaAAAAAAIAaQAAAkICvAAPABoAAAAnJiMhETMRMxMzAzY3NjUlMzIXFhUUBwYjIwJCLjhy/v9GnpZNm1kuJv5tvU8mHiApSr0CTTI9/UQBOf7HATwMPDFHgS0jNDchKQAAAQBB//QCBwLIAC8AAAAmIyIHBgYVFBcWFhcWFxYVFAYjIiYnBxYXFjMyNjc2NTQnJicmJyY1NDYzMhYXNwHWaExdOhscQhpELUwiME5GOlgWQhNAQlQwUh0+QS9aTSIyRT4yRQ5BAoo+MBU9IU81FiMRHh4rPD5DOC8YOikrGhkzXFk8KyQeGSUwLTYoHhYAAQA8AAACAwK8AAcAAAEhFTMRMxEzAgP+OcBGwQK8Q/2HAnkAAQBk//QCRAK8ABUAAAQ3NjURIxEUBwYjIicmNREjERQXFjMByTtARjMqTU0pNEZAO3UMP0WMAbj+SHQzKioydQG4/kiMRT8AAQA3AAACSQK8AAYAAAEDAyMTMxMB/rrDSvAz7wK8/bcCSf1EArwAAAEANwAAAwQCvAAMAAAlAyMDAyMTMxMTMxMjAkqXNJ1hSocwqqgsmEmjAhn92wIl/UQCMv3OArwAAQAsAAACBwK8AAsAAAETIwMDIxMDMxMTMwE6uUmQk0y6yUqfp0sBdAFI/vIBDv6t/pcBMP7QAAABAC0AAAI7ArwACAAAARMjAwMjExEzAVjjSL+6TeVGARYBpv6YAWj+V/7tAAEARgAAAjcCvAAJAAAlIQE1IRUhARUhAjf+bQGT/iYBgf5oAfFCAkczQv23MQAAAAIAPP/0AcECCwAgAC8AAAE0JyYjIgYHFzY3NjMyFxYVFSYjIgYHBhUUFjMyNjcVMyQmNTQ3NjMyFhcVBgcGIwHBOitFMV8jFB0qLCUzGyJERiVDGTleUClNIEH++T0nITggSRodHygrAVphLiIhFzwUERIYIEUrJBQUL1JUWSEdMjE8NDUdGhgSYyMTGQAAAAIAWv/0AfsC0gASACAAAAQ2NTQnJiMiBgcRBxEzNRYXFjMmJic1Njc2MzIWFRQGIwGQazk4YiVKGUZGGCEjMjFIFREgKCpHSEhHDIqCfElGIhwBBSP9US4WERM/LCT7HRcaaGRhbAAAAQA3//QBtAILABkAAAQ2NycGBiMiJjU0NzYzMhc3JiYjIgYVFBYzAUNfEj8NOylDQSAjQ0scQBVWOWNvbF4MPzYYJSlpY2I0N0UZMziNf3+MAAAAAgA3//QB2ALSABEAIgAABDcVMxEHFSYmIyIGFRQXFhYzJiYnJiY1NDYzMhcWFxUGBiMBWjhGRhtBLGNwORtPMBk3ExMUS0ctJBsUFUQnDDgsAtIj1BYajX57SCQlPyAcG0srY2kYEx//JioAAgA3//QB3wILABwAJAAAJDU1NCcmIyIGBwYGFRQWFxYWMzI2NycGIyImJyEmFxYVITY2MwHfPDdXMVIdHiAfHR1TMitRICY2PUBOCQFclCIt/ucFUEH5BxR7QTskIiJkPzZhJSYqIBovKF5Q6SErXlVVAAABAB4AAAExAsgAGAAAASM1NDc2MzIXNSYmIyIHBhUVIxUzETMRMwExewcKISMmFicaLRwhUlJGewH/TBsOExQ9DAwZHjtXP/5AAcAAAgA3/ysB2gILABwAKwAABDc2NREjFSYnJiMiBwYVFBcWFjMyNjcVFAcGBxcCJyY1NDYzMhcWFxUGBiMBVzpJRhUYKDNfOjw/HUsqM0IXJjJyIBUpLE1LHiMlFhRHIdAtOHMB9zAYDhZGSXyBRyEjJCJOPR4pBjcBCDY3YGRoFBUl9icuAAAAAAEAWgAAAdsC0gATAAASBxEHETMRNDc2MzIWFREzETQmI84uRkYkHzs3QEZZXgILRQEMIf1PATpPJB9HTf7IARt+cgAAAgBQAAAArALGAAsADwAAEjY1NCYjIgYVFBYzFyMRM5IaGhQUGhoUI0ZGAmgaFBQcHBQUGmn+AQAC/+L/KwCtAsYACwAXAAASNjU0JiMiBhUUFjMHERQHBgcXNjc2NRGTGhoUFBoaFCMYHkQgRycyAmgaFBQcHBQUGmn9xSkXHAY3BSUtXgIfAAEAWgAAAeYC0gALAAABBxEHETM1NxMzAzcBVbVGRlWkTcCAAf/DAZYi/VDpW/68AXeIAAABAF8AAAClAtIAAwAAEwcRM6VGRgLSIv1QAAAAAQBaAAAC9gILACcAAAAGByYmIyIHNSMRMxE0NzYzMhcWFREzETQ3NjMyFxYVETMRNCcmJiMCF0wWFkoqVjVGRh4eOkAcE0YeITdAHBNGMhhBJAILKyMkKj4y/gEBQT4lKDElPf7HATk/KCwxJT3+xwFUUjQXGgAAAQBaAAAB2wILABMAABMRMxE0NzYzMhYVETMRNCYjIgc1WkYkHzs3QEZZXlYuAf/+AQE6TyQfR03+yAEbfnJEOAAAAAACADf/9AHtAgsAFQAhAAASBgcGBhUUFhcWFjMyNjc2NTQnJiYjAiY1NDYzMhYVFAYj4VAdHSAgHR1RMDFSHDw8HVExR0tKSEdLTEYCCyQjI2Q+PmQjIiQlIkl8fkciJP4oa2FkaWthYWwAAAACAFr/NQH/AgsAFAAhAAAENjc2NjU0JyYjIgYHNSMRNzUWFjMmJic1NjYzMhYVFAYjAVpOHBwfODliLz8eRkYZQTIvQB0VRSpFTUxGDCQiImU/eUlJHhwu/TYj3B4iPyol+yYpbl5jagAAAAACADf/OAHaAgsAEgAiAAAENjcVNxEjFSYnJiMiBwYVFBYzJiY1NDc2NjMyFhcVBgcGIwE5Ph1GRiYVKCxhNjdyY0NJJhI2ISlGFh4WJisMICD8IAKnLh0KE0lJen+MP2hkWTgcICco+SUQHAABAFoAAAFpAgsAEQAAEzQ3NjYzMhc3JiMiBgc1IxEzoC0SKhMjHwsaJiVJG0ZGASFULRIRE0QVKylI/gEAAAAAAQA6//QBlgILACwAAAAjIgYHBhUUFxYXFhcWFRQGIyImJwcWFjMyNjU0JyYmJyYmJyYmNTQ2MzIXNwFGZSQ9FS8uIUo6HSg4LCVHGTEiXDJQXDUVMyYfJA4REzQtQzcuAgsTESU5OiccHhYVHCsjJygeKygxTEBEKxEYEAwQCwwcEx8kNycAAAEAHv/0AT8C0gAXAAAENzcGBiMiJyY1ETM1IzUHFSMVMxEUFjMBDikIFSEXIQ0JgoJGV1cxNAwXSQ8PGBEoATk/0yOwP/6pNj8AAAABAFX/9AHWAf8AFAAAASMRFAcGIyImNREjERQWMzI2NxUzAdZGJCA7NkBGWWMqOxpGAf/+xk8kH0hMATj+435wGyIxAAEAKAAAAc8B/wAGAAABAwMjEzMTAYmLjki7MbsB//5xAY/+AQH/AAABACgAAAKYAf8ADAAAAQMDIwMDIxMzExMzEwJSXnwwemBGfkB5fD9+Af/+VgGq/lsBpf4BAXf+iQH/AAABACgAAAHOAf8ACwAAAQcnIxcDMzcXMwM3AXZ0flCgrEuEh1CrnQH/w8P5/vrR0QEJ9gAAAQAe/z4B1wH/AAcAABcBIwMDIxMH0gEFS5WSR7tMwgLB/mQBnP4R0gAAAAABAEYAAAGoAf8ACQAAJSEBNSEVMwEVIQGn/voBB/6y8f77AWE/AZYqP/5rKwAAAAABAGEBFQIzAZcAGwAAADc2NSMGBiMiJicmJiMiBwYVMzY2MzIWFxYWMwH2IB0oAishFSwnJTYdPyEcKAIrIRYtKCI3HAEVJyM4HCMPEQ8QKCI4HSIPEA8RAAAAAAMAPP/0AcEC3AADACQAMwAAAQczNxM0JyYjIgYHFzY3NjMyFxYVFSYjIgYHBhUUFjMyNjcVMyQmNTQ3NjMyFhcVBgcGIwFDjkeyEzorRTFfIxQdKiwlMxsiREYlQxk5XlApTSBB/vk9JyE4IEkaHR8oKwLcnJz+fmEuIiEXPBQREhggRSskFBQvUlRZIR0yMTw0NR0aGBJjIxMZAAMAN//0Ad8C3AADACAAKAAAAQczNxI1NTQnJiMiBgcGBhUUFhcWFjMyNjcnBiMiJichJhcWFSE2NjMBN45Hsj08N1cxUh0eIB8dHVMyK1EgJjY9QE4JAVyUIi3+5wVQQQLcnJz+HQcUe0E7JCIiZD82YSUmKiAaLyheUOkhK15VVQAAAAIAGgAAARMC3AADAAcAABMHMzcHIxEzqI5HsnJGRgLcnJzd/gEAAAACAFoAAAHbAswAGAAsAAAANSMGBiMiJicmJiMiFTM2NjMyFhYXFhYzBREzETQ3NjMyFhURMxE0JiMiBzUBzCYCGhMQHR0aKRhdJwIaEw8cGwUbJxj+6kYkHzs3QEZZXlYuAlpuFxgLDwwNbhcXCg0CDA1b/gEBOk8kH0dN/sgBG35yRDgAAAAAAwA3//QB7QLcAAMAGQAlAAABBzM3BgYHBgYVFBYXFhYzMjY3NjU0JyYmIwImNTQ2MzIWFRQGIwE+jkeyyFAdHSAgHR1RMDFSHDw8HVExR0tKSEdLTEYC3Jyc0SQjI2Q+PmQjIiQlIkl8fkciJP4oa2FkaWthYWwAAgBV//QB1gLcAAMAGAAAAQczNxcjERQHBiMiJjURIxEUFjMyNjcVMwE0jkeyN0YkIDs2QEZZYyo7GkYC3Jyc3f7GTyQfSEwBOP7jfnAbIjEAAAAAAQAAAFoAXwAFAAAAAAABAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAgADYAaAC4ASQBfgGMAa4B0AH8AhICMgJAAlYCZAKgArQC7gM8A1gDngPyBAwEcATCBOgFGAVeBeQGBgZABnwGpAa8BtAHDgcmBzQHWAdyB4IHnAe0B/oIJAhyCKAI6Aj6CR4JMglOCWoJgAmYCeAKFAo+CnQKrgrUCxgLOgtWC34LmAumC+IMBAw6DHAMpgzGDQoNMA1SDWYNhA2eDbQNzA36DkgOig6eDuIPHg9IAAAAAQAAAAEZmeZzy1dfDzz1AAMD6AAAAABNss41AAAAANMDW/b/4v8rAz0DFQAAAAcAAgAAAAAAAADmAAAA5gAAAQ4ASAGBADwCrQA5AlAAQQN5ADsCjQAvAM8APAFUAFUBVAA3AhcAOgKUAF8A4gAyAZMAWgDiADIB5gAAAmwARgFOACgCWABHAk4AMgJLAB4CdABGAkoAPAHzACgCVgBGAkoAPADiADIA4gAyAg4ALgMfADIClgA8AoYAaQKEAEYCpgBpAlQAaQI0AGkCrQBGArQAaQEYAGkCDgAeAoMAaQIyAGkDIgBpAsEAaQLQAEYCbgBpAtAARgKSAGkCUgBBAj8APAKoAGQCgAA3AzsANwIyACwCaAAtAn0ARgIHADwCMgBaAeEANwIyADcCEQA3AUoAHgI0ADcCMABaAPwAUAEC/+IB/wBaAQQAXwNLAFoCMABaAiQANwI2AFoCNAA3AYIAWgHPADoBcQAeAjAAVQH3ACgCwAAoAfYAKAH/AB4B8wBGApQAYQIHADwCEQA3APwAGgIwAFoCJAA3AjAAVQABAAADtv8GAAADef/i/+kDPQABAAAAAAAAAAAAAAAAAAAAWgADAhQBkAAFAAgCigJYAAAASwKKAlgAAAFeABQBMgAAAAAFAAAAAAAAAAAAAAEAAAAAAAAAAAAAAABERUxWAEAAIAD6Au7/BgEKA7YA+gAAAAEAAAAAAf8CvAAAACAAAgAAAAMAAAADAAABIgABAAAAAAAcAAMAAQAAASIAAAEGAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAECAwQFBgcICQoLDA0ODxAREhMUFRYXGBkaGxwAAAAdHh8gISIjJCUmJygpKissLS4vMDEyMzQ1Njc4AAAAAAAAOTo7PD0+P0BBQkNERUZHSElKS0xNTk9QUVIAAABTAAAAAAAAAABUAAAAAAAAVQAAAFYAAABXWAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAaAAAABYAEAADAAYAOwBaAHoAfgDhAOkA7QDxAPMA+v//AAAAIAA/AGEAfgDhAOkA7QDxAPMA+v///+H/3v/Y/9X/c/9s/2n/Zv9l/18AAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAALEAOBQYHDQYJFA4TCxIIERBDsAEVRrAJQ0ZhZEJDRUJDRUJDRUJDRrAMQ0ZhZLASQ2FpQkNGsBBDRmFksBRDYWlCQ7BAUHmxBkBCsQUHQ7BAUHmxB0BCsxAFBRJDsBNDYLAUQ2CwBkNgsAdDYLAgYUJDsBFDUrAHQ7BGUlp5swUFBwdDsEBhQkOwQGFCsRAFQ7ARQ1KwBkOwRlJaebMFBQYGQ7BAYUJDsEBhQrEJBUOwEUNSsBJDsEZSWnmxEhJDsEBhQrEIBUOwEUOwQGFQebIGQAZDYEKzDQ8MCkOwEkOyAQEJQxAUEzpDsAZDsApDEDpDsBRDZbAQQxA6Q7AHQ2WwD0MQOi0AAACxAAAAQrE7AEOwAFB5uP+/QBAAAQAAAwQBAAABAAAEAgIAQ0VCQ2lCQ7AEQ0RDYEJDRUJDsAFDsAJDYWpgQkOwA0NEQ2BCHLEtAEOwAVB5swcFBQBDRUJDsF1QebIJBUBCHLIFCgVDYGlCuP/NswABAABDsAVDRENgQhy4LQAdAAAAAAAAAAASAN4AAQAAAAAAAQAWAAAAAQAAAAAAAgAFABYAAQAAAAAAAwAnABsAAQAAAAAABAAcAEIAAQAAAAAABQAPAF4AAQAAAAAABgAcAG0AAQAAAAAACQAgAIkAAQAAAAAACgA4AKkAAwABBAkAAQA4AOEAAwABBAkAAgAOARkAAwABBAkAAwBOAScAAwABBAkABAA4AXUAAwABBAkABQAeAa0AAwABBAkABgA4AXUAAwABBAkACQBAAcsAAwABBAkACgBwAgsAAwABBAkAEAAsAnsAAwABBAkAEQAKAqdXaXN0aWEtUGxheWVyLU92ZXJwYXNzTGlnaHQxLjEwMDtERUxWO1dpc3RpYS1QbGF5ZXItT3ZlcnBhc3MtTGlnaHRXaXN0aWEtUGxheWVyLU92ZXJwYXNzIExpZ2h0VmVyc2lvbiAxLjAzMTAwV2lzdGlhLVBsYXllci1PdmVycGFzcy1MaWdodERlbHZlIFdpdGhyaW5ndG9uLCBUaG9tYXMgSm9ja2luQ29weXJpZ2h0IChjKSAyMDE0IGJ5IFJlZCBIYXQsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4AVwBpAHMAdABpAGEALQBQAGwAYQB5AGUAcgAtAE8AdgBlAHIAcABhAHMAcwAgAEwAaQBnAGgAdABSAGUAZwB1AGwAYQByADEALgAxADAAMAA7AEQARQBMAFYAOwBXAGkAcwB0AGkAYQAtAFAAbABhAHkAZQByAC0ATwB2AGUAcgBwAGEAcwBzAC0ATABpAGcAaAB0AFcAaQBzAHQAaQBhAC0AUABsAGEAeQBlAHIALQBPAHYAZQByAHAAYQBzAHMALQBMAGkAZwBoAHQAVgBlAHIAcwBpAG8AbgAgADEALgAwADMAMQAwADAARABlAGwAdgBlACAAVwBpAHQAaAByAGkAbgBnAHQAbwBuACwAIABUAGgAbwBtAGEAcwAgAEoAbwBjAGsAaQBuAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABjACkAIAAyADAAMQA0ACAAYgB5ACAAUgBlAGQAIABIAGEAdAAsACAASQBuAGMALgAgAEEAbABsACAAcgBpAGcAaAB0AHMAIAByAGUAcwBlAHIAdgBlAGQALgBXAGkAcwB0AGkAYQAtAFAAbABhAHkAZQByAC0ATwB2AGUAcgBwAGEAcwBzAEwAaQBnAGgAdAAAAgAAAAAAAP+FABQAAAAAAAAAAAAAAAAAAAAAAAAAAABaAAAAAwAEAAUABgAHAAgACQAKAAsADAANAA4ADwAQABEAEgATABQAFQAWABcAGAAZABoAGwAcAB0AHgAiACMAJAAlACYAJwAoACkAKgArACwALQAuAC8AMAAxADIAMwA0ADUANgA3ADgAOQA6ADsAPAA9AEQARQBGAEcASABJAEoASwBMAE0ATgBPAFAAUQBSAFMAVABVAFYAVwBYAFkAWgBbAFwAXQBhAGkAcAB0AHgAeQB+AAAAAQADAAcACgATAAf//wAPAAEAAAAKAB4ALgABREZMVAAIAAQAAAAA//8AAQAAAAFrZXJuAAgAAAACAAAAAQACAAYAFgACAAAABQAYChoKfgy2DugAAgAAAAEPCAABELYABAAAAEAAigCgAKYA1ADaAOgBEgEgAaYByAHuAjQCbgK8AtIC4ALuA7QD9gP8BAIEDAS6BNwE4gToBPYFgAWOBbAFygYABgoGTAaGByQHZgd0B3oHlAeiB7QIEggcCCIITAhSCFgIcgiMCJYIvAjmCPAI9gkoCWIJjAm+CcQJygncCeIJ/AAFAB//2AAy/9gANP/YADX/7AA3/9gAAQAo/7AACwAo//YAMf/xADL/nAA0/40ANv/sADf/jQBN/+cATv/OAE//4gBR/84AWf/nAAEAKP+wAAMAH//sACj/2ABCADwACgAf/6YAKP9vADv/zgA8/84APf/OAD//zgBH/84ASf/OAEv/5wBY/84AAwAo/+cANv/iAFD/5wAhAB//sAAo/34AMf/sADIAFAA0AAoANQAKADb/5wA3AAoAOf/EADr/9gA7/84APP/OAD3/zgA//84AQP/2AEH/9gBD//YARP/2AEX/2ABG/9gAR//OAEj/2ABJ/84ASv/YAEv/zgBN/+IAUP/YAFL/zgBU/8QAVv/2AFf/2ABY/84AWf/iAAgAH//iADL/4gA0/84ANf/sADb/4gA3/84AS//sAE//9gAJAB//2AAy//YANP/OADX/7AA2/+IAN//OADj/9gBL/+wAT//2ABEAH/+6ACj/zgAx/+wAMv/JADP/9gA2/84AOP/dADv/3QA8/90APf/dAD//3QBH/90ASf/dAE3/8QBP//YAWP/dAFn/8QAOAAH/2AAH//EACv/sAAv/pgAR/+IAEv/2ABb/9gAX/+wAGP/EABn/9gAa/+IAHv/TACj/9gA2//EAEwAN//YAD//2ABD/4gAR//YAE//sABj/5wAa/+wAHv/2AB//4gAh//YAJf/2ACj/7AAt//YAL//2ADL/2AA0/84ANf/sADb/5wA3/84ABQAQ/+wAHv/2ACj/9gA2//EAUP/sAAMAKP/nADb/4gBQ//YAAwAH//YAHv/iACj/9gAxAAf/zgAN/2oAD/9qABH/2AAT//EAFP/nABX/sAAW//YAF//OABgACgAZ/90AHQAUAB7/4gAf/3QAIf/iACX/4gAo/2AALf/iAC//4gAx/+wAMgAZADT/9gA2/+IAN//2ADj/9gA5/6sAO/+wADz/sAA9/7AAP/+wAEX/ugBG/7oAR/+wAEj/ugBJ/7AASv+6AEv/sABM//YATf+6AE7/zgBP/9gAUP/OAFH/zgBS/9MAVP+rAFX/sABX/7oAWP+wAFn/ugAQABD/5wAU//YAHf/2AB//4gAo//YAMf/2ADL/5wA0/+cANf/2ADb/7AA3/+cAS//7AE7/8QBP//sAUP/2AFH/8QABACj/9gABACj/9gACABD/ugA2//YAKwAH/+IADv/iABH/5wAS//YAFP/2ABX/+wAW//YAF//iABj/7AAZ//EAGv/iAB3/4gAe/9MAH//2ACH/zgAl/84AKP/iAC3/zgAv/84AMf/nADL/4gAz/+cANP/EADX/9gA3/8QAOf/iADv/4gA8/+IAPf/iAD7/7AA//+IAR//iAEn/4gBL//EATP/xAE3/9gBO/9MAT//sAFH/0wBU/+IAVf/sAFj/4gBZ//YACAAB/+wAC/+SABH/9gAY/90AGv/2AB3/2AAe//EAKAAKAAEAKP/2AAEAKP/2AAMAKP/nADb/4gBQ//YAIgAH/84ACv/sAA3/fgAP/34AE//2ABT/7AAV/9gAF//nABn/9gAe//YAH/+mACH/7AAl/+wAKP90AC3/7AAv/+wAMf/xADL/8QA0/+cANv/YADf/5wA4//EAOf/nADv/4gA8/+IAPf/iAD//4gBH/+IASf/iAEv/+wBMAAoAVP/nAFX/4gBY/+IAAwAo/+cANv/iAFD/9gAIAAf/5wAR//YAE//2ABT/7AAV/+wAF//sACj/zgA2/+wABgAQ/+cAGP/2AB3/9gAo//YANv/sAFD/9gANAAH/2AAH/78AEP+SABH/4gAU//EAFf/JABf/zgAZ/+IAHv/OACj/oQA2//EAUP/iAFX/qwACABD/ugA2//YAEAAB/9gAB/+/ABD/gwAR/84AE//sABT/5wAV/7UAFv/2ABf/zgAZ/9gAGv/OAB3/7AAo/5wANv/iAFD/0wBV/8QADgAB/+wAEP+wABH/7AAT//YAFP/sABX/4gAW//YAF//sABn/9gAa//YAHQAPACj/2AA2/+wAUP/sACcAB//YAA7/4gAR/+IAFP/sABX/9gAX/+IAGf/sABr/4gAd/+wAHv/TAB//8QAh/+IAJf/iACj/7AAt/+IAL//iADH/8QAy//EAM//2ADT/4gA1/+wAN//iADn/7AA7/+IAPP/iAD3/4gA+//EAP//iAEf/4gBJ/+IAS//iAEz/9gBN//YATv/iAE//5wBR/+IAVP/sAFj/4gBZ//YAEAAB/9gAB/+/ABD/gwAR/84AE//sABT/5wAV/7UAFv/2ABf/zgAZ/9gAGv/OAB3/7AAo/5wANv/iAFD/0wBV/8QAAwAX//YAGf/2AB7/5wABABj/4gAGAAv/zgAW//YAGP/OABr/9gA2/+IAUP/dAAMAEP/YADb/4gBQ/+cABAAL/84AEP/OADb/4gBQ/+IAFwAKAAoACwAKAA3/7AAP/+wAHQAyADIAMgA0ACgANwAoADgACgA5//sAO//nADz/5wA9/+cAPgAPAD//5wBH/+cASf/nAEwADwBOAA8ATwAoAFEADwBU//sAWP/nAAIAGP/OAEIAGQABABj/4gAKAAf/2AAL/9gAEf/sABT/7AAW/+wAF//sABj/4gAZ/+wAGv/sAB7/3QABABj/4gABABj/4gAGAAv/zgAW//YAGP/OABr/9gA2/+IAUP/dAAYAC//OABb/9gAY/84AGv/2ADb/4gBQ/90AAgAY/84AQgAoAAkAB//OABP/4gAU/+IAGP/iABn/9gAe/+wAKP/OADb/3QBQ//YACgAL/+cAEf/sABP/9gAVAAoAGP/OABr/4gAd//YANv/iAFD/7ABV//YAAgA2//YAVf/2AAEAGP/OAAwAB//nABD/zgAT/+wAFP/sABX/7AAW/+wAGP/YABn/9gAdABQAKP/nADb/4gBV/+wADgAH/+wAEf/2ABP/7AAU/+wAFf/sABb/9gAX//YAGP/YABn/9gAe//YAKP/2ADb/5wBQ//EAVf/2AAoAB//YAAv/2AAR/+wAFP/sABb/7AAX/+wAGP/iABn/7AAa/+wAHv/dAAwAB//nABD/zgAT/+wAFP/sABX/7AAW/+wAGP/YABn/9gAdABQAKP/nADb/4gBV/+wAAQBV//YAAQAY/+IABAAL/84AEP/OADb/4gBQ/+IAAQAY/+IABgAy/6sATv/sAE//9gBQ/90AUf/sAFL/9gABADL/7AACBwYABAAAB7oHxgADAA4AAP/Y//H/tQAKAAAAAAAAAAAAAAAAAAAAAAAAAAD/tf/d/6EACv/Y/8T/7P/i//b/3f/sAAAAAAAA/87/4v+1AAAAAAAA/+cAAAAAAAAAAP/s/+wAAgawAAQAAAfwCCYADAAXAAD/7P/sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/2P/TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/E/9P/2P/T/+z/9v/2//b/9v/2//b/+wAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/0//i/+z/4v/s/+wAAP/2AAAAAAAAAAD/9gAAAAAAAAAAAAAAAAAAAAAAAAAA/+z/pv+1AAAAAP/Y/7r/2P+//6sAAP/iAAD/0//n//v/2P/Y/7//zgAAAAAAAAAA/5f/tf/sAAD/2P/O/9j/tf+1AAD/7P/2/8T/4v/n/+f/tf/E/7X/7AAAAAAAAP/Y/90AAAAA//b/7P/2//b/7AAA//YAAP/s/+wAAAAA//H/9v/iAAAAAAAA/+f/7AAA//b/9v/s//b/9gAA//YAAAAAAAD/9v/7AAAAAAAAAAAAAAAAAAAAAP/sAAAAAAAA//v/5//7//b/+//xAAAAAP/7/+z/9v/2AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//b/9v/2AAD/7AAAAAD/9v/xAAAAAP/7AAAAAAAAAAAAAAAA/9P/5//x/+z/9gAAAAAAAAAA/+cAAAAAAAD/8f/sAAAAAP/2AAD/7AAA//YAAP+cABQACv/O/+z/3QAA//YAAAAAAAoAAAAA/+L/9gAAAAAAAAAA/9gAAP/2AAIEmgAEAAAGjgbOAA0AFQAA/87/9v/J/+z/9gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEYAQQBBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/6v/7P+1/+f/+//2//b/9v/2/93/7P/sAAAAAAAAAAAAAAAAAAAAAAAA/+z/+//nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/9j/9v/YAAAAAP/2AA//7P/d/8T/9gAA//EABf/s/+cAAAAAAAAAAAAA/87/7P/T/+z/8f/2//b/7AAAAAAAAAAA//b/8f/n/+L/8f/nAAAAAAAA/6v/7P+//+z/9v/2//b/9gAAAAAAAP/2AAAAAP/2AAD/9v/xAAAAAAAA/+L/9v/sAAAAAP/7AAD/9gAAAAAAAAAAAAAAAAAA/+wAAP/sAAAAAAAA/7r/7P/E/+z/9v/x//YAAP/2AAD/9v/xAAAAAP/2//b/9gAAAAAAAAAA/7oAAP+6AAD/9v/7//b/9gAAAAD/9v/2AAAAAAAAAAAAAAAAAAAAAAAA/9j/9v/YAAAAAP/2AAD/9v/s/+L/9gAA//YAAP/2//sAAAAAAAAAAAAAAAAAAP/sAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/2//YAAP/sAAAAAAAA/+IAAP/OAAAAAP/sAA//9v/O/8T/4v/2AAAAD//n/+L/9v/s//v/+wACApAABAAABTwFQAABABAAAP/T/6b/9v/Y/5f/8f/d/+L/9v/s//b/+//2//b/7AABArIABAAAAAgAGgBMAGIAjAC6AOgBGgGIAAwAFf/sAB//4gA0/84ANf/sADb/4gA3/84AOP/iADn/4gBL/+wATv/sAFH/7ABU/+IABQAV//YANP/sADX/9gA2//YAN//sAAoAGP/2ABr/8QAf//YANP/iADX/7AA2/+cAN//iADj/9gBO//YAUf/2AAsAGP/2ABr/8QAy/+IANP/OADX/5wA2/+wAN//OAEv/9gBO/+wAT//2AFH/7AALABP/+wAY//YAGv/2AB//7AA0/+wANv/2ADf/7AA4//YATv/sAE//9gBR/+wADAAY/+wAGv/dAB//7AAy/9gANP/OADX/7AA2/+IAN//OADj/9gBO/+wAT//2AFH/7AAbABX/ugAX/+IAGAAjAB//xAAx//YANf/7ADb/9gA5/+IAO//OADz/zgA9/84AP//OAEX/7ABG/+wAR//OAEj/7ABJ/84ASv/sAEv/4gBN/90ATv/sAE//7ABR/+wAVP/iAFf/7ABY/84AWf/dAAsAGP/2AB//9gAy/+IANP/YADX/9gA2/+wAN//YADj/9gBO//YAT//2AFH/9gACAA0AAQABAAAAAwADAAEABwAJAAIACwALAAUADgAOAAYAEAARAAcAGgAaAAkAHgA7AAoAPQBAACgAQwBDACwARQBSAC0AVABVADsAVwBZAD0AAQAFAA0ADgAPABsAHAACAAUAIQAjAAAAJgAoAAMAKgAtAAYALwA1AAoANwA4ABEAAgAGADkAOwAAAD0APQADAD8AQAAEAEMAQwAGAEUAUgAHAFQAVwAVAAIADQABAAwAAAAQABoADAAdACAAFwAkACUAGwApACkAHQAuAC4AHgA2ADYAHwA8ADwAIAA+AD4AIQBBAEIAIgBEAEQAJABTAFMAJQBYAFkAJgACAAEAEgAZAAAAAQANAAMAAQACAAEAAgAXAA0ADQALAA8ADwALACEAIQAFACUAJQAFAC0ALQAFAC8ALwAFADEAMQAHADIAMgABADQANAADADUANQACADcANwADADsAPQAKAD4APgAJAD8APwAKAEIAQgAEAEcARwAKAEkASQAKAEwATAAMAE4ATgAGAE8ATwAIAFEAUQAGAFIAUgANAFgAWAAKAAEAIQAYAAcAAgAIAAAAAAAAAAAAAQAAAAsAAAAAAAIAAAACAAoAAwAEAAEABQAGAAAABQAJAAEADQBNAAMAFAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASABIAAAAAAAIAFQAOABUAFQAVAA4AFQAVAAAAFQAVABUAFQAOABUADgAVAA8ABAAWAAEABQAAAAEACwAJAAAACgAKAAoAEAAKAAAAAAAAAAAAAAATABMACgATAAoAEwAHAA0AEQAGAAgAAAAGAAwAAAAJAAAAAAATAAoAEQABADoAHQACAAYAAAAJAAAAAwAAAAAAAAAFAAAAAAAAAAIAAgADAAwACAALAAMABAAKAAUABAAHAAAAAAAJAAEAAQANAE0ACgASAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACQAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAYAAAAGAAAADQABAAAAAwACAAAAAwALAA8AFAAQABAAEAAOABAAFAAUAAAAFAAUABMAEwAQABMAEAATAAgABwARAAQABQAAAAQADAAAAA8AAAAUABMAEAARAAIAAAABACAAOgAPAAEADwAPAA8AAQAPAA8AAAAPAA8ADwAPAAEADwABAA8ACAACAAMABQAEAAAABQAAAAwAAAANAA0ADQALAA0AAAAAAAAAAAAAAAAAAAANAAAADQAAAAkABgAOAAcACgAAAAcAAAAAAAwAAAAAAAAADQAOAAAAAQAAAAAAAAAAAAAAAAABAAAAAA=="}})}(Wistia)},function(e,t,i){"use strict";i(90),i(225),i(232),i(259)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(22),r=function(e){return e.vulcan};t.default={getBranch:function(e){return r(e)},getIsKeyboardFocus:function(e){return r(e).isKeyboardFocus},getHasBranding:function(e){var t=r(e),i=t.embedOptions,n=t.mediaData;return i.hasBranding||n.hasBranding},getHasSettingsControl:function(e){return r(e).embedOptions.settingsControl},getHasQualityControl:function(e){return r(e).embedOptions.qualityControl},getHasPlaybackRateControl:function(e){return r(e).embedOptions.playbackRateControl},getHasBigPlayButton:function(e){var t=r(e),i=t.embedOptions;return i.bigPlayButtonControl&&!i.isAutoPlay&&!i.isChromeless&&t.isUIReady&&!t.isPlayInitiated},getHasBeenClicked:function(e){return r(e).hasBeenClicked},getHashedId:function(e){return r(e).hashedId},getHost:function(e){return r(e).host},getEmbedHeight:function(e){return r(e).embedHeight},getEmbedWidth:function(e){return r(e).embedWidth},getEmbedAspectRatio:function(e){return r(e).embedAspectRatio},getVideoHeight:function(e){return r(e).videoHeight},getVideoWidth:function(e){return r(e).videoWidth},getResponsiveClassNames:function(e){var t=r(e).isInFullscreen,i=r(e),o=i.embedWidth,s=i.embedHeight,a=(0,n.controlMultiplierForVideo)(o,s,t),l=o/a,u="bp-325";return l>=450&&(u+=" bp-450"),l>=640&&(u+=" bp-640"),l>=750&&(u+=" bp-750"),u},getIsUIReady:function(e){return r(e).isUIReady},getVideoLength:function(e){return r(e).videoLength},getVideoProgress:function(e){return r(e).videoProgress},getIsPlayInitiated:function(e){return r(e).isPlayInitiated},getPlayerColor:function(e){return r(e).playerColor},getCustomerLogoImageUrl:function(e){return r(e).customerLogoImageUrl},getCustomerLogoTargetUrl:function(e){return r(e).customerLogoTargetUrl},getShowCustomerLogo:function(e){var t=r(e),i=t.mediaData,n=t.embedOptions;return i.enableCustomerLogo&&n.showCustomerLogo},getEmbedOption:function(e,t){return r(t).embedOptions[e]},getUUID:function(e){return r(e).uuid},getIsEmbeddedInCustomize:function(e){return r(e).isEmbeddedInCustomize},getIsInFullscreen:function(e){return r(e).isInFullscreen},getAreControlsVisible:function(e){return r(e).areControlsVisible}}},function(e,t,i){"use strict";i(235),i(223),i(234),i(280),i(264),i(243),i(248),i(244),i(270),i(254),i(274),i(240),i(273),i(277),i(279),i(278),i(251),i(256),i(252),i(237),i(249),i(269),i(275),i(239),i(238),i(271),i(266),i(268),i(272),i(263),i(242),i(255),i(241),i(236),i(245),i(260),i(258),i(246),i(261),i(253),i(257),(0,i(233).default)(),i(265),i(276),i(281),i(247),i(262),i(267),i(250)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=i(3),s=n(o),a="hubspot_v2",l=function(e){var t=e.getHubspotUtk;return{onFind:function(e){t(s.default).then(function(t){e.foreignData(r({},e.foreignData(),{hubspot_utk:t}))})}}},u=function(e){return new Promise(function(t,i){!function i(n){var r=e.cookie("hubspotutk");r?t(r):setTimeout(i,1e3,9)}(10)})},c=function(){var e=l({getHubspotUtk:u});s.default.integrations.register("hubspot_v2",e)};e.exports={default:c,getPlugin:l,defaultGetHubspotUtk:u}},function(e,t,i){"use strict";!function(e){e.JSON||(e.JSON=i(33))}(Wistia)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(14),a=n(s),l=i(23),u=n(l),c=i(2),d=n(c),h=i(16),p=n(h),f=i(11),m=n(f),g=i(4),y=n(g),_=i(33),v=n(_),b=i(80),A=n(b),w=i(1),E=n(w),k=i(6),C=n(k),x=i(103),T=n(x),S=i(45),O=n(S),P=i(76),M=n(P),I=i(10),B=n(I),D=i(57),F=n(D),R=i(185),L=n(R),j=i(186),H=n(j),N=i(37),V=n(N),U=i(18),W=n(U),z=i(91),Q=n(z),G=i(187),Y=n(G),K=i(22),q=n(K),J=void 0,X=void 0;Object.defineProperties&&(J=i(89),X=i(201));var Z=o.default;null==Z.libjs&&(Z.libjs={},Z.libjs["utilities/seqid"]=a.default,Z.libjs["utilities/core"]=u.default,Z.libjs["utilities/obj"]=d.default,Z.libjs["utilities/url"]=p.default,Z.libjs["player/lib/assets"]=m.default,Z.libjs["player/lib/elem"]=y.default,Z.libjs["utilities/json"]=v.default,Z.libjs["utilities/localstorage"]=A.default,Z.libjs["utilities/wlog"]=E.default,Z.libjs["utilities/detect"]=C.default,Z.libjs["utilities/cacheable"]=T.default,Z.libjs["player/lib/jsonp"]=O.default,Z.libjs["player/lib/hosts"]=B.default,Z.libjs["player/lib/judy"]=M.default,Z.libjs["player/lib/ajax"]=F.default,Z.libjs["player/lib/fit-control"]=q.default,Z.libjs["player/lib/media_data"]=L.default,Z.libjs["player/lib/playlist_data"]=H.default,Z.libjs["player/lib/script-utils"]=V.default,Z.libjs["player/lib/timeout-utils"]=W.default,Z.libjs["player/engines/simple_video"]=J,Z.libjs["player/engines/manual_quality_video"]=X,Z.libjs["player/engines/public_methods"]=Q.default,Z.libjs["utilities/metrics"]=Y.default),Z.lib=function(e){var t=Z.libjs[e];if(null==t)throw new Error('Internal import for "'+e+'" does not exist. Value is "'+t+'".');return t},e.exports=Z},function(e,t,i){!function(e){var t;e.embeds||(e.embeds={},t=i(1).wlog,e.embeds.setup=function(t){return e.embeds.notEmbedding(function(){var i,n,r,o,s,a,l,u,c;e.embeds.notEmbedding(!1),o=[];try{for(t=e.embeds.uninitialized(t),t&&t.length&&t.length>0&&e.info("initializing",null!=t?t.length:void 0,"embedElems"),a=0,l=t.length;a<l;a++){r=t[a];try{e.info("initializing elem",r),s=e.embeds.hashedIdForElem(r,{asyncOnly:!0}),r.id?document.getElementById(r.id)!==r&&(u=e.embeds.genIdFor(s),e.error('Duplicate DOM ID found for container "'+r.id+'". Changing it to "'+u+'" to avoid issues.',r),r.id=u):r.id=e.embeds.genIdFor(s),c=e.embeds.optionsFromElemClass(r),e.options("__"+r.id+"_dom_options__",c),function(t,i){o.push(function(){return e.embed(t,{container:i.id})})}(s,r)}catch(t){i=t,e.error(i)}}}catch(t){n=t,e.error(n)}return o.push(function(){return e.watchForInit()}),o.push(function(){return e.embeds.notEmbedding(!0)}),e.asyncChain("embeds_setup",o)})},e.embeds._setupThrottled=e.util.throttle(500,e.embeds.setup),e.embeds.optionsFromElemClass=function(t){var i,n,r,o,s,a;for(o=[],a=e.elem.classes(t),i=0,r=a.length;i<r;i++)n=a[i],n.indexOf("=")>0&&o.push(n);return s=e.url.paramsToJson(o.join("&")),e.obj.cast(s),s},e.embeds.hashedIdForElem=function(e,t){var i,n,r,o,s,a;return null==t&&(t={}),t.asyncOnly?(null!=(i=e.className)&&null!=(n=i.match(/wistia_async_([^\s]+)/))?n[1]:void 0)||null:(null!=(r=e.className)&&null!=(o=r.match(/wistia_async_([^\s]+)/))?o[1]:void 0)||(null!=(s=e.className)&&null!=(a=s.match(/wistia_([^\s]+)/))?a[1]:void 0)||null},e.embeds.genIdFor=function(e){var t,i,n;for(t="wistia-"+e,n=1;i=t+"-"+n,document.getElementById(i);)n+=1;return i},e.embeds._options={},e.embeds.options=function(t,i){var n,r,o,s;if(e.obj.isObject(t)&&(i=t,t="__global__"),null!=i)return e.embeds._options[t]=e.obj.cast(e.obj.clone(i));if(t){if(e.embeds._options[t])return e.embeds._options[t];if(null===(n=e.api(t)))return{};o=e.embeds._options;for(r in o)if(s=o[r],e.api(r)===n)return s;return{}}return e.embeds._options},e.options=e.embeds.options,e.embeds.api=function(t){var i,n,r,o,s,a,l;return null==t&&(t="wistia_embed"),document.querySelectorAll?document.querySelectorAll("div."+t+",span."+t):(n=(null!=(o=document.body)?o.getElementsByTagName("div"):void 0)||[],l=(null!=(s=document.body)?s.getElementsByTagName("span"):void 0)||[],i=function(){var i,o,s;for(s=[],i=0,o=n.length;i<o;i++)r=n[i],e.elem.hasClass(r,t)&&s.push(r);return s}(),a=function(){var i,n,o;for(o=[],i=0,n=l.length;i<n;i++)r=l[i],e.elem.hasClass(r,t)&&o.push(r);return o}(),i.concat(a))},e.embeds.uninitialized=function(t){var i,n,r,o;for(null==t&&(t=e.embeds.api()),o=[],n=0,r=t.length;n<r;n++)i=t[n],e.embeds.hashedIdForElem(i,{asyncOnly:!0})&&!i.wistiaApi&&o.push(i);return o},e.embeds.initialized=function(t){var i,n,r,o;n=e._data.video,r=[];for(o in n)i=n[o],r.push(i);return r},e.embeds.observe=function(){var i,n;if(!e.embeds.initObserver){if(e.embeds.initObserver=e.elem.mutationObserver(function(t){var i,n,r,o,s,a,l,u,c,d;for(n=[],i=!1,r=0,s=t.length;r<s;r++)for(l=t[r],(null!=(c=l.addedNodes)?c.length:void 0)>0&&(i=!0),d=l.addedNodes||[],o=0,a=d.length;o<a;o++)u=d[o],e.elem.hasClass(u,"wistia_embed")&&n.push(u);if(n.length>0&&setTimeout(function(){return e.embeds.setup(n)},10),i)return e.embeds._setupThrottled()}),i={subtree:!0,childList:!0},e.detect.ios.version>0)return e.util.onDocReady(function(){return e.embeds.initObserver.observe(document.body,i)});try{return e.embeds.initObserver.observe(document.body,i)}catch(r){return n=r,t.notice(n),e.util.onDocReady(function(){return e.embeds.initObserver.observe(document.body,i)})}}},e.embeds.unobserve=function(){var t;return null!=(t=e.embeds.initObserver)&&t.disconnect(),e.embeds.initObserver=null},e.embeds.poll=function(t){return null==t&&(t=500),e.eventLoop.add("poll_setup_embeds",t,function(){return e.embeds.setup()})},e.embeds.unpoll=function(){var t;return null!=(t=e.eventLoop)?t.remove("poll_setup_embeds"):void 0},e.embeds.watch=function(){return e.embeds._dontWatch=!1,e.detect.mutationObserver&&!e.detect.trident?(e.embeds.observe(),e.embeds.poll(2e3)):e.embeds.poll()},e.embeds.dontWatch=function(){return e.embeds._dontWatch=!0,e.embeds.unwatch()},e.embeds.unwatch=function(){return e.embeds.unobserve(),e.embeds.unpoll()},e.flushInit=function(){var i,n,r,o;if(window.wistiaInit){if(wistiaInit instanceof Array)for(r=0,o=wistiaInit.length;r<o;r++){n=wistiaInit[r];try{"function"==typeof n&&n(e)}catch(e){i=e,t.error(i)}}else"function"==typeof wistiaInit&&wistiaInit(e);return window.wistiaInit=null}},e.addQueue=function(t){return e._queueNames.push(t),e.watchForInit()},e._queueNames=["_wq","wistiaInitQueue"],e.flushInitQueue=function(){var i,n,r,o,s,a,l,u,c,d,h,p,f,m,g,y;for(f=e._queueNames,m=[],s=0,u=f.length;s<u;s++)if(h=f[s],(d=window[h])&&d instanceof Array&&d.length>0){for(o=[];d.length>0;)if(g=d.shift(),e.obj.isObject(g))if(g.id)p=!1,g.options&&("_all"===g.id?(e.options(g.options),p=!0):(e.options(g.id,g.options),p=!0)),function(t){var i,n;n="_all"===t.id?[]:[t.id],t.onFind&&(i=n.concat([function(e){return t.onFind(e)}]),e.api.apply(e,i),p=!0),t.onHasData&&(i=n.concat([function(e){return e.hasData(function(){return t.onHasData(e)})}]),e.api.apply(e,i),p=!0),t.onEmbedded&&(i=n.concat([function(e){return e.embedded(function(){return t.onEmbedded(e)})}]),
e.api.apply(e,i),p=!0),t.onReady&&(i=n.concat([function(e){return e.ready(function(){return t.onReady(e)})}]),e.api.apply(e,i),p=!0),p||e.error("No initialization function provided for ID "+t.id,t)}(g);else{r=function(t,i){var n,r;return"function"==typeof i?(r=function(e){return e.hasData(function(){return i(e)})},n=function(){return"_all"===t?e.api(r):e.api(t,r)},o.push(n)):e.obj.isObject(i)?(n="_all"===t?function(){return e.options(i)}:function(){return e.options(t,i)},o.push(n)):e.error("Unknown initialization object:",i,"Expected Object or Function.")};for(a in g)y=g[a],r(a,y)}else"function"==typeof g?function(t){var i;i=function(){return t(e)},o.push(i)}(g):e.notice(h+": Don't know what to do with "+g+", ignoring.");for(l=0,c=o.length;l<c;l++){n=o[l];try{"function"==typeof n&&n(e)}catch(e){i=e,t.error(i)}}m.push(d.length=0)}return m},e.watchForInit=function(){if(null==e._pollInit&&(e._pollInit=function(){return e.flushInitQueue(),e.flushInit()}),e._pollInit(),e.eventLoop)return e.eventLoop.unpause("poll_init"),e.eventLoop.add("poll_init",500,e._pollInit)},e.api=function(t,i){var n,r,o,s,a,l,u,c,d,h,p;if(null!=t){if(i)return e.api.onFind(t,i);if("function"==typeof t)return e.api.onFind(t);if("string"==typeof t){if(c=t,!(o=document.getElementById(c)))for(r=e.api.all(),l=0,u=r.length;l<u;l++)if(s=r[l],0===(null!=(d=s.hashedId())?d.indexOf(c):void 0)||0===(null!=(h=s.container.id)?h.indexOf(c):void 0)){o=s.container;break}}else"number"==typeof t?(a=t,n=e.api.all(),a<0&&(a=n.length+a),o=(null!=(p=n[a])?p.container:void 0)||null):window.HtmlElement&&t instanceof HtmlElement?o=t:e.error("W.api: Unrecognized matcher",t);return(null!=o?o.wistiaApi:void 0)&&(o.wistiaApi instanceof e.PublicApi||o.wistiaApi instanceof e.IframeApi)?o.wistiaApi:null}return e.api.all()[0]||null},e.api.all=function(){return e.api._apiHandles().concat(e.api._iframeHandles())},e.api._apiHandles=function(){return e.embeds.initialized()},e.api._apiHandlesByDomOrder=function(){var t,i,n,r,o;for(i=e.embeds.api("wistia_embed_initialized"),o=[],n=0,r=i.length;n<r;n++)t=i[n],t.wistiaApi&&t.wistiaApi instanceof e.PublicApi&&o.push(t.wistiaApi);return o},e.api._iframeHandles=function(){var t,i,n,r;i=e._data.iframe_api,n=[];for(r in i)t=i[r],n.push(t);return n},e.api.onFind=function(t,i){var n;return"function"==typeof t&&(i=t,t=null),n=function(n){return(null===t||e.api(t)===n)&&(i(n),!0)},wistiaEmbeds.each(n),wistiaEmbeds.bind("initembed",n),wistiaEmbeds.bind("afterreplace",n)},e._asyncInitSoonAfterLoad=function(i){return null==i&&(i=10),setTimeout(function(){var i;try{return e.embeds.setup(),e.embeds._dontWatch||e.embeds.watch(),e.watchForInit()}catch(e){return i=e,t.error(i)}},i)},e._initializers.initAsyncEmbeds=function(){var t,i,n;return e.embeds.notEmbedding=new e.StopGo,e.embeds.notEmbedding(!0),null==e._data&&(e._data={}),null==(t=e._data).video&&(t.video={}),null==(i=e._data).iframe_api&&(i.iframe_api={}),window._inWistiaIframe?setTimeout(function(){return e.watchForInit()},10):(e.detect.ios.version>0?e.util.onDocReady(e._asyncInitSoonAfterLoad):(e.util.isDocReady()||e.util.onDocReady(e._asyncInitSoonAfterLoad),e._asyncInitSoonAfterLoad()),e._asyncInitSoonAfterLoad(500),null!=(n=e.eventLoop)?n.pause("poll_init"):void 0)},e._destructors.destroyAsyncEmbeds=function(){var t,i;return e.clearTimeouts("embeds_setup"),null!=(t=e.eventLoop)&&t.remove("poll_init"),null!=(i=e.embeds)?i.unwatch():void 0})}(Wistia)},function(e,t){!function(e){e.BandwidthTest=function(){function t(t){this.opt=t,this.opt=e.obj.merge({minKbps:2500,timeoutLength:4e3,freshFor:36e5},this.opt),this.opt.uuid||(this.opt.uuid=e.seqId("bandwidth_test_"))}return t.prototype.start=function(){var t,i,n,r;return null!=(n=this._testXhr)&&n.abort(),this._testStart=(new Date).getTime(),this._testXhr=new XMLHttpRequest,this._testXhr.open("GET",this.testFileUrl(),!0),i=Math.floor(100*Math.random()),r=1e6*i,t=r+999999,this._testXhr.setRequestHeader("Range","bytes="+r+"-"+t),e.timeout(this.uuid+".cancel_bandwidth_test",function(e){return function(){return e.trigger("timeout"),e.fail()}}(this),this.opt.timeoutLength),this._testDataLoaded=0,this._onTestXhrProgress=function(e){return function(t){return e._testDataLoaded=t.loaded,e.trigger("progress",t)}}(this),this._testXhr.addEventListener("progress",this._onTestXhrProgress),this._onTestXhrLoaded=function(e){return function(){return e.succeed()}}(this),this._testXhr.addEventListener("load",this._onTestXhrLoaded),this._testXhr.send(null),this.trigger("started")},t.prototype.fail=function(){return this._sampleKbps(),this._supportsHd=!1,this.saveResult(),this.trigger("failed"),this.end()},t.prototype.succeed=function(){if(this._sampleKbps(),this._supportsHd=!0,this.saveResult(),this.trigger("succeeded"),this.end(),this._suspiciouslyFast())return this._reportSuspiciousBandwidthTest()},t.prototype._reportSuspiciousBandwidthTest=function(){var t,i,n;try{if(this._suspiciouslyFast())return e.Metrics.count("player/suspicious-bandwidth-test",1,{bw_test_time:this._testTime,visitor_key:e.visitorKey.value(),location:("undefined"!=typeof location&&null!==location&&null!=(i=location.protocol)?i.length:void 0)&&("undefined"!=typeof location&&null!==location&&null!=(n=location.hostname)?n.length:void 0)?location.protocol+"//"+location.hostname:null,connection_type:e.Metrics.connectionType(),agent:navigator.userAgent})}catch(i){return t=i,e.error(t)}},t.prototype._suspiciouslyFast=function(){return this._testTime<.05},t.prototype._sampleKbps=function(){return this._testEnd=(new Date).getTime(),this._testTime=(this._testEnd-this._testStart)/1e3,this._kbps=8*this._testDataLoaded/1e3/this._testTime},t.prototype.endEarly=function(){return null==this._supportsHd&&null!=this._testDataLoaded?(this._sampleKbps(),this._supportsHd=!(this._testTime>1)||this._kbps>=this.opt.minKbps,this.trigger("ended-early"),this.end()):(this.end(),this.trigger("ended-early"))},t.prototype.end=function(){var t,i,n;return this._onTestXhrLoaded&&null!=(t=this._testXhr)&&t.removeEventListener("load",this._onTestXhrLoaded),this._onTestXhrProgress&&null!=(i=this._testXhr)&&i.removeEventListener("progress",this._onTestXhrProgress),null!=(n=this._testXhr)&&n.abort(),this._testXhr=null,e.clearTimeouts(this.uuid+".cancel_bandwidth_test"),this.trigger("ended")},t.prototype.testFileUrl=function(){return this.opt.testFileUrl||("https:"===e.proto()?"https://embed-ssl.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a":"http://embed-e.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a")},t.prototype.saveKey=function(){return this.opt.saveKey||"bandwidth_test"},t.prototype.saveResult=function(){return e.localStorage(this.saveKey(),{updatedAt:(new Date).getTime(),supportsHd:this._supportsHd,clientKbps:this._kbps})},t.prototype.savedResult=function(){return e.localStorage(this.saveKey())},t.prototype.isFresh=function(){var e;return(new Date).getTime()-((null!=(e=this.savedResult())?e.updatedAt:void 0)||0)<this.opt.freshFor},t.prototype.supportsHd=function(){return this._supportsHd||!1},t}(),e.mixin(e.BandwidthTest.prototype,e.bindable)}(Wistia)},function(e,t,i){var n;n=i(23),Wistia.extend({base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decode:n.base64Decode}})},function(e,t,i){var n;n=i(23),Wistia.extend({base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:n.base64Encode}})},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.BigPlayButton||(e.BigPlayButton=function(){function t(t,n){this.container=t,null==n&&(n={}),this.touchend=i(this.touchend,this),this.touchmove=i(this.touchmove,this),this.touchstart=i(this.touchstart,this),this.click=i(this.click,this),this.mouseup=i(this.mouseup,this),this.mousedown=i(this.mousedown,this),this.mouseout=i(this.mouseout,this),this.mouseover=i(this.mouseover,this),this.blur=i(this.blur,this),this.keyup=i(this.keyup,this),this.focus=i(this.focus,this),this.getBottomTextElemProps=i(this.getBottomTextElemProps,this),this.options=this.getDefaultOptions(n),this.uuid=this.options.uuid+".big_play_button",this.color(this.options.color),this.backgroundElem=this.createBackgroundElem(),this.resetBackground(),this.elem=this.playElem=this.createPlayElem(),this.addTopText(),this.addBottomText(),e.elem.append(this.container,this.backgroundElem),e.elem.append(this.container,this.playElem),this.setupBindings()}return t.prototype.destroy=function(){return this.destroyBindings(),e.elem.remove(this.playElem),e.elem.remove(this.backgroundElem),this._bottomTextElem&&e.elem.remove(this._bottomTextElem),this._topTextElem&&e.elem.remove(this._topTextElem),this.elem=null,this.backgroundElem=null,this.playElem=null,this._bottomTextElem=null,this._topTextElem=null},t.prototype.getDefaultOptions=function(t){var i;return i={tabbable:!0,uuid:e.seqId(),color:"636155",bottomTextColor:"#fff",bottomTextFontFamily:"Courier New, Courier, Sans-Serif",bottomTextBackground:"none",bottomTextInsideButton:!1,topTextColor:"#fff",topTextFontFamily:"Courier New, Courier, Sans-Serif",topTextBackground:"none",widthCorrection:0,heightCorrection:0},e.obj.merge(i,t)},t.prototype.createBackgroundElem=function(){return e.elem.fromObject({id:this.uuid+"_background",style:{height:this.height()+"px",position:"absolute",width:this.width()+"px",zIndex:1}})},t.prototype.createPlayElem=function(){return e.elem.fromObject({id:this.uuid+"_graphic",tabindex:this.options.tabbable?"0":"-1","aria-role":"Button","aria-label":"Play",style:{background:"transparent url("+this.iconBase64()+") no-repeat 0 0",cursor:"pointer",display:"block",height:this.graphicHeight()+"px",outline:"none",position:"absolute",width:this.graphicWidth()+"px",zIndex:1}})},t.prototype.createBottomTextElem=function(){return e.elem.fromObject({id:this.uuid+"_bottom_text",style:this.getBottomTextElemProps(),childNodes:this.options.bottomText})},t.prototype.getBottomTextElemProps=function(){var e,t;return t={color:this.options.bottomTextColor,fontFamily:this.options.bottomTextFontFamily,fontSize:this.textFontSize(),background:this.options.bottomTextBackground,left:0,position:"absolute",textAlign:"center",width:"100%",zIndex:1},this.options.bottomTextInsideButton&&(e="30px",t.lineHeight=e,t.bottom="-"+e),t},t.prototype.createTopTextElem=function(){return e.elem.fromObject({id:this.uuid+"_top_text",style:{color:this.options.topTextColor,fontFamily:this.options.topTextFontFamily,background:this.options.topTextBackground,fontSize:this.textFontSize(),left:0,position:"absolute",textAlign:"center",width:"100%",zIndex:1},childNodes:this.options.topText})},t.prototype.textFontSize=function(){return this.options.bottomTextInsideButton?"18px":this.height()<100?"11px":this.shouldShrink()?"16px":"22px"},t.prototype.oldIe=function(){return e.detect.browser.msie&&e.detect.browser.version<9},t.prototype.setupBindings=function(){return e.elem.bind(this.playElem,"mouseover",this.mouseover),e.elem.bind(this.playElem,"mouseout",this.mouseout),e.elem.bind(this.playElem,"focus",this.focus),e.elem.bind(this.playElem,"blur",this.blur),e.elem.bind(this.playElem,"mousedown",this.mousedown),e.elem.bind(this.playElem,"mouseup",this.mouseup),e.elem.bind(this.playElem,"click",this.click),e.elem.bind(this.playElem,"touchstart",this.touchstart)},t.prototype.destroyBindings=function(){return e.elem.unbind(this.playElem,"mouseover",this.mouseover),e.elem.unbind(this.playElem,"mouseout",this.mouseout),e.elem.unbind(this.playElem,"focus",this.focus),e.elem.unbind(this.playElem,"blur",this.blur),e.elem.unbind(this.playElem,"mousedown",this.mousedown),e.elem.unbind(this.playElem,"mouseup",this.mouseup),e.elem.unbind(this.playElem,"click",this.click),e.elem.unbind(this.playElem,"touchstart",this.touchstart),e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),e.elem.unbind(document,"keyup",this.keyup)},t.prototype.focus=function(){var t;return e.elem.addClass(this.playElem,"wistia_focus"),this.onMobile()||!1===this.options.autoHighlight||this.highlightBackground(),e.elem.rebind(document,"keyup",this.keyup),this._focus=!0,"function"==typeof(t=this.options).onFocus&&t.onFocus.apply(t,arguments),!0},t.prototype.keyup=function(e){var t,i;return"function"==typeof(t=this.options).onKeyup&&t.onKeyup.apply(t,arguments),32!==e.keyCode&&13!==e.keyCode||"function"==typeof(i=this.options).onActivate&&i.onActivate.apply(i,arguments),!0},t.prototype.blur=function(){var t;return e.elem.unbind(this.playElem,"keyup",this.keyup),e.elem.removeClass(this.playElem,"wistia_focus"),this.onMobile()||!1===this.options.autoHighlight||this.resetBackground(),this._focus=!1,"function"==typeof(t=this.options).onBlur&&t.onBlur.apply(t,arguments),!0},t.prototype.mouseover=function(){var t;return e.elem.addClass(this.playElem,"wistia_mouseover"),this.onMobile()||!1===this.options.autoHighlight||this.highlightBackground(),"function"==typeof(t=this.options).onMouseover&&t.onMouseover.apply(t,arguments),!0},t.prototype.mouseout=function(){var t;return e.elem.removeClass(this.playElem,"wistia_mouseover"),this.onMobile()||!1===this.options.autoHighlight||this.resetBackground(),"function"==typeof(t=this.options).onMouseout&&t.onMouseout.apply(t,arguments),!0},t.prototype.mousedown=function(){var t;return e.elem.addClass(this.playElem,"wistia_mousedown"),"function"==typeof(t=this.options).onMousedown&&t.onMousedown.apply(t,arguments),!0},t.prototype.mouseup=function(){var t;return e.elem.removeClass(this.playElem,"wistia_mousedown"),"function"==typeof(t=this.options).onMouseup&&t.onMouseup.apply(t,arguments),!0},t.prototype.click=function(){var e,t;return"function"==typeof(e=this.options).onClick&&e.onClick.apply(e,arguments),this._blockClickActivate||"function"==typeof(t=this.options).onActivate&&t.onActivate.apply(t,arguments),!0},t.prototype.touchstart=function(){var t;return(this.onMobile()||!1===this.options.autoHighlight)&&this.highlightBackground(),"function"==typeof(t=this.options).onTouchstart&&t.onTouchstart.apply(t,arguments),this._swiped=!1,e.elem.bind(document,"touchmove",this.touchmove),e.elem.bind(document,"touchend",this.touchend),!0},t.prototype.touchmove=function(){var e;return this._highlighted&&this.onMobile()&&!1!==this.options.autoHighlight&&this.resetBackground(),this._swiped=!0,"function"==typeof(e=this.options).onTouchmove&&e.onTouchmove.apply(e,arguments),!0},t.prototype.touchend=function(){var t,i;return e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),this.onMobile()&&!1!==this.options.autoHighlight&&this.resetBackground(),"function"==typeof(t=this.options).onTouchend&&t.onTouchend.apply(t,arguments),this._swiped||("function"==typeof(i=this.options).onActivate&&i.onActivate.apply(i,arguments),this.blockClickActivateTemporarily()),this._swiped=!1,!0},t.prototype.onMobile=function(){return e.detect.iphone||e.detect.ipad||e.detect.android},t.prototype.blockClickActivateTemporarily=function(){return this._blockClickActivate=!0,e.timeout(this.uuid+".block_click_activate",function(e){return function(){return e._blockClickActivate=!1}}(this),350)},t.prototype.highlightBackground=function(){return this._highlighted=!0,this.oldIe()?this.backgroundElem.style.filter=this.highlightColor().alpha(.8).toIeGradient():this.backgroundElem.style.backgroundColor=this.highlightColor().alpha(.8).toRgbaOrHex()},t.prototype.resetBackground=function(){return this._highlighted=!1,this.oldIe()?this.backgroundElem.style.filter=this.color().alpha(.8).toIeGradient():this.backgroundElem.style.backgroundColor=this.color().alpha(.8).toRgbaOrHex()},t.prototype.fit=function(){return e.elem.style(this.backgroundElem,{height:this.height()+"px",width:this.width()+"px"}),e.elem.style(this.playElem,{backgroundImage:"url("+this.iconBase64()+")",backgroundSize:this.graphicWidth()+"px "+this.graphicHeight()+"px",height:this.graphicHeight()+"px",width:this.graphicWidth()+"px"}),this._bottomTextElem&&e.elem.style(this._bottomTextElem,{fontSize:this.textFontSize()}),this._topTextElem&&e.elem.style(this._topTextElem,{fontSize:this.textFontSize()}),this.center()},t.prototype.show=function(){return this.fit(),e.elem.style([this.backgroundElem,this.playElem],{display:"block"})},t.prototype.hide=function(){return e.elem.style([this.backgroundElem,this.playElem],{display:"none"})},t.prototype.correctedWidth=function(){var e;return e=this.containerWidth(),e+=this.options.widthCorrection},t.prototype.correctedHeight=function(){var e;return e=this.containerHeight(),e+=this.options.heightCorrection},t.prototype.mouseEventTargetIsInside=function(t){return e.elem.isInside(t.target,this.playElem)||this._bottomTextElem&&e.elem.isInside(t.target,this._bottomTextElem)||this._topTextElem&&e.elem.isInside(t.target,this._topTextElem)},t.prototype.center=function(){if(e.elem.style(this.backgroundElem,{left:this.leftBackgroundOffset()+"px",top:this.topBackgroundOffset()+"px"}),e.elem.style(this.playElem,{left:this.leftGraphicOffset()+"px",top:this.topGraphicOffset()+"px"}),this._bottomTextElem&&!this.options.bottomTextInsideButton&&e.elem.style(this._bottomTextElem,{left:0,top:this.bottomGraphicOffset()+3+"px"}),this._topTextElem)return e.elem.style(this._topTextElem,{bottom:this.bottomGraphicOffset()+3+"px",left:0})},t.prototype.leftBackgroundOffset=function(){return Math.round((this.correctedWidth()-this.width())/2)},t.prototype.topBackgroundOffset=function(){return Math.round((this.correctedHeight()-this.height())/2)},t.prototype.topGraphicOffset=function(){return Math.round((this.correctedHeight()-this.graphicHeight())/2)},t.prototype.leftGraphicOffset=function(){return Math.round((this.correctedWidth()-this.graphicWidth())/2)},t.prototype.rightGraphicOffset=function(){return this.leftGraphicOffset()+this.graphicWidth()},t.prototype.bottomGraphicOffset=function(){return this.topGraphicOffset()+this.graphicHeight()},t.prototype.containerWidth=function(){return e.elem.width(this.container)},t.prototype.containerHeight=function(){return e.elem.height(this.container)},t.prototype.shouldShrink=function(){return this.containerWidth()<=320||this.containerHeight()<=200},t.prototype.graphicWidth=function(){return this.shouldShrink()?60:127},t.prototype.graphicHeight=function(){return this.shouldShrink()?38:81},t.prototype.width=function(){return this._cover?this.containerWidth():this.graphicWidth()},t.prototype.height=function(){return this._cover?this.containerHeight():this.graphicHeight()},t.prototype.cover=function(){return this._cover=!0,this.supportsMultiply()?(e.elem.style(this.backgroundElem,{mixBlendMode:"multiply"}),this.color(this.color(),.5)):this.color(this.color(),.3),this.addBottomText(),this.addTopText(),this.fit()},t.prototype.uncover=function(){return this._cover=!1,this.supportsMultiply()&&e.elem.style(this.backgroundElem,{mixBlendMode:"normal"}),this.color(this.color(),.76),this.removeBottomText(),this.removeTopText(),this.fit()},t.prototype.addBottomText=function(){var t;if(this.options.bottomText&&!this._bottomTextElem)return t=this.options.bottomTextInsideButton?this.playElem:this.container,this.removeBottomText(),this._bottomTextElem=this.createBottomTextElem(),e.elem.append(t,this._bottomTextElem)},t.prototype.addBottomTextFromNewOptions=function(t){return this.options=e.obj.merge(this.options,t),this.removeBottomText(),this.addBottomText()},t.prototype.removeBottomText=function(){if(this._bottomTextElem)return e.elem.remove(this._bottomTextElem),this._bottomTextElem=null},t.prototype.addTopText=function(){if(this.options.topText&&!this._topTextElem)return this.removeTopText(),this._topTextElem=this.createTopTextElem(),e.elem.append(this.container,this._topTextElem)},t.prototype.removeTopText=function(){if(this._topTextElem)return e.elem.remove(this._topTextElem),this._topTextElem=null},t.prototype.uncoverImmediately=function(){return e.elem.style(this.backgroundElem,{transition:"none"}),e.util.requestAnimationFrame(function(t){return function(){return t.uncover(),e.util.requestAnimationFrame(function(){return e.elem.style(t.backgroundElem,{transition:"all 80ms ease-out"})})}}(this))},t.prototype.supportsMultiply=function(){return e.detect.chrome||e.detect.safari},t.prototype.color=function(t,i){var n,r;return null==i&&(i=.8),null!=t?(this._color=new e.Color(t).alpha(i),e.detect.browser.msie&&e.detect.browser.version<9?null!=(n=this.backgroundElem)&&(n.style.filter=this._color.toIeGradient()):null!=(r=this.backgroundElem)&&(r.style.backgroundColor=this._color.toRgbaOrHex()),this._color):this._color.clone()},t.prototype.highlightColor=function(){return this.color().clone().lighten(40)},t.prototype.iconBase64=function(){return window.devicePixelRatio>1?this.retinaBase64():this.shouldShrink()?this.smallNonRetinaBase64():this.bigNonRetinaBase64()},t.prototype.retinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAACiCAYAAABh2nDdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrs3d1tGlEQBtAlSgEpgXSAO8AdxB2QDuwONhWQDpxUAB14OyAdmA5IB+SOvDdCSHnLn/WdI91XP4z1aYY77DIMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAvnc/nQzsrlYCs4JdTOxvVgKzgd7t23qkKZAW/PLezVhnICn43qg7kBb88tbNUJcgKfr/4+6BSkBX8buviD/KCf7bzh8zgd/cqB3nBt/OH0OD3i7+1KkJW8O38ITj4/eJvqaKQFXw7fwgNfvfo4i/PQgleV/D/0J8+tnO3WCy+qXKGN0pAU5/3D3b+Oj5ZHf/SNHf/7yqu45Nj3Y7n/AWfQHXZV4/5bpXCqE/GqH+tLvw+uvjT8cmymrv/Ril0fHI6/qX93P1d/Ak+QcEvx8HO36hPnOXwsvMflULHJ6fjX5oGO38dnzjr4WXn72EfwSdM7fx3XvBp1Cdn1L9m56/jE6jv/D3so+MT1PEv2fnr+ASqC7+Dh30EnzzLefQflcKoT8aof60u/Grnf/Sf1PHJsZpHfzt/wSfMz52/Ugg+WWrk/6oMgk+OL+3c+oLPv/dWCfgLapdfO/29Uuj4ZJjauRF6wSfHpxb4Wys8oz4ZjvNoPymFjk+G/TzaC73gE6Au8B5a4L2Rx6hPCM/h6/iE+dwCfyP0Oj45o73dvOATZBq8XdeoT5S+mxd6HZ8Ax8Ev6Oj4ROm7eaEXfAL0Czyf5436hPCqLB2fMH03L/Q6PiGj/Z3v2ev45Kiwvxd6wSfHg908/KfOv1+97nqlspAT/Ec/aw05wT/5UQvICn6N9kuVhJzgjyoIOcE/+alqyAr+zgUe5AS/uvy9ikFO8O3mISz4W6M95ATfbh7Cgv9kNw9ZwR9VBXKC/+wCD7KCbzcPYcHfqAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvE4/BBgAB9Vp0xXzB8AAAAAASUVORK5CYII="},t.prototype.bigNonRetinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAABRCAYAAAD7G3lVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATFJREFUeNrs22FtwkAYx+F2QcAkMAfgYBKQwBxMQh1MwiRQB+CgEoaDzkG5S1a+E5IF+n+e5D4ve3+7N0s4mgYAAAAAAAAAAAAA7jFN06cp5MavjuWsTSMzfjWWszORzPizQzmvJpMZ3xYIj28LiG8LpMeffdsCufGrn3LeTS0z/uzLFsiNbwuEx7cFxL9ugY1pZsafdSaaG78abIHc+LaA+MvbAi/+XG5Sww9L2QLtEm/+P/2oUzkfbduexc+LX51L/DdrP09fzvaZf4GVhjf7/Vv3vVFk/bfvMUhg/PoAZG+6efE9Aw+MP/oCSGZ8tz0wvtseGn9w2zPjdyaXF99n9aHx3fbA+G57aHy3PTC+N/mh8b3DD4zvtofGd9tD47vtAAAAAAAAAAAAADymiwADAOSj1JBfF8xMAAAAAElFTkSuQmCC"},t.prototype.smallNonRetinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJNJREFUeNrs1ksNhEAURNGWgAQkjAQkIAUJ7QApIwEJSEACEh6PBatJhmZJ1T1JCahU+lMKAACAioj4Zjqnwqc9MzoVvszya8evLTM4FdZeO/7TWzva6Kwd7dbMx6nwpboV3l99rh+WXV5/lh+sOrlcWueqvcOzpLNqQ2GtVW8KT0WZ3MeisXAtLixWBQAAQDoEGACTzSwy3SX7YgAAAABJRU5ErkJggg=="},t}())}(Wistia)},function(e,t,i){!function(e){e.Color||(e.Color=i(203))}(Wistia)},function(e,t){!function(e){e.cookie||(e.cookie=function(t,i,n){var r,o,s,a,l;if(arguments.length>1&&"[object Object]"!==String(i)){n=e.extend({},n),null==i&&(n.expires=-1),"number"==typeof n.expires&&(r=n.expires,l=n.expires=new Date,l.setDate(l.getDate()+r)),i=String(i);try{return document.cookie=[encodeURIComponent(t),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}catch(t){if(s=t,!/sandbox/i.test(s.message))throw s;e.notice("sandboxed, can't write cookie")}}n=i||{},o=n.raw?function(e){return e}:decodeURIComponent;try{return(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(a[1]):null}catch(t){if(s=t,/sandbox/i.test(s.message))return e.notice("sandboxed, can't get cookie"),null;throw s}})}(Wistia)},function(e,t,i){var n;n=i(6).cachedDetect,function(e){e._initializers.initDetect=function(){if(!e.detect)return e.detect=n()}}(Wistia)},function(e,t){!function(e){var t;t=e,t.embed||(t._embed={},t.embed=function(e,i){var n;return null==i&&(i={}),t.info("Wistia.embed",e,i),"string"==typeof e?n=e:(n=e.hashedId,t.remote._convertEmbedSslToAkamai(e),t.cacheMedia(n,e)),new t.PublicApi(n,i)})}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){var t;t=e,t.EmbedLink||(t.EmbedLink=function(){function e(e,n){var r;this.elem=e,this._apiHandle=n,this._onClickLink=i(this._onClickLink,this),this.defaults={autoPlay:!0,transition:"fade"},this.givenOptions=t.EmbedLink.optionsFromElem(this.elem),this.options=t.obj.merge({},this.defaults,this.givenOptions),this.hashedId=t.EmbedLink.hashedIdFromElem(this.elem),this.uuid=t.seqId("wistia_embed_link_"),!1===this.options.includeInPlaylist&&(this._apiHandle=null),!1!==this.options.includeInPlaylist&&(null!=(r=this._apiHandle)?r._opts.playlistLinks:void 0)&&!this._apiHandle._inPlaylist(this.hashedId)&&this.apiHandle().addToPlaylist(this.hashedId,this.options),t.elem.rebind(this.elem,"click",this._onClickLink),this.elem._wistiaEmbedLink=this}return e.prototype._onClickLink=function(e){return e.preventDefault(),this._followLink()},e.prototype._followLink=function(){var e,t,i,n,r;if(this.hashedId===(null!=(e=this.apiHandle())?e.hashedId():void 0)&&this._onlyRunnableOptionsGiven()?(this.apiHandle()._givenOptions=this.options,this.apiHandle()._opts=this.apiHandle()._gatherOptions(),this.options.autoPlay&&null!=(t=this.apiHandle().plugin["postRoll-v1"])&&t.close(),this.apiHandle()._runMethodsFromOptions()):(null!=(i=this.apiHandle().popover)&&i.show(),this.apiHandle().replaceWith(this.hashedId,this.options)),null!=(n=this.apiHandle())?n.popover:void 0)return!1!==(null!=(r=this.apiHandle())?r._opts.autoPlay:void 0)&&!1!==this.options.autoPlay?this.apiHandle().play():this.apiHandle().popover.show()},e.prototype._onlyRunnableOptionsGiven=function(){var e,t;t=this.options;for(e in t)if(t[e],!this._allRunnableOptions[e])return!1;return!0},e.prototype._allRunnableOptions={autoPlay:!0,container:!0,pause:!0,time:!0,transition:!0,volume:!0},e.prototype.apiHandle=function(){return this._apiHandle||(this.options.container?t.api(this.options.container):this.closestEmbed())},e.prototype.closestEmbed=function(e){var i,n,r,o;return i=t.api._apiHandlesByDomOrder(),0===i.length?null:1===i.length?i[0]:(r=function(){var e,r,o;for(o=[],e=0,r=i.length;e<r;e++)n=i[e],o.push([n,t.elem.domDistance(this.elem,n.container)]);return o}.call(this),"above"===e?r=function(){var e,t,i;for(i=[],e=0,t=r.length;e<t;e++)o=r[e],o[1].across<0&&i.push(o);return i}():"below"===e&&(r=function(){var e,t,i;for(i=[],e=0,t=r.length;e<t;e++)o=r[e],o[1].across>0&&i.push(o);return i}()),r.sort(function(e,t){var i,n;return i=e[1].up+e[1].down+Math.abs(e[1].across),n=t[1].up+t[1].down+Math.abs(t[1].across),i-n}),r[0][0])},e.prototype.destroy=function(){return t.elem.unbind(this.elem,"click",this._onClickLink),this.elem._wistiaEmbedLink=null,t.EmbedLink._all[this.uuid]=null,delete t.EmbedLink._all[this.uuid]},e.inManualPlaylist=function(e){var t;return!!this.hashedIdFromElem(e)&&(t=this.optionsFromElem(e),t.container&&!1!==t.includeInPlaylist)},e.inContainerPlaylist=function(e){var i;return!!this.hashedIdFromElem(e)&&(i=this.optionsFromElem(e),!1!==i.includeInPlaylist&&t.elem.ancestorHasClass(e,"wistia_playlist_links"))},e.optionsFromElem=function(e){var i,n;return n=this.optionsFromHref(e.getAttribute("href")),i=t.embeds.optionsFromElemClass(e),t.obj.merge(n,i)},e.hashedIdFromElem=function(e){return this.hashedIdFromHref(e.getAttribute("href"))||this.optionsFromElem(e).hashedId},e.matchesElem=function(e){return!(!e||!this.hashedIdFromElem(e))},e.EMBED_LINK_REGEXP=/^\#wistia_([^\?]+)/,e.hashedIdFromHref=function(e){return e&&this.EMBED_LINK_REGEXP.test(e)?e.match(this.EMBED_LINK_REGEXP)[1]:null},e.optionsFromHref=function(e){return this.hashedIdFromHref(e)&&e.indexOf("?")>=0?t.obj.cast(t.url.paramsToJson(e.substring(e.indexOf("?")+1,e.length))):{}},e._all={},e.setup=function(e,i){var n;return i?t.info("PlaylistLink setup",e,i.container):t.info("EmbedLink setup",e),e._wistiaEmbedLink&&(e._wistiaEmbedLink.destroy(),e._wistiaEmbedLink=null),n=new t.EmbedLink(e,i),this._all[n.uuid]=n},e.filterPlaylistLinkCandidates=function(e,i){var n,r,o,s,a;for(null==i&&(i=null),a=[],r=0,o=e.length;r<o;r++)n=e[r],t.EmbedLink.matchesElem(n)&&(s=this.optionsFromElem(n),!1===s.includeInPlaylist||i&&!i(n)||a.push(n));return a},e.firstHandleWithPlaylistLinks=function(){var e,i,n,r;for(r=t.api._apiHandlesByDomOrder(),i=0,n=r.length;i<n;i++)if(e=r[i],e._opts.playlistLinks)return e;return null},e.playlistLinkElems=function(e,i,n){var r,o,s,a,l,u,c,d,h,p,f,m,g,y;if(c=this.firstHandleWithPlaylistLinks(),m=(null!=e?e.container:void 0)||null,l=i.container,f=(null!=n?n.container:void 0)||null,"auto"===i._opts.playlistLinks)return a=this.filterPlaylistLinkCandidates(t.elem.allBetween(m,l,"a"),function(e){return function(t){return!e.inManualPlaylist(t)&&!e.inContainerPlaylist(t)}}(this)),s=this.filterPlaylistLinkCandidates(t.elem.allBetween(l,f,"a"),function(e){return function(t){return!e.inManualPlaylist(t)&&!e.inContainerPlaylist(t)}}(this)),i===c&&(a.length>0?(t.info("EmbedLink @_firstHandleHasLinksBefore = true"),this._firstHandleHasLinksBefore=!0):(t.info("EmbedLink @_firstHandleHasLinksBefore = false"),this._firstHandleHasLinksBefore=!1)),this._firstHandleHasLinksBefore?a.length>0?a:s:s.length>0?s:a;if("manual"===i._opts.playlistLinks){for(o=t.util.aps(document.getElementsByTagName("a")),y=[],h=0,p=o.length;h<p;h++)r=o[h],d=t.EmbedLink.hashedIdFromElem(r),u=d&&t.EmbedLink.optionsFromElem(r),l=(null!=u?u.container:void 0)&&document.getElementById(u.container),(null!=l?l.wistiaApi:void 0)?u&&(null!=(g=i.container)?g.id:void 0)===u.container&&y.push(r):(null!=u?u.container:void 0)&&t.error("Embed Link container '"+u.container+"' not found. You must specify the DOM ID of an initialized Wistia embed on the page.");return y}return i._opts.playlistLinks?(l=document.getElementById(i._opts.playlistLinks),l?(o=t.util.aps(l.getElementsByTagName("a")),this.filterPlaylistLinkCandidates(o,function(e){return function(t){return!e.inManualPlaylist(t)}}(this))):(t.error("Embed Link container '"+i._opts.playlistLinks+"' not found. You must specify auto, manual, or the ID of an element on the page."),[])):[]},e.destroyAll=function(e){var i,n,r,o,s,a,l,u,c,d;if(null==e&&(e=document),t.info("EmbedLink.destroyAll",e),e===document){a=this._all,u=[];for(d in a)r=a[d],u.push(r.destroy());return u}for(n=e.getElementsByTagName("a"),c=[],o=0,s=n.length;o<s;o++)i=n[o],c.push(null!=(l=i._wistiaEmbedLink)?l.destroy():void 0);return c},e.setupAll=function(e){var i,n,r,o,s,a,l,u,c,d,h,p;null==e&&(e=document),t.info("EmbedLink.setupAll",e);try{for(t.EmbedLink.destroyAll(e),r=t.api._apiHandlesByDomOrder(),s=function(e,i){return i.hasData(function(n){return function(){var n,o,s,a,l,u,c;if(i._opts.playlistLinks&&(t.info("EmbedLink setup handle",i),c=r[e-1],l=r[e+1],u=t.EmbedLink.playlistLinkElems(c,i,l),u=t.EmbedLink.filterPlaylistLinkCandidates(u,function(e){return!e._wistiaEmbedLink}),u.length>0)){for(i._playlist=[],o=0,s=u.length;o<s;o++)n=u[o],t.EmbedLink.setup(n,i);if(a=i.nextVideo())return i.bind("play",function(){return i.prefetchMedia(a.hashedId,a.options),i.unbind})}}}())},l=u=0,h=r.length;0<=h?u<h:u>h;l=0<=h?++u:--u)a=r[l],s(l,a);for(n=t.util.aps(e.getElementsByTagName("a")),p=[],c=0,d=n.length;c<d;c++)i=n[c],t.EmbedLink.matchesElem(i)?i._wistiaEmbedLink?p.push(t.notice("Conflict setting up embed link",i," already belongs to ",i._wistiaEmbedLink)):p.push(t.EmbedLink.setup(i)):p.push(void 0);return p}catch(e){return o=e,t.error(o)}},e}(),t.EmbedLink.setupAllThrottled=t.util.throttle(1e3,t.EmbedLink.setupAll),t._initializers.initEmbedLinks=function(){
return wistiaEmbeds.bind("initembed",function(){return t.timeout("setup_embed_links_1000",t.EmbedLink.setupAllThrottled,1),t.timeout("setup_embed_links_1000",t.EmbedLink.setupAllThrottled,1e3),t.timeout("setup_embed_links_3000",t.EmbedLink.setupAllThrottled,3e3)}),t.EmbedLink.setupAllThrottled(),t.util.onDocReady(function(){return t.EmbedLink.setupAllThrottled(),t.timeout("setup_embed_links_5000",t.EmbedLink.setupAllThrottled,5e3)})},t._destructors.destroyEmbedLinks=function(){var e,i,n;if(t.EmbedLink){i=t.EmbedLink._all;for(n in i)e=i[n],e.destroy();return t.EmbedLink._all={}}})}(Wistia)},function(e,t){var i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;!function(e){e.EmbedListener||(e.EmbedListener=function(t){function n(){this.uuid=e.seqId(),this.bindHandles(),this.bind("down",function(t){return function(){return t.info("got down event, prune and rebind handles"),e.timeout("prune_zombies_later",function(){return t.pruneZombies(),t.bindHandles()})}}(this)),this.bind("up",function(e){return function(t){return e.info("got up event, set _bound=false for",t),t._bound=!1,e.bindHandles()}}(this))}return i(n,t),n.prototype.bindHandles=function(){var e,t,i,n,r;for(e=this.allUnboundHandles(),this.info("bindHandles",e),r=[],i=0,n=e.length;i<n;i++)t=e[i],this.info("bind to all events for",t),t._bound=!0,r.push(this.push(t));return r},n.prototype.pruneZombies=function(){var e,t,i,n,r,o,s,a,l,u,c;for(this.info("pruneZombies"),c=[],a=this.allBoundHandles(),i=0,o=a.length;i<o;i++)e=a[i],e.looksDown()?this.info("prune zombie",e):c.push(e);for(t=n=0,l=this.length;0<=l?n<=l:n>=l;t=0<=l?++n:--n)delete this[t];for(this.length=0,u=[],r=0,s=c.length;r<s;r++)e=c[r],u.push(this.push(e));return u},n.prototype.allBoundHandles=function(){var e,t,i,n,r;for(r=[],n=this.allHandles(),t=0,i=n.length;t<i;t++)e=n[t],e._bound&&r.push(e);return r},n.prototype.allUnboundHandles=function(){var e,t,i,n,r;for(r=[],n=this.allHandles(),t=0,i=n.length;t<i;t++)e=n[t],e._bound||r.push(e);return r},n.prototype.allHandles=function(){return this.apiHandles().concat(this.iframeApiHandles())},n.prototype.iframeApiHandles=function(){var e,t,i,n,r;for(this.iframes||(this.iframes=document.getElementsByTagName("iframe")),r=[],n=this.iframes,t=0,i=n.length;t<i;t++)e=n[t],e.wistiaApi&&r.push(e.wistiaApi);return r},n.prototype.apiHandles=function(){var e,t,i,n;if(t=[],window.Wistia){n=Wistia.data("video");for(i in n)e=n[i],t.push(e)}return t},n.prototype.each=function(e){var t,i,n,r,o;for(r=this.allBoundHandles(),o=[],i=0,n=r.length;i<n;i++)t=r[i],o.push(e(t));return o},n.prototype.onFind=function(e){var t;return t=function(t){return function(i){return i.up(function(){return t.info("onFind",i),e(i),i.unbind})}}(this),this.each(t),this.bind("initembed",t)},n}(Array),e.mixin(e.EmbedListener.prototype,e.bindable),e.mixin(e.EmbedListener.prototype,e.logHelpers),e._initializers.initEmbedShepherd=function(){return window.wistiaEmbeds?(e.info("window.wistiaEmbeds already exists, call bindHandles"),"function"==typeof wistiaEmbeds.bindHandles&&wistiaEmbeds.bindHandles()):(e.info("initialize embed shepherd"),window.wistiaEmbeds=new e.EmbedListener),e.info("call window.wistiaEmbedShepherdReady()"),"function"==typeof window.wistiaEmbedShepherdReady?window.wistiaEmbedShepherdReady():void 0},e._destructors.destroyEmbedShepherd=function(){var e;return null!=(e=window.wistiaEmbeds)&&e.each(function(e){return e._bound=!1}),window.wistiaEmbeds=null})}(Wistia)},function(e,t){!function(e){e._initializers.initSpecificTime=function(){var t,i,n;try{if(e.detect.iphone||e.detect.ipad)return;if(parent!==self)return;if(n=location.href.match(/[\?&]wtime=([\dhms]*)/),!((null!=n?n.length:void 0)>=2))return;if(e._specificTimeInitiated)return;return e._specificTimeInitiated=!0,i=!1,wistiaEmbeds.onFind(function(e){if(!i)return i=!0,e.time(n[1]).play()})}catch(i){return t=i,e.error(t),e._specificTimeInitiated=!1}}}(Wistia)},function(e,t,i){!function(e){var t,n;t=e,null!=(n=t._initializers)&&n.initEventLoop||(t._initializers.initEventLoop=function(){var e;return e=i(53).globalEventLoop,t.eventLoop=e},t._destructors.destroyEventLoop=function(){var e;return null!=(e=t.eventLoop)&&e.stop(),t.eventLoop=null})}(Wistia)},function(e,t){var i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;!function(e){e.ExternalPlayer||(e.ExternalPlayer=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.playerType="external",n.prototype.elem=function(){return document.getElementById(this.uuid)},n.prototype.chromeElem=function(){return document.getElementById(this.uuid+"_external_player")},n.prototype.createEmbedElem=function(){var t,i;return i={id:this.uuid+"_external_player",style:{background:"transparent",display:"block",height:"100%",position:"relative",width:"100%"}},t={tagName:"a",href:this.sdAsset().url,id:this.uuid,target:"_parent",style:e.generate.relativeBlockCss(),alt:"Click to play video"},i.childNodes=[t],e.elem.fromObject(i)},n.prototype.stillUrl=function(t){return t=e.obj.merge({playButton:!1},t),n.__super__.stillUrl.call(this,t)},n.prototype.embed=function(){var t,i;return this._currentAsset=this.sdAsset(),this.data.asset=this._currentAsset,this.placeEmbed(this.createEmbedElem()),this.elem().wistiaApi=this,this.bigPlayButton=new e.Html5BigPlayButton(this).initialize(),this.bigPlayButton.bpb.elem.style.pointerEvents="none",this.bigPlayButton.bpb.backgroundElem.style.pointerEvents="none",this.still=new e.Html5Still(this).initialize(),this._opts.stillUrl=null!=(t=this.still.thumbnail)&&null!=(i=t.img)?i.getAttribute("src"):void 0,"transparent"!==this._opts.wmode&&this.still.loaded(function(t){return function(){var i;return t.elem()&&e.elem.prepend(t.elem(),t.still.elem),null!=(i=t.chromeElem())?i.style.backgroundColor="#000":void 0}}(this)),e.elem.bind(this.elem(),"click",function(t){return function(){return t.trigger("play"),e.timeout(t.uuid+".fake_video_end",function(){return t.trigger("end"),t.trigger("afterend")},500),!0}}(this)),this.embedded(!0),this.checkForReady()},n.prototype.checkForReady=function(){var t;return this._checkDownState(),t=function(t){return function(){return e.timeout(t.uuid+".async_ready",function(){return t._hasBeenReady=!0,t.ready(!0)})}}(this),this._hasBeenReady?t():this.publicApi.up(t)},n.prototype.fit=function(){return n.__super__.fit.apply(this,arguments),this.embedded(function(e){return function(){var t,i;return null!=(t=e.still)&&t.fitStill(),null!=(i=e.bigPlayButton)?i.reorient():void 0}}(this))},n.prototype.play=function(){return this},n.prototype.time=function(e){return null!=e?this:0},n.prototype.pause=function(){return this},n.prototype.volume=function(e){return null!=e?this:1},n.prototype.bestAsset=function(){return this.sdAsset()},n.prototype.sdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},n.prototype.mdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},n.prototype.hdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},n.prototype.initFrom=function(t){return e.elem.remove(t.wrapperElem),this.embed()},n}(e.Player))}(Wistia)},function(e,t,i){!function(e){e.featureEvent||(e.featureEvent=i(283))}(Wistia)},function(e,t){var i=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;!function(e){e.FlashPlayer||(e.FlashPlayer=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.playerType="flash",n.prototype.elem=function(){return document[this.uuid]},n.prototype.embed=function(){return this._currentAsset=this.bestAsset(),this.data.asset=this._currentAsset,this.resetStateVariables(),this.placeEmbed(this.createEmbedElem()),null==this._switchToHtml5&&(this._switchToHtml5=function(t){return function(){return e.timeout(t.uuid+".delayed_rebuild_as_html5",function(){return t.savePlatformPreference("romulus"),t.publicApi.rebuildAs("romulus"),t.trigger("widthchange"),t.trigger("heightchange")})}}(this)),e.unbind("switch-to-html5",this._switchToHtml5),e.bind("switch-to-html5",this._switchToHtml5),this.embedded(!0),this.checkForReady(),this},n.prototype.checkForReady=function(){return this.info("checkForReady"),this._checkDownState(),this._readyCheckFunc=function(t){return function(i){var n;if(null==i&&(i=0),t.info("_readyCheckFunc",i),!(i>=25))return t.elem()&&t._allFuncsUp()?e.timeout(t.uuid+".ready_delay",function(){return t.info("ready(true)"),t.ready(!0),t.listenForEvents()},200):(n=Math.max(1e3,50+75*i),e.timeout(t.uuid+".ready_check",function(){return t._readyCheckFunc(i+1)},n))}}(this),this.up(function(e){return function(){return e.info("start _readyCheckFunc"),e._readyCheckFunc()}}(this))},n.prototype.initFrom=function(t){return e.elem.remove(t.wrapperElem),this.embed()},n.prototype.cleanupRefs=function(){if(this._switchToHtml5)return e.unbind("switch-to-html5",this._switchToHtml5)},n.prototype.bestAsset=function(){return this._forceAsset?this._forceAsset:"sd-only"===this._opts.videoQuality?this.mdOrSdAsset():"hd-only"===this._opts.videoQuality?this.hdAsset()||this.mdAsset()||this.sdAsset():"md"===this._opts.videoQuality?this.mdAsset()||this.sdAsset():this.chosenAsset()?this.chosenAsset():this.isScreencast()&&this.screencastAsset()?this.screencastAsset()||this.mdOrSdAsset():this.mdOrSdAsset()},n.prototype.chosenAsset=function(){var e,t,i;return/width:/.test(this._opts.videoQuality)?(t=this._opts.videoQuality.match(/width:([a-z]*)(\d+)/i),t[0],e=t[1],i=t[2],""===e||"lte"===e?this.flashAsset({width:[0,i],sortBy:"width desc"})||this.flashAsset({width:[i,1e4],sortBy:"width asc"}):"gte"===e?this.flashAsset({width:[i,1e4],sortBy:"width asc"})||this.flashAsset({width:[0,i],sortBy:"width desc"}):null):null},n.prototype.mdOrSdAsset=function(){return this._mdOrSdAsset||(this._mdOrSdAsset="sd-only"===this._opts.videoQuality?this.sdAsset():"md"===this._opts.videoQuality||this._opts.videoFoam||this.grid&&this.videoWidth()>=720?this.mdAsset()||this.sdAsset():this.sdAsset())},n.prototype.screencastAsset=function(){return this._screencastAsset||(this._screencastAsset=this.flashAsset({bitrate:[0,1300],sortBy:"width desc, bitrate asc",width:[0,this.originalAsset().width]}))},n.prototype.sdAsset=function(){return this._sdAsset||(this._sdAsset=this.flashAssetInRange({width:640})||this.flashAssetInRange()||this.flashAsset({width:640})||this.flashAsset({sortBy:"width asc"})||this.iphoneAssetInRange()||this.mp4AssetInRange()||this.smallestNormalMp4Asset()||this.mp4Asset())},n.prototype.mdAsset=function(){return this._mdAsset||(this._mdAsset=this.flashAssetInRange({width:[720,980],sortBy:"width desc, bitrate desc"}))},n.prototype.hdAsset=function(){return this._hdAsset||(this._hdAsset=this.flashAssetInRange({width:[980,this._opts.maxHdWidth||1300],sortBy:"width desc, bitrate desc"}))},n.prototype.playerVersion=function(){return parseFloat(this.playerUrl().match(/_v(\d+(?:\.\d+)?)/)[1]||2)},n.prototype.stillUrl=function(t){return t=e.obj.merge({playButton:!1},t),n.__super__.stillUrl.call(this,t)},n.prototype.generateFlashVars=function(){var t,i;i={autoLoad:this._opts.autoLoad,autoPlay:!this.publicApi.popover&&this._opts.autoPlay&&!this.suppressPlay(),banner:!(!this._mediaData.branding&&!this._opts.branding)||null,chromeless:!!this._opts.chromeless||null,controlsVisibleOnLoad:!!this._opts.controlsVisibleOnLoad,customColor:this.playerVersion()>=2?this.playerColor():null,endVideoBehavior:this._opts.endVideoBehavior||null,endVideoCallback:this._opts.endVideoCallback||null,foreignData:this._opts.foreignData,fullscreenDisabled:!1===this._opts.fullscreenButton||null,mediaDuration:this._mediaData.duration,playButtonVisible:null==this._opts.playButton||this._opts.playButton,quality:e.detect.ps3&&!this._opts.videoQuality?"sd-only":this._opts.videoQuality,referrer:this._attrs.pageUrl,showAbout:null==this._mediaData.showAbout||this._mediaData.showAbout,showPlayButton:!1!==this._opts.smallPlayButton&&null,showPlaybar:!1!==this._opts.playbar&&null,showVolume:!!this._opts.volumeControl,stillUrl:this.stillUrl(),allowSwitchToHtml5:e.detect.vulcanSupport,trackingTransmitInterval:this._opts.trackingTransmitInterval||this._mediaData.trackingTransmitInterval||null,unbufferedSeek:/flash/i.test(this.bestAsset().type),videoUrl:this.bestAsset().url,wemail:this.email(),wmode:this._opts.wmode||"opaque"},e.detect.android&&(i.quality="sd-only"),this.chosenAsset()||(this.hdAsset()?i.hdUrl=this.hdAsset().url:this.mdAsset()&&this.mdAsset().url!==this.mdOrSdAsset().url&&(i.hdUrl=this.mdAsset().url)),this._attrs.shouldTrack&&!this._attrs.trackWithJs&&(i.embedServiceURL=this._mediaData.distilleryUrl,i.accountKey=this._opts.accountKey||this._mediaData.accountKey,i.mediaID=this._opts.mediaKey||this._mediaData.mediaKey);for(t in i)null==i[t]&&delete i[t];return i},n.prototype.createEmbedObject=function(){var t,i,n,r,o;return o=this._opts.wmode||"opaque",n={tagName:"object",id:this.uuid,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",style:e.generate.relativeBlockCss()},"transparent"!==this._opts.wmode&&(n.bgcolor="#000000"),i=this.generateFlashVars(),r=[{tagName:"param",name:"movie",value:this.playerUrl()},{tagName:"param",name:"allowfullscreen",value:"true"},{tagName:"param",name:"allowscriptaccess",value:"always"},{tagName:"param",name:"wmode",value:o},{tagName:"param",name:"flashvars",value:e.url.jsonToParams(i)}],t={tagName:"embed",src:this.playerUrl(),name:this.uuid,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",wmode:o,flashvars:e.url.jsonToParams(i),style:e.generate.relativeBlockCss()},"transparent"!==o&&(t.bgcolor="#000000"),n.childNodes=r.concat(t),n},n.prototype.playerUrl=function(){var t,i;return(null!=(t=this.bestAsset())?t.url:void 0)?(i=e.url.parse(this.bestAsset().url),this.info("using player url derived from bestAsset",i.authority()),e.proto()+"//"+i.authority()+"/flash/embed_player_v2.0.swf?2017-04-20"):(this.info("Couldn't determine player url from bestAsset. Falling back to defaults."),e.proto()+"//"+e.remote.assetHost()+"/flash/embed_player_v2.0.swf?2017-04-20")},n.prototype.createEmbedElem=function(){return e.generate.html(this.createEmbedObject())},n.prototype._allFuncsUp=function(){var e,t,i,n;for(n=["changeColor","getCurrentTime","getCurrentState","videoPlay","videoSeek","getVolume","setVolume","setEmail"],e=0,t=n.length;e<t;e++)if(i=n[e],!this.elem()[i])return!1;return!0},n.prototype.listenForEvents=function(){return this.setupWaitingDetection(),e.eventLoop.add(this.uuid+".events",this._eventLoopDuration,function(e){return function(){var t,i,n;if(e.up()&&e.elem()&&e._allFuncsUp())return t=e.state(),i=e.time(),n=e.volume(),t!==e._lastState&&(e.trigger("statechange",t),"playing"===t&&e.trigger("play")),i!==e._lastTimePosition&&i>0&&(e.trigger("timechange",i),Math.floor(i)!==Math.floor(e._lastTimePosition)&&e.trigger("secondchange",Math.floor(i)),Math.abs(i-e._lastTimePosition)>e._attrs.seekThreshold&&e.trigger("seek",i,e._lastTimePosition),e._lastTimePosition=i),t!==e._lastState&&("paused"===t?e.trigger("pause"):"ended"===t?(e.trigger("end"),e.trigger("afterend")):"playing"===e._lastState&&"beforeplay"===t&&"reset"===e._opts.endVideoBehavior&&(e.trigger("end"),e.trigger("afterend"))),n!==e._lastVolume&&(e.trigger("volumechange",n),e._lastVolume=n),e._lastState=t}}(this))},n.prototype.play=function(){return this.suppressPlay()?this:(this.trigger("play-method-invoked"),this.ready(function(e){return function(){return e.commandQueueOpen.synchronize(function(t){return e.trigger("play-initiated"),e.elem().videoPlay(),t()})}}(this)),this)},n.prototype.pause=function(){return this.ready(function(e){return function(){return e.commandQueueOpen.synchronize(function(t){return e.elem().videoPause(),t()})}}(this)),this},n.prototype.time=function(e){if(null!=e)return this.suppressPlay()?this:(this.ready(function(t){return function(){return t.commandQueueOpen.synchronize(function(i){var n,r;return r=t.state(),t._streamSet&&"beforeplay"!==r&&"ended"!==r?(t.elem().videoSeek(e),/paused|ended/.test(r)&&t.elem().videoPause(),i()):(t.info("time("+e+"): seek before play from",r),n=function(){return t.info("time("+e+"): seek on play"),t._streamSet=!0,t.elem().videoSeek(e),"playing"===r?t.elem().videoPlay():t.elem().videoPause(),i(),t.unbind},t.bind("timechange",n),t.elem().videoPlay())})}}(this)),this);try{return this.elem().getCurrentTime()||0}catch(e){return-1}},n.prototype.state=function(){try{switch(this.elem().getCurrentState()){case 0:return"ended";case 1:return"playing";case 2:return"paused";default:return"beforeplay"}}catch(e){return"beforeplay"}},n.prototype.volume=function(e){var t;if(null!=e)return this.ready(function(t){return function(){var i;if(i=t.volume(),t.elem().setVolume(Math.min(Math.round(100*e),100)),i!==t.volume())return t.trigger("volumechange",t.volume(),i)}}(this)),this;try{return t=this.elem().getVolume(),t>0&&(t/=100),t}catch(e){return 1}},n.prototype.controlEnabled=function(e,t){return null!=t?this.ready(function(i){return function(){return i.elem()[e+"Enabled"](t)}}(this)):this.elem()[e+"Enabled"]()},n.prototype.bigPlayButtonEnabled=function(e){return this.controlEnabled("bigPlayButton",e),this},n.prototype.smallPlayButtonEnabled=function(e){return this.controlEnabled("playButton",e),this},n.prototype.playbarControlEnabled=function(e){return this.controlEnabled("playbar",e),this},n.prototype.volumeControlEnabled=function(e){return this.controlEnabled("volumeControl",e),this},n.prototype.fullscreenButtonEnabled=function(e){return this.controlEnabled("fullscreenButton",e),this},n.prototype.setPlayerColor=function(e){return this.playerColor(e)},n.prototype.playerColor=function(t){var i;return t?(i=this._attrs.playerColor,t=e.Player._sanePlayerColor(t),this._attrs.playerColor=t,this.playerVersion()>=2&&this.ready(function(e){return function(){if(e.elem().changeColor(t),i!==e._attrs.playerColor)return e.trigger("playercolorchange",e._attrs.playerColor,i)}}(this)),this):this._attrs.playerColor},n.prototype.email=function(e){return null!=e?this.ready(function(t){return function(){return t.elem().setEmail(e)}}(this)):null},n}(e.Player))}(Wistia)},function(e,t){!function(e){null==e._onFullscreenChange&&(e._onFullscreenChange=function(){return e.elem.fullscreenElement()?e.trigger("enter-fullscreen",e.elem.fullscreenElement()):e.trigger("cancel-fullscreen")}),e._initializers.initFullscreenTriggers=function(){return e.elem.rebind(document,"mozfullscreenchange",e._onFullscreenChange),e.elem.rebind(document,"webkitfullscreenchange",e._onFullscreenChange),e.elem.rebind(document,"MSFullscreenChange",e._onFullscreenChange),e.elem.rebind(document,"fullscreenchange",e._onFullscreenChange)},e._destructors.destroyFullscreenTriggers=function(){return e.elem.unbind(document,"mozfullscreenchange",e._onFullscreenChange),e.elem.unbind(document,"webkitfullscreenchange",e._onFullscreenChange),e.elem.unbind(document,"MSFullscreenChange",e._onFullscreenChange),e.elem.unbind(document,"fullscreenchange",e._onFullscreenChange)}}(Wistia)},function(e,t){!function(e){e.integrations.register("google_analytics",{pushPercentWatchedEvent:function(e,t){return this._pushEvent(Math.round(100*t)+"% Watched",e.name())},pushPlayEvent:function(e){return this._pushEvent("Play",e.name())},pushConversionEvent:function(e,t,i){return this._pushEvent("Conversion",e.name())},pushConversionMidrollLinkEvent:function(e,t){return this._pushEvent("Clicked Link - "+t.link,e.name())},pushConversionPostRollEvent:function(e,t){return this._pushEvent("Clicked Link - "+t.link,e.name())},_gaTrackers:function(){var e,t,i,n,r,o,s,a,l,u,c;if(u=[],"undefined"!=typeof ga&&null!==ga?ga.getAll:void 0)for(s=ga.getAll(),e=0,n=s.length;e<n;e++)c=s[e],u.push(c.get("name"));if("undefined"!=typeof gaTracker&&null!==gaTracker?gaTracker.getAll:void 0)for(a=gaTracker.getAll(),t=0,r=a.length;t<r;t++)c=a[t],u.push(c.get("name"));if("undefined"!=typeof __gaTracker&&null!==__gaTracker?__gaTracker.getAll:void 0)for(l=__gaTracker.getAll(),i=0,o=l.length;i<o;i++)c=l[i],u.push(c.get("name"));return u},_pushEvent:function(t,i){var n,r,o,s,a,l;if(null!=(n=window[window.GoogleAnalyticsObject]||window.ga)){for(s=this._gaTrackers(),a=[],r=0,o=s.length;r<o;r++)l=s[r],n(l+".send","event","Video",t,i),a.push(e.info("Push to "+(window.GoogleAnalyticsObject||"ga")+": "+l+".send, event, Video, "+t+", "+i));return a}if(null!=window._gaq)return _gaq.push(["_trackEvent","Video",t,i]),e.info("Push to _gaq: _trackEvent, Video, "+t+", "+i)}})}(Wistia)},function(e,t){!function(e){e.generate||(e.generate={},e.generate.html=function(t){var i,n,r,o,s,a,l,u,c,d,h,p,f,m;if(/string|number|boolean/.test(typeof t))return t.toString();if(t instanceof Array){for(h="",s=0,u=t.length;s<u;s++)o=t[s],h+=e.generate.html(o);return h}if("object"!=typeof t)return t.toString();n=[];for(l in t)f=t[l],"tagName"===l?p=f:"childNodes"===l?r=f:n.push({key:l,val:f});for(p||(p="div"),h="<"+p,a=0,c=n.length;a<c;a++)i=n[a],"style"===i.key&&e.obj.isObject(i.val)&&(i.val=function(){var e,t;e=i.val,t=[];for(d in e)m=e[d],t.push(d.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+":"+m);return t}().join(";")+";"),h+=" "+i.key+'="'+i.val+'"';return/^(br|hr|img|link|meta|input)$/i.test(p)?h+=" />":(h+=">",r&&("string"==typeof r?h+=r:"object"==typeof r&&(h+=e.generate.html(r))),h+="</"+p+">"),h},e.generate.stillWidth=function(e){var t,i,n,r,o,s,a,l;for(s=[640,960,1280,1920,3840],e.masterStillWidth<3840&&s.push(e.masterStillWidth),t=[],i=0,r=s.length;i<r;i++)(l=s[i])<=e.masterStillWidth&&t.push(l);for(a=t.sort(function(e,t){return e-t}),n=0,o=a.length;n<o;n++)if(l=a[n],e.videoWidth<=l)return l;return Math.max.apply(Math,t)},e.generate.relativeBlockCss=function(e,t){return null==e&&(e="100%"),null==t&&(t="100%"),"display:inline-block;*display:inline;height:"+t+";margin:0;padding:0;position:relative;vertical-align:top;width:"+e+";zoom:1;"},e.generate.video=function(t,i,n){switch(n=e.obj.merge({},i.params,n,{uuid:i.uuid,videoWidth:i.videoWidth(),videoHeight:i.videoHeight()}),t){case"flash":return e.generate.flashEmbedCode(i._mediaData,n);case"html5":return e.generate.html5EmbedElem(i._mediaData,n);case"romulus":return e.generate.romulusEmbedElem(i._mediaData,n);case"external":return e.generate.externalEmbedCode(i._mediaData,n);case"flashUrl":return e.generate.flashUrl(i._mediaData,n)}})}(Wistia)},function(e,t){!function(e){e.gridify||(e.gridifyCss=function(e){return e.replace(/_grid$/,""),"#"+e+"_wrapper{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;font-family:Arial,sans-serif;font-size:14px;height:100%;position:relative;text-align:left;width:100%;}\n#"+e+"_wrapper *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}\n#"+e+"_above{position:relative;}\n#"+e+"_main{display:block;height:100%;position:relative;}\n#"+e+"_behind{height:100%;left:0;position:absolute;top:0;width:100%;}\n#"+e+"_center{height:100%;overflow:hidden;position:relative;width:100%;}\n#"+e+"_front{display:none;height:100%;left:0;position:absolute;top:0;width:100%;}\n#"+e+"_top_inside{position:absolute;left:0;top:0;width:100%;}\n#"+e+"_top{width:100%;position:absolute;bottom:0;left:0;}\n#"+e+"_bottom_inside{position:absolute;left:0;bottom:0;width:100%;}\n#"+e+"_bottom{width:100%;position:absolute;top:0;left:0;}\n#"+e+"_left_inside{height:100%;position:absolute;left:0;top:0;}\n#"+e+"_left{height:100%;position:absolute;right:0;top:0;}\n#"+e+"_right_inside{height:100%;right:0;position:absolute;top:0;}\n#"+e+"_right{height:100%;left:0;position:absolute;top:0;}\n#"+e+"_below{position:relative;}"},e.gridifyHtml=function(e){return{id:e+"_wrapper",childNodes:[{id:e+"_above"},{id:e+"_main",childNodes:[{id:e+"_behind"},{id:e+"_center"},{id:e+"_front"},{id:e+"_top_inside",childNodes:{id:e+"_top"}},{id:e+"_bottom_inside",childNodes:{id:e+"_bottom"}},{id:e+"_left_inside",childNodes:{id:e+"_left"}},{id:e+"_right_inside",childNodes:{id:e+"_right"}}]},{id:e+"_below"}]}},e.createGrid=function(t){var i;return i=e.createGridSkeleton(),e.initGridDimensions(t,i),i},e.createGridSkeleton=function(){var t,i,n,r,o,s,a,l;for(i=e.seqId("wistia_grid_"),n=e.elem.fromObject(e.gridifyHtml(i)),t=e.css(n,e.gridifyCss(i)),s={},s.css=t,s.root=n,e.elem.style(n,{display:"none"}),e.elem.append(document.body,n),l=["wrapper","main","above","below","top","right","bottom","left","top_inside","right_inside","bottom_inside","left_inside","front","center","behind"],r=0,o=l.length;r<o;r++)a=l[r],s[a]=document.getElementById(i+"_"+a);return e.elem.remove(n),e.elem.style(n,{display:"block"}),s},e.initGridDimensions=function(t,i){var n,r,o;return r=t._embedContainer,n=t.chrome,o=t._opts,e.detect.browser.old&&(n.style.width=r.style.width=e.elem.width(r)+"px",n.style.height=r.style.height=e.elem.height(r)+"px"),e.detect.browser.old?o.rawEmbed&&o.aspectRatio?i.main.style.height=e.elem.width(i.center)/o.aspectRatio+"px":void 0:(n.style.height=e.elem.height(r)+"px",i.main.style.width=e.elem.width(r)+"px")},e.gridify=function(t,i){var n,r,o,s,a,l;for(a={},n=i.id+"_grid",e.detect.browser.old&&(i.style.width=e.elem.width(i)+"px",i.style.height=e.elem.height(i)+"px"),i.innerHTML=e.generate.html(e.gridifyHtml(n)),s=["wrapper","main","above","below","top","right","bottom","left","top_inside","right_inside","bottom_inside","left_inside","front","center","behind"],r=0,o=s.length;r<o;r++)l=s[r],a[l]=document.getElementById(n+"_"+l);return e.util.addInlineCss(a.wrapper,e.gridifyCss(n)),e.detect.browser.old?t.rawEmbed&&t.aspectRatio&&(a.main.style.height=e.elem.width(a.center)/t.aspectRatio+"px"):(a.wrapper.style.height=e.elem.height(i)+"px",a.main.style.width=e.elem.width(i)+"px"),a},e.isGridElem=function(e,t){var i,n;for(n in e)if(i=e[n],t===i)return!0;return!1},e.grid={},e.grid.allNodesHidden=function(e){var t,i,n;if(0===e.length)return!0;for(t=0,i=e.length;t<i;t++)if(n=e[t],n.style&&"none"!==n.style.display)return!1;return!0},e.grid.zeroEmptySections=function(t){var i,n,r,o,s,a;for(o=["top","bottom","left","right","above","below"],s=[],n=0,r=o.length;n<r;n++)a=o[n],i=t.grid[a],i.childNodes.length?e.grid.allNodesHidden(i.childNodes)?(i.style.height="0px",i.style.fontSize="0px",i.style.lineHeight="0px",s.push(i.isEmpty=!0)):(i.style.height="",i.style.fontSize="",s.push(i.style.lineHeight="")):(i.appendChild(document.createTextNode(" ")),i.style.height="0px",i.style.fontSize="0px",i.style.lineHeight="0px",s.push(i.isEmpty=!0));return s},e.grid.wrapperHeight=function(t){var i,n;return i=t.grid.wrapper,n=e.elem.height(i),e.detect.browser.old&&(t._attrs.rawEmbed&&t._embedContainer&&(n=parseInt(t._embedContainer.currentStyle.height,10)),t._attrs.rawEmbed||(n=e.util.winHeight())),n},e.grid.wrapperWidth=function(t){var i,n;return i=t.grid.wrapper,n=e.elem.width(i),e.detect.browser.old&&(t._attrs.rawEmbed&&t._embedContainer&&(n=parseInt(t._embedContainer.currentStyle.width,10)),t._attrs.rawEmbed||(n=e.util.winWidth())),n},e.grid.fitVertical=function(t){var i,n,r,o,s;t._opts.dontFit||(e.grid.zeroEmptySections(t),n=t.grid,r=n.main,n.wrapper,s=Math.max(e.elem.height(n.above),e.elem.height(n.top)),i=Math.max(e.elem.height(n.below),e.elem.height(n.bottom)),o=Math.max(0,e.grid.wrapperHeight(t)-s-i),r.style.height=o+"px",0===e.elem.width(n.left)&&(r.style.left="0px"),r.style.marginTop=e.elem.height(n.top)+"px")},e.grid.fitHorizontal=function(t){var i,n,r,o,s;t._opts.dontFit||(e.grid.zeroEmptySections(t),i=t.grid,i.wrapper,r=i.main,n=e.elem.width(i.left),s=e.elem.width(i.right),o=e.grid.wrapperWidth(t)-n-s,r.style.width=o+"px",r.style.left=n+"px")},e.grid.fit=function(t,i){/left|right/.test(i)?e.grid.fitHorizontal(t):/top|bottom|above|below/.test(i)&&e.grid.fitVertical(t),t.ieSizeHack()})}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty,s=[].slice;!function(e){var t,o;t=e,t.Html5Player||(o=i(10).cdnFastWistiaComHost,t.Html5Player=function(e){function i(){return this.hideControls=n(this.hideControls,this),this.showControls=n(this.showControls,this),i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.playerType="html5",i.prototype.elem=function(){return document.getElementById(this.uuid)},i.prototype.source=function(){return this.elem().childNodes[0]},i.prototype.chromeElem=function(){return document.getElementById(this.uuid+"_html5_player")},i.prototype.embed=function(){return this.info("embed"),this.onIos8Plus()?(this.info("wait for docReady"),t.util.onDocReady(function(e){return function(){return e.embedForReal()}}(this))):this.embedForReal(),this},i.prototype.embedForReal=function(){return this.info("embedForReal"),this.resetStateVariables(),this._currentAsset=this.bestAsset(),this.data.asset=this._currentAsset,this.placeEmbed(this.createEmbedElem()),this._opts.uiWebView?t.timeout(this.uuid+".inject_source",function(e){return function(){return t.elem.append(e.elem(),t.elem.fromObject(e.sourceElemObj())),e.setupEmbed()}}(this),100):this.setupEmbed()},i.prototype.setupEmbed=function(){return this.info("setupEmbed"),this._currentAsset=this.bestAsset(),this.data.asset=this._currentAsset,this.setupControls(),this.applyHacks(),this.setupBindings(),this.listenForEvents(),this.pollForEvents(),this._oldVideoElem&&(this.trigger("rebuild",this._oldVideoElem,this.elem()),this._oldVideoElem=null),this.embedded(!0),this.checkForReady()},i.prototype.checkForReady=function(){var e;return this.info("checkForReady"),this._checkDownState(),e=function(e){return function(){return t.detect.iphone||t.detect.ipad?(e.info("ready"),e._hasBeenReady=!0,e.info("@ready(true) synchronous"),e.ready(!0)):t.timeout(e.uuid+".delayed_ready",function(){return e.info("ready"),e._hasBeenReady=!0,e.info("@ready(true) async"),e.ready(!0)})}}(this),this._hasBeenReady&&this.looksUp()?e():(this.info("set ready on up"),this.up(e))},i.prototype.createEmbedElem=function(){var e,i,n;return n={id:this.uuid+"_html5_player",style:{background:"transparent",display:"block",height:"100%",position:"relative",width:"100%"}},i={tagName:"video",style:{background:"transparent",display:"block",height:"100%",left:"-100%",position:"relative",top:0,visibility:"visible",width:"100%"},id:this.uuid,preload:"none",poster:"//"+o()+"/assets/images/blank.gif"},(t.detect.browser.msie||t.detect.trident)&&(i.style.minWidth="10px",i.style.minHeight="10px"),this._opts.chromeless||(i.controls="controls"),"loop"===this._opts.endVideoBehavior&&(i.loop="loop"),this._opts.uiWebView||(e=this.sourceElemObj(),i.childNodes=[e]),n.childNodes=[i],t.elem.fromObject(n)},i.prototype.sourceElemObj=function(){return{tagName:"source",src:this.properAssetUrl(this._currentAsset.url),type:"video/mp4"}},i.prototype.setupControls=function(){if(this.info("setupControls"),this.still=new t.Html5Still(this).initialize(),"transparent"!==this._opts.wmode&&this.still.loaded(function(e){return function(){var t;return null!=(t=e.chromeElem())?t.style.backgroundColor="#000":void 0}}(this)),this.bigPlayButton=new t.Html5BigPlayButton(this).initialize(),this.loadingIndicator=new t.Html5LoadingIndicator(this).initialize(),this.showControls(),"playing"===this.state())return t.timeout(this.video.uuid+".hide_still",this.hideControls)},i.prototype.showControls=function(){if(!this._controlsVisible)return this.info("showControls"),this.still.show(),this.bigPlayButton.show(),this.hideVideoElem(),this._controlsVisible=!0},i.prototype.hideControls=function(){if(this._controlsVisible)return this.info("hideControls"),this.still.hide(),this.bigPlayButton.hide(),
this.showVideoElem(),this._controlsVisible=!1},i.prototype.controlsVisible=function(){return!!this._controlsVisible},i.prototype.hideVideoElem=function(){return this.info("hideVideoElem"),this.elem().style.left="-100%"},i.prototype.showVideoElem=function(){return this.info("showVideoElem"),this.elem().style.left=0,this.correctForIntegers()},i.prototype.setupBindings=function(){return this.rebind("play",this.hideControls),this.rebind("startplay",this.hideControls),this.setupIosBindings()},i.prototype.setupIosBindings=function(){if(t.detect.ipad||t.detect.iphone)return null==this._iosOnEnd&&(this._iosOnEnd=function(e){return function(){if(e.info("_iosOnEnd"),!e.publicApi.nextVideo())return e.showControls(),e.elem().load()}}(this)),null==this._iosOnPause&&(this._iosOnPause=function(e){return function(){return e.info("_iosOnPause"),e.showControls()}}(this)),t.detect.iphone&&this.rebind("pause",this._iosOnPause),t.detect.iphone||t.detect.ipad?this.rebind("end",this._iosOnEnd):void 0},i.prototype.fixWebkitControlsBug=function(){return this.info("fixWebkitControlsBug"),this.elem().removeAttribute("controls"),this.elem().setAttribute("controls","controls")},i.prototype.fit=function(){return i.__super__.fit.apply(this,arguments),this.embedded(function(e){return function(){return e.still.fitStill(),e.bigPlayButton.reorient(),e.loadingIndicator.reorient(),e.correctForIntegers()}}(this))},i.prototype.cancelFullscreen=function(){if(this.inFullscreen())return this.info("cancelFullscreen"),t.elem.cancelFullscreen(this.elem())},i.prototype.correctForIntegers=function(){if(!this.controlsVisible())return i.__super__.correctForIntegers.apply(this,arguments)},i.prototype.applyHacks=function(){if(!t.detect.iphone&&!t.detect.ipad)return this.disableTextTracks(),this.fixWebkitControlsBug()},i.prototype.inFullscreen=function(){return!!this._inFullscreen},i.prototype.inVideoEventContext=function(){return this._inPlayEventContext||this._inPauseEventContext||this._inEndEventContext},i.prototype.listenForEvents=function(){return null==this._relayPlay&&(this._relayPlay=function(e){return function(){var t,i;return e._inPlayEventContext=!0,e._hasPlayed=!0,e._beforePlay=!1,e.playing(!0),e.trigger("play"),e._inPlayEventContext=!1,null!=(t=e.publicApi)&&null!=(i=t._impl)?i._inPlayEventContext=!1:void 0}}(this)),null==this._relayPause&&(this._relayPause=function(e){return function(){var t,i;return e._inPauseEventContext=!0,e.fireTimeChangedEventsIfChanged(),e.playing(!1),e.trigger("pause"),e._inPauseEventContext=!1,null!=(t=e.publicApi)&&null!=(i=t._impl)?i._inPauseEventContext=!1:void 0}}(this)),null==this._relayEnd&&(this._relayEnd=function(e){return function(){var t,i;return e._inEndEventContext=!0,e.fireTimeChangedEventsIfChanged(),e.playing(!1),e.trigger("end"),e.trigger("afterend"),e._inEndEventContext=!1,null!=(t=e.publicApi)&&null!=(i=t._impl)?i._inEndEventContext=!1:void 0}}(this)),null==this._relayRatechange&&(this._relayRatechange=function(e){return function(){return e.trigger("ratechange",e.playbackRate())}}(this)),null==this._relayVolumeChange&&(this._relayVolumeChange=function(e){return function(){return e.trigger("volumechange",e.volume())}}(this)),null==this._beginFullscreen&&(this._beginFullscreen=function(e){return function(){if(!e._inFullscreen)return e._inFullscreen=!0,e.trigger("enter-fullscreen")}}(this)),null==this._endFullscreen&&(this._endFullscreen=function(e){return function(){if(e._inFullscreen)return e._inFullscreen=!1,e.trigger("cancel-fullscreen")}}(this)),null==this._onEnterFullscreen&&(this._onEnterFullscreen=function(e){return function(t){return t===e.elem()&&(e.info("_onEnterFullscreen"),e._inFullscreen=!0,e.trigger("enter-fullscreen")),!0}}(this)),null==this._onCancelFullscreen&&(this._onCancelFullscreen=function(e){return function(){return e._inFullscreen&&(e.info("_onCancelFullscreen"),e._inFullscreen=!1,e.trigger("cancel-fullscreen")),!0}}(this)),null==this._onContextMenu&&(this._onContextMenu=function(e){return function(e){return e.preventDefault()}}()),this.unbindListeners(),this.info("listenForEvents"),t.elem.bind(this.elem(),"playing",this._relayPlay),t.elem.bind(this.elem(),"pause",this._relayPause),t.elem.bind(this.elem(),"ended",this._relayEnd),t.elem.bind(this.elem(),"volumechange",this._relayVolumeChange),t.elem.bind(this.elem(),"ratechange",this._relayRatechange),t.elem.bind(this.elem(),"webkitbeginfullscreen",this._beginFullscreen),t.elem.bind(this.elem(),"webkitendfullscreen",this._endFullscreen),t.elem.bind(this.chromeElem(),"contextmenu",this._onContextMenu),t.bind("enter-fullscreen",this._onEnterFullscreen),t.bind("cancel-fullscreen",this._onCancelFullscreen)},i.prototype.unbindListeners=function(){if(this.info("unbindListeners"),this.elem()&&(t.elem.unbind(this.elem(),"playing",this._relayPlay),t.elem.unbind(this.elem(),"pause",this._relayPause),t.elem.unbind(this.elem(),"ended",this._relayEnd),t.elem.unbind(this.elem(),"volumechange",this._relayVolumeChange),t.elem.unbind(this.elem(),"ratechange",this._relayRateChange),t.elem.unbind(this.elem(),"webkitbeginfullscreen",this._beginFullscreen),t.elem.unbind(this.elem(),"webkitendfullscreen",this._endFullscreen)),this.chromeElem())return t.elem.unbind(this.chromeElem(),"contextmenu",this._onContextMenu)},i.prototype.pollForEvents=function(){return this.info("pollForEvents"),this.setupWaitingDetection(),t.eventLoop.add(this.uuid+".events",this._eventLoopDuration,function(e){return function(){var t;if(!e.looksDown())return t=e.state(),t!==e._lastState&&(e.trigger("statechange",t),e._lastState=t),e.fireTimeChangedEventsIfChanged(),e.fireCaptionsChangedEventIfChanged()}}(this))},i.prototype.fireTimeChangedEventsIfChanged=function(){var e;if((e=this.time())!==this._lastTimePosition&&e>0)return this.trigger("timechange",e),Math.floor(e)!==Math.floor(this._lastTimePosition)&&this.trigger("secondchange",Math.floor(e)),Math.abs(e-this._lastTimePosition)>this._attrs.seekThreshold&&this.trigger("seek",e,this._lastTimePosition),this._lastTimePosition=e},i.prototype.fireCaptionsChangedEventIfChanged=function(){var e,t,i,n,r,o;if(this.elem()){for(t=this._captionsOn,e=!1,r=this.elem().textTracks||[],i=0,n=r.length;i<n;i++)o=r[i],"showing"===o.mode&&(e=!0);if(t&&!e&&(this._captionsOn=!1,this.trigger("captionschange",{visible:!1})),!t&&e)return this._captionsOn=!0,this.trigger("captionschange",{visible:!0})}},i.prototype.onIos8Plus=function(){return parseInt(t.detect.ios.version,10)>=8},i.prototype.canAutoPlay=function(){return!this.suppressPlay()&&this.inUserEventContext()},i.prototype.bestAsset=function(){return null==this._hlsChoice&&(this._hlsChoice=this.chooseHlsAsset()),t.detect.iphone&&!t.detect.trident&&this._hlsChoice.useHls?this.masterM3u8Asset(this._hlsChoice.segmentDuration):t.detect.gearvr?this.mp4Asset({width:[0,1e4],sortBy:"width desc, bitrate desc"}):t.detect.iphone||t.detect.android?this.iphoneAssetInRange()||this.mp4AssetInRange()||this.mp4Asset():"hd-only"===this._opts.videoQuality||t.detect.retina&&t.detect.ipad?this.hdAsset()||this.mdAsset()||this.sdAsset():this.chosenAsset()?this.chosenAsset():t.detect.ipad?this.iphoneAssetInRange()||this.iphoneAsset():this.mdOrSdAsset()},i.prototype.chosenAsset=function(){var e,t,i;return/width:/.test(this._opts.videoQuality)?(t=this._opts.videoQuality.match(/width:([a-z]*)(\d+)/i),t[0],e=t[1],i=t[2],""===e||"lte"===e?this.mp4Asset({width:[0,i],sortBy:"width desc"})||this.mp4Asset({width:[i,1e4],sortBy:"width asc"}):"gte"===e?this.mp4Asset({width:[i,1e4],sortBy:"width asc"})||this.mp4Asset({width:[0,i],sortBy:"width desc"}):null):null},i.prototype.mdOrSdAsset=function(){return this._mdOrSdAsset||(this._mdOrSdAsset="sd-only"===this._opts.videoQuality?this.sdAsset():"md"===this._opts.videoQuality||this._opts.videoFoam||this.videoWidth()>=720?this.mdAsset()||this.sdAsset():this.sdAsset())},i.prototype.sdAsset=function(){return this._sdAsset||(this._sdAsset=this.isScreencast()?this.screencastAsset()||this.smallestNormalMp4Asset()||this.mp4Asset():this.iphoneAssetInRange()||this.mp4AssetInRange()||this.iphoneAsset()||this.mp4Asset())},i.prototype.mdAsset=function(){return this._mdAsset||(this._mdAsset=this.isScreencast()&&this.screencastAsset()?this.screencastAsset():this.mp4AssetInRange({width:[720,980],sortBy:"width desc"}))},i.prototype.hdAsset=function(){return this._hdAsset||(this._hdAsset=this.mp4AssetInRange({width:[980,this._opts.maxHdWidth||1300],sortBy:"width desc, bitrate desc"}))},i.prototype.screencastAsset=function(){return this._screencastAsset||(this._screencastAsset=this.mp4Asset({bitrate:[0,1300],sortBy:"width desc, bitrate asc",width:[0,this.originalAsset().width]}))},i.prototype.stillUrl=function(e){return e=t.obj.merge({playButton:!1},e),i.__super__.stillUrl.call(this,e)},i.prototype.play=function(){return this.suppressPlay()?this:(this.info("play"),this.trigger("play-method-invoked"),this.ready(function(e){return function(){var i;return i=function(i,n){return null==n&&(n=!1),n||e.trigger("play-initiated"),t.detect.iphone||t.detect.ipad||t.detect.android||(e.hideControls(),e.trigger("startplay")),e.elem().play(),e.playing(function(){return e.hideControls(),e.info("play: done"),"function"==typeof i?i():void 0})},t.detect.iphone||t.detect.ipad||t.detect.android?e.inUserEventContext()?e.commandQueueOpen.synchronize(i):(e.info("play received, but cannot execute because not in the context of a user generated event. calling issuePlay() anyway, for devices that may respond."),i(null,!0)):e.commandQueueOpen.synchronize(i)}}(this)),this)},i.prototype.inUserEventContext=function(){return!(t.detect.ipad||t.detect.iphone||t.detect.android)||this.inVideoEventContext()||window.event&&window.UIEvent&&event instanceof UIEvent},i.prototype.pause=function(){return this.info("pause"),this.ready(function(e){return function(){return e.commandQueueOpen.synchronize(function(t){return e.elem().pause(),t()})}}(this)),this},i.prototype.time=function(e,i){var n;return null==i&&(i={}),null!=e?this.suppressPlay()?this:(this.info("time",e),this.ready(function(n){return function(){return"beforeplay"===n.state()||"ended"===n.state()?!n.inUserEventContext()&&(t.detect.iphone||t.detect.ipad||t.detect.android)?(n.warn("time("+e+") received, but cannot execute because not in the context of a user generated event. Ignoring."),n):n.commandQueueOpen.synchronize(function(r){var o,s;return"beforeplay"===n.state()||"ended"===n.state()?(n.info("seek before play"),s=n.state(),n.info("time "+e+": state before seek is "+s),o=function(){return t.detect.iphone||t.detect.ipad?(n.info("time "+e+": doing iOS event chain to seek before play"),t.elem.bindOnce(n.elem(),"canplaythrough",function(){return t.elem.bindOnce(n.elem(),"progress",function(){return t.elem.bindOnce(n.elem(),"seeked",function(){return"playing"===s?n.info("time: "+e+": play after seek"):(n.info("time: "+e+": pause after seek"),n.elem().pause()),r()}),n.elem().currentTime=e})})):(n.info("time "+e+": changing currentTime and waiting for seek"),n._waitForTimeChangeOrSeek(function(){return"playing"===s?n.info("time: "+e+": play after seek"):(n.info("time: "+e+": pause after seek"),n.elem().pause()),r()}),n.elem().currentTime=e)},n._hasPlayed?(n.info("time "+e+": already played, seeking"),o()):(n.info("time "+e+": starting stream by calling play()"),i.lazy?(n.bind("play",function(){return n.elem().currentTime=e}),r()):(n.bind("play",function(){return o(),n.unbind}),n.elem().play()))):(n.info("time "+e+": already played, just change currentTime"),n._waitForTimeChangeOrSeek(r),n.elem().currentTime=e,r())}):n.commandQueueOpen(function(){return n.info("time "+e+": already played, just change currentTime immediately"),n.elem().currentTime=e})}}(this)),this):(null!=(n=this.elem())?n.currentTime:void 0)||0},i.prototype._waitForTimeChangeOrSeek=function(e){return t.detect.browser.msie?this.bind("timechange",function(t){return function(){return e(),t.unbind}}(this)):t.elem.bindOnce(this.elem(),"seeked",function(t){return function(){return e()}}())},i.prototype.state=function(){try{return this._beforePlay?"beforeplay":this.elem().ended?"ended":this.elem().paused?"paused":"playing"}catch(e){return"unknown"}},i.prototype.volume=function(e){var t;return null!=e?(this.info("volume",e),e=Math.max(0,Math.min(1,e)),this.ready(function(t){return function(){return t.elem().volume=e}}(this)),this):(null!=(t=this.elem())?t.volume:void 0)||0},i.prototype.playerColor=function(e){return null!=e?(this.info("playerColor",e),this.embedded(function(i){return function(){var n,r;if(n=i._attrs.playerColor,i._attrs.playerColor=t.Player._sanePlayerColor(e),null!=(r=i.bigPlayButton)&&r.updateColor(),n!==i._attrs.playerColor)return i.trigger("playercolorchange",i._attrs.playerColor,n)}}(this)),this):this._attrs.playerColor},i.prototype.playbackRate=function(e){return null!=this.elem().playbackRate?null!=e?(this.embedded(function(t){return function(){return t.info("playbackRate",e),t.elem().playbackRate=e,t._eventLoopDuration=Math.max(50,Math.min(500,t._baseEventLoopDuration*e)),t._playbackRate=e,t.trigger("playbackratechange",t._playbackRate)}}(this)),this):this.elem().playbackRate:(this.info("playbackRate",e,"not supported"),i.__super__.playbackRate.call(this,e))},i.prototype.stopStreaming=function(){var e,t,i,n;this.info("stopStreaming");try{return null!=(t=this.elem())&&(t.src=this.cdnProtocolAndHost()+"/tiny.mp4"),null!=(i=this.elem())&&i.load(),null!=(n=this.elem())?n.currentTime=0:void 0}catch(t){return e=t,this.notice(e)}},i.prototype.removeNonVideoElements=function(){return this.info("removeNonVideoElements"),this.embedded(function(e){return function(){return e.still.remove(),e.bigPlayButton.remove()}}(this))},i.prototype.initFrom=function(e){return this.info("initFrom",e),this.uuid=e.uuid,e.embedded(function(t){return function(){return t.wrapperElem=e.wrapperElem,t._inFullscreen=e._inFullscreen,t._inEndEventContext=e._inEndEventContext,t._inPlayEventContext=e._inPlayEventContext,t._inPauseEventContext=e._inPauseEventContext,t.resetStateVariables(),e.unbindListeners(),e.removeNonVideoElements(),t.setupEmbed(),t._opts.autoPlay&&t.canAutoPlay()&&t.hideControls(),t.switchToAsset(t._currentAsset,!0)}}(this))},i.prototype.hasForcedTrack=function(){var e,t,i,n;for(i=this.elem().textTracks,e=0,t=i.length;e<t;e++)if(n=i[e],"forced"===n.kind)return!0;return!1},i.prototype.hasTrackWithCues=function(){var e,t,i,n;for(i=this.elem().textTracks,e=0,t=i.length;e<t;e++)if(n=i[e],null!=n.cues)return!0;return!1},i.prototype.hasVisibleTrack=function(){var e,t,i,n;for(i=this.elem().textTracks,e=0,t=i.length;e<t;e++)if(n=i[e],"showing"===n.mode)return!0;return!1},i.prototype.wipeTextTrackCues=function(e){var t,i,n,r,o;if(e.cues){for(i=function(){var i,n,r,o;for(r=e.cues,o=[],i=0,n=r.length;i<n;i++)t=r[i],o.push(t);return o}(),o=[],n=0,r=i.length;n<r;n++)t=i[n],o.push(e.removeCue(t));return o}},i.prototype.wipeTextTrackCuesWithNote=function(e){return this.wipeTextTrackCues(e),e.addCue(new VTTCue(1,5,"No subtitles are available for the selected language."))},i.prototype.wipeAllTextTrackCues=function(){var e,t,i,n,r;for(i=this.elem().textTracks,n=[],e=0,t=i.length;e<t;e++)r=i[e],n.push(this.wipeTextTrackCuesWithNote(r));return n},i.prototype.tapTextTrack=function(e){return t.timeout(this.uuid+".tap_text_track_disable",function(i){return function(){return i._savedTapMode||(i._savedTapMode=e.mode),e.mode="disabled",t.timeout(i.uuid+".tap_text_track_reset",function(){return e.mode=i._savedTapMode,i._savedTapMode=null},100)}}(this),50)},i.prototype.updateTextTrack=function(e){var i,n,r,o,s,a;if(i=2e3,a=this.findOrAddTextTrack(e),this._waitForCuesStart||(this._waitForCuesStart=Date.now()),a.cues){for(this._waitForCuesStart=null,this.wipeTextTrackCues(a),s=e.hash.lines,n=0,r=s.length;n<r;n++)o=s[n],a.addCue(new VTTCue(o.start,o.end,o.text.join("\n")));return this.tapTextTrack(a)}return Date.now()-this._waitForCuesStart<i?t.timeout(this.uuid+".wait_for_cues_ready",function(t){return function(){return t.updateTextTrack(e)}}(this),100):this._waitForCuesStart=null},i.prototype.findOrAddTextTrack=function(e){var t;return(t=this.findTextTrack(e))?t:this.addTextTrack(e)},i.prototype.addTextTrack=function(e){var t;return t=this.elem().addTextTrack("subtitles",e.native_name,e.language),t.id=e.language,t.wistia=!0,t},i.prototype.findTextTrack=function(e){var t,i,n,r,o;for(r=(null!=(n=this.elem())?n.textTracks:void 0)||[],t=0,i=r.length;t<i;t++)if(o=r[t],"subtitles"===o.kind&&o.language===e.language)return o;return null},i.prototype.hideTextTracks=function(){var e,t,i,n,r,o;for(n=null!=(i=this.elem())?i.textTracks:void 0,r=[],e=0,t=n.length;e<t;e++)o=n[e],"showing"===o.mode?r.push(o.mode="hidden"):r.push(void 0);return r},i.prototype.selectTextTrack=function(e){var t;if(e)return this.hideTextTracks(),t=this.findTextTrack(e),null!=t&&(t.mode="showing"),t},i.prototype.trigger=function(){var e,t;if(t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],!/timechange|secondchange/.test(t)||!this._suppressTimechange)return i.__super__.trigger.apply(this,[t].concat(s.call(e)))},i.prototype.switchToAsset=function(e,i){if(null==i&&(i=!1),this.info("switchToAsset",e,i),i||e.type!==this._currentAsset.type)return this.commandQueueOpen.synchronize(function(n){return function(r){return t.detect.browser.mozilla?(n.switchToAssetWithoutLoad(e,i),n.elem().load(),r()):(n._suppressTimechange=!0,t.elem.rebind(n.elem(),"loadeddata",function(){return n._suppressTimechange=!1,r(),t.elem.unbind}),n.switchToAssetWithoutLoad(e,i),n.elem().load())}}(this))},i.prototype.switchToAssetWithoutLoad=function(e,t){if(null==t&&(t=!1),this.info("switchToAssetWithoutLoad",e,t),t||e.type!==this._currentAsset.type)return this._currentAsset=e,this.data.asset=e,this.elem().src=this.source().src=this.properAssetUrl(e.url),this.trigger("switched-to-asset-without-load",e.type)},i.prototype.totalBuffered=function(){var e,i;return e=null!=(i=this.elem())?i.buffered:void 0,t.Metrics.sumTimeRanges(e)},i.prototype.totalPlayed=function(){var e,i;return e=null!=(i=this.elem())?i.played:void 0,t.Metrics.sumTimeRanges(e)},i}(t.Player))}(Wistia)},function(e,t){var i=[].slice;!function(e){e.integrations.register("hubspot",{onFind:function(t){return this._setVideoForeignData(t),e.visitorKey.ready(function(i){return function(){return i._setVisitorForeignData(t,e.visitorKey.value())}}(this)),window._hsq.push(function(e){return function(i){return e._setHubSpotForeignData(t,i)}}(this))},onInit:function(){var t;return null==window._hsq&&(window._hsq=[]),t=!1,e.visitorKey.ready(function(){if(!t)return _hsq.push(["identify",{wistia_visitor_key:e.visitorKey.value()}]),t=!0})},pushPercentWatchedEvent:function(e,t){return this._pushEvent(e.name(),Math.round(100*t)+"% Watched")},pushPlayEvent:function(e){return this._pushEvent(e.name(),"play")},pushConversionEvent:function(){var e;return e=arguments[0],arguments[1],3<=arguments.length&&i.call(arguments,2),this._pushEvent(e.name(),"conversion")},pushConversionMidrollLinkEvent:function(e,t){return this._pushEvent(e.name(),"click - "+t.link)},pushConversionPostRollEvent:function(e,t){return this._pushEvent(e.name(),"click - "+t.link)},_pushEvent:function(e,t){return _hsq.push(["trackEvent",{id:'Video "'+e+'": '+t}])},_setVideoForeignData:function(e){var t,i,n;return i=document.location.href.split("?")[0],t=(null!=(n=document.getElementsByTagName("title")[0])?n.innerHTML:void 0)||"",t=t.replace(/^[\n\s]+/,"").replace(/[\n\s]+$/,""),t=t.replace(/[^\x00-\x7F]/g,""),e.foreignData(Wistia.obj.merge({},e.foreignData(),{page_url:i,page_name:t}))},_setVisitorForeignData:function(e,t){return e.foreignData(Wistia.obj.merge({},e.foreignData(),{wistia_visitor_key:t}))},_setHubSpotForeignData:function(e,t){return e.foreignData(Wistia.obj.merge({},e.foreignData(),{hubspot_hutk:t.utk.visitor,canonical_url:t.canonicalUrl,page_id:t.pageId,content_type:t.contentType}))}})}(Wistia)},function(e,t){var i=[].slice,n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(e){var t;e.IframeApi=function(){function t(t,i){this.iframe=t,null==i&&(i={}),this.enableFullscreen(),this._bindings={},this._injectedPlugins={},this._firedPlayCount=0,this.options=this.params=i,this.plugin||(this.plugin={}),this.container=this.iframe,this.relay=e.obj.clone(e.bindable),this.ready=new e.StopGo,this.bound=new e.StopGo,this.hasData=new e.StopGo,this._hasImpl=new e.StopGo,this.embedded=new e.StopGo,this.down=new e.StopGo,this.down(!1),this.up=new e.StopGo,this.up(!0),this.uuid=this.uuid||i.uuid||""+(this.iframe.id||e.seqId()),this.signature=i.signature||"wistia-iframe-"+this.uuid.replace(/"/g,"__QUOTE__").replace(/\n/g,"__NEWLINE__"),this.inferParamsFromSrc(),this.monitor(),e.detect.browser.ltie8&&e.timeout(this.uuid+".ie8_ready",function(e){return function(){return e.ready(!0)}}(this))}return t.prototype.inferParamsFromSrc=function(){var t,i;if(this.src=this.iframe.src,this.parsedSrc=e.url.parse(this.src),this.origWidth=parseInt(this.iframe.width||e.elem.width(this.iframe),10),this.origHeight=parseInt(this.iframe.height||e.elem.height(this.iframe),10),this.origVideoWidth=parseInt(this.parsedSrc.params.videoWidth||(null!=(t=this.parsedSrc.params.videoOptions)?t.videoWidth:void 0)||this.origWidth,10),this.origVideoHeight=parseInt(this.parsedSrc.params.videoHeight||(null!=(i=this.parsedSrc.params.videoOptions)?i.videoHeight:void 0)||this.origHeight,10),this.origPluginWidth=this.origWidth-this.origVideoWidth,this.origPluginHeight=this.origHeight-this.origVideoHeight,this.origAspectRatio=this.origVideoHeight?this.origVideoWidth/this.origVideoHeight:1.333,this.parsedSrc.params.videoFoam)return this._videoFoam=e.obj.cast(this.parsedSrc.params.videoFoam)},t.prototype.init=function(){var t,i,n,r;if(e.detect.browser.ltie8)return this;this.inferParamsFromSrc(),this.relay.bind("iframebound",function(e){return function(){return e.bound(!0)}}(this)),this.relay.bind("videoready",function(e){return function(){return e.bound(function(){if(!e.looksDown())return e.ready(!0)})}}(this)),e.elem.bind(this.iframe,"load",function(e){return function(){return e.startIframeHandshake()}}(this)),this.startIframeHandshake(),this.bind("sphericaltap",function(e){return window.location=e}),this.ready(function(e){return function(){if("playing"===e.state())return e._firedSyntheticPlay=!0,e.trigger("play")}}(this)),i=this.parsedSrc.params.plugin||{};for(t in i)r=i[t],"true"===(null!=(n=r.outsideIframe)?n.toString():void 0)&&this.addPlugin(t,r);return this.monitor(),this.ready(function(e){return function(){if(e._wvideoInUrl())return e._scrollToContainer(),e.play()}}(this)),this},t.prototype._wvideoInUrl=function(){var t;return t=e.url.parse(location.href),t.params.wvideo===this.hashedId()},t.prototype._scrollToContainer=function(){var t;return t=e.elem.offset(this.container),e.util.scrollTop(t.top-100)},t.prototype.rebuild=function(){var t,i,n,r,o;return(r=this.iframe.parentNode)&&(this.bound(!1),this.ready(!1),o=document.createElement("span"),o.style.display="none",n=null,i=function(e){return function(){return e.trigger("beforerebuild"),n=e.iframe.src,r.insertBefore(o,e.iframe),r.removeChild(e.iframe),e.iframe.src="javascript:return false;"}}(this),t=function(e){return function(){return e.iframe.src=n,r.insertBefore(e.iframe,o.nextSibling),r.removeChild(o),o=null,e._state="beforeplay",e.trigger("afterrebuild")}}(this),e.detect.browser.msie&&e.detect.browser.version<9?(i(),e.timeout(this.uuid+".rebuild_delay",t,50)):(i(),t())),this},t.prototype.remove=function(){return this._hasImpl(!1),this.hasData(!1),this.ready(!1),this.embedded(!1),e.eventLoop.remove(this.uuid),e.clearTimeouts(this.uuid),this.bound(function(t){return function(){var i;return i=function(){var i;return e.elem.remove(t._foamDummyElem),t.iframe&&(i=t.iframe.parentNode)&&(t.iframe.wistiaApi=null,i.removeChild(t.iframe),t.iframe.src="javascript:return false;",t.iframe=t.container=null),t.trigger("down"),e.clearTimeouts(t.uuid),e.eventLoop.remove(t.uuid),t.ready.setQueue([]),t.hasData.setQueue([]),t._hasImpl.setQueue([]),t.trigger("afterremove"),t._bindings={},e.removeData("iframe_api."+t.signature),t.unbind},t.relay.bind("_afterremove",i),t.postMessage("remove")}}(this))},t.prototype.reinitializePlugins=function(){return this.postMessage("reinitializePlugins")},t.prototype.monitor=function(){var t,i,n,r;return n=this.width(),r=e.elem.width(this.iframe),i=e.elem.height(this.iframe),t=!1,this.embedded(function(o){return function(){return e.eventLoop.add(o.uuid+".monitor",500,function(){var s,a,l,u,c,d,h,p,f,m,g;if(o.up()&&o.looksDown()){if(o._stateBeforeDown=o._state,"flash"===o.embedType())try{o.rebuild()}catch(e){}else o.pause();o.ready(!1),o.down(!0),o.up(!1),o.trigger("down")}else o.down()&&o.looksUp()&&(o.down(!1),o.up(!0),"flash"===o.embedType()?o.rebuild():(o.ready(!0),"playing"===o._stateBeforeDown&&o.play()),o.trigger("up"));if(o.hasVideoFoam()&&o.up()&&o.looksUp()&&(null==o._parentBoxSizing&&(o._parentBoxSizing=e.elem.style(o.iframe.parentNode,"box-sizing")),"border-box"===o._parentBoxSizing||e.detect.browser.msie&&e.detect.browser.version<9?(o._foamDummyElem||(o._foamDummyElem=e.elem.fromObject({class:"wistia_video_foam_dummy","data-source-container-id":o.container.id,style:{border:0,display:"block",height:0,margin:0,padding:0,position:"static",visibility:"hidden",width:"auto"}}),e.elem.before(o.iframe,o._foamDummyElem)),d=e.elem.width(o._foamDummyElem)):d=e.elem.width(o.iframe.parentNode),n===d&&t||(t=!0,c=d,u=c-o.extraWidth(),l=o.heightForWidth(u),a=l+o.extraHeight(),(null!=(h=o.videoFoam())?h.maxHeight:void 0)&&a>o.videoFoam().maxHeight&&(a=o.videoFoam().maxHeight,l=a-o.extraHeight(),u=o.widthForHeight(l),c=u+o.extraWidth()),(null!=(p=o.videoFoam())?p.maxWidth:void 0)&&c>o.videoFoam().maxWidth&&(c=o.videoFoam().maxWidth,u=c-o.extraWidth(),l=o.heightForWidth(u),a=l+o.extraHeight()),(null!=(f=o.videoFoam())?f.minHeight:void 0)&&a<o.videoFoam().minHeight&&(a=o.videoFoam().minHeight,l=a-o.extraHeight(),u=o.widthForHeight(l),c=u+o.extraWidth()),(null!=(m=o.videoFoam())?m.minWidth:void 0)&&c<o.videoFoam().minWidth&&(c=o.videoFoam().minWidth,u=c-o.extraWidth(),l=o.heightForWidth(u),a=l+o.extraHeight()),o.width(c).height(a),e.timeout(o.uuid+".delayed_resize",function(){return o.width(c).height(a)},1e3),n=d)),e.detect.browser.ltie8&&(g=e.elem.width(o.iframe),s=e.elem.height(o.iframe),g!==r&&(o.trigger("widthchange",g,r),r=g),s!==r))return o.trigger("heightchange",s,i),i=s})}}(this))},t.prototype.hasVideoFoam=function(){return null!=this.videoFoam()?this.videoFoam():/videoFoam=true/.test(this.src)},t.prototype.stopMonitoring=function(){return e.eventLoop.remove(this.uuid+".monitor")},t.prototype.looksDown=function(){return!this.iframe||!e.elem.inDom(this.iframe)||e.elem.isHidden(this.iframe)},t.prototype.looksUp=function(){return!this.looksDown()},t.prototype._trigger=function(){var t,n;if(n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],"play"!==n||(this._firedPlayCount+=1,"flash"!==this.embedType()||!this.params.autoPlay||1!==this._firedPlayCount||!this._firedSyntheticPlay))return e.timeout(this.uuid+".trigger."+n,function(e){return function(){return e.trigger.apply(e,[n].concat(i.call(t)))}}(this))},t.prototype.play=function(){return this.ready(function(e){return function(){return e.postMessage("play")}}(this)),this},t.prototype.pause=function(){return this.ready(function(e){return function(){return e.postMessage("pause")}}(this)),this},t.prototype.time=function(e){return null!=e?(this.ready(function(t){return function(){return t.postMessage("time",e)}}(this)),this):this._time||0},t.prototype.volume=function(e){return null!=e?(this.ready(function(t){return function(){return t.postMessage("volume",e)}}(this)),this):this._volume||0},t.prototype.setEmail=function(e){return this.email(e)},t.prototype.email=function(e){var t;return void 0===e?this._email||(null!=(t=this.params)?t.trackEmail:void 0)||null:(this.bound(function(t){return function(){return t.postMessage("email",e)}}(this)),this._email=e)},t.prototype.foreignData=function(t){if(e.detect.json){if(void 0===t)return this._foreignData||null;if(null===t)return this.bound(function(e){return function(){return e.postMessage("foreignData",t)}}(this)),this._foreignData=null;if(!e.obj.isObject(t))throw"foreignData can only be an Object";return t=e.obj.clone(t),this.bound(function(e){return function(){return e.postMessage("foreignData",t)}}(this)),this._foreignData=t}},t.prototype.height=function(t){return null!=t?(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("height",t)}}(this)),this.iframe.style.height=t+"px",this.iframe.height=t,this):e.elem.isHidden(this.iframe)?null!=this.iframe.style.height?parseInt(this.iframe.style.height,10):parseInt(this.iframe.height,10):e.elem.height(this.iframe)},t.prototype.width=function(t){return null!=t?(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("width",t)}}(this)),this.iframe.style.width=t+"px",this.iframe.width=t,this):e.elem.isHidden(this.iframe)?null!=this.iframe.style.width?parseInt(this.iframe.style.width,10):parseInt(this.iframe.width,10):e.elem.width(this.iframe)},t.prototype.videoHeight=function(t){var i;return null!=t?(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("videoHeight",t)}}(this)),this.embedded(function(i){return function(){var n;if(n=null!=i._height?t+i._height-i._videoHeight:t+i.origPluginHeight,i.iframe.style.height=n+"px",i.iframe.height=n,e.detect.browser.ltie8)return i._videoHeight=t}}(this)),this):this._videoHeight>0?this._videoHeight:(i=this.src.match(/videoHeight=(\d+)/))?parseInt(i[1],10):e.elem.height(this.iframe)},t.prototype.videoWidth=function(t){var i;return null!=t?(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("videoWidth",t)}}(this)),this.embedded(function(i){return function(){var n;if(n=null!=i._width?t+i._width-i._videoWidth:t+i.origPluginWidth,i.iframe.style.width=n+"px",i.iframe.width=n,e.detect.browser.ltie8)return i._videoWidth=t}}(this)),this):this._videoWidth>0?this._videoWidth:(i=this.src.match(/videoWidth=(\d+)/))?parseInt(i[1],10):e.elem.width(this.iframe)},t.prototype.extraHeight=function(){return this.origPluginHeight?this.origPluginHeight:this._height?this._height-this._videoHeight:0},t.prototype.extraWidth=function(){return this.origPluginWidth?this.origPluginWidth:this._width?this._width-this._videoWidth:0},t.prototype.heightForWidth=function(e){return Math.round(e/this.aspect())},t.prototype.widthForHeight=function(e){return Math.round(e*this.aspect())},t.prototype.aspect=function(){return this.origAspectRatio||1.333},t.prototype.addPlugin=function(t,i){var n;return null==i&&(i={}),!1!==i.on&&(this.injectedPlugin(t)||(i.outsideIframe?e.plugin._inject(this,t,i):e.detect.browser.msie?(n=e.url.parse(this.iframe.src),e.obj.set(n.params,["plugin",t],i),this.iframe.src=n.absolute()):this.bound(function(e){return function(){return e.postMessage("addPlugin",t,i)}}(this)),this._injectedPlugins[t]=!0)),this},t.prototype.videoFoam=function(e){return null!=e?this._videoFoam=e:this._videoFoam},t.prototype.hasPlugin=function(e){var t;return!!(this._injectedPlugins[e]||(null!=(t=this.parsedSrc.params.plugin)?t[e]:void 0))},t.prototype.injectedPlugin=function(e){return!!this._injectedPlugins[e]},t.prototype.duration=function(){return this._duration||null},t.prototype.state=function(){return this._state||"beforeplay"},t.prototype.name=function(){return this._name||""},t.prototype.hashedId=function(){return this._hashedId||this.parsedSrc.path[this.parsedSrc.path.length-1]},t.prototype.embedType=function(){return this._embedType},t.prototype.eventKey=function(){return this._eventKey||null},t.prototype.visitorKey=function(){return this._visitorKey||null},t.prototype.percentWatched=function(){return this._percentWatched||0},
t.prototype.getEventKey=function(){return this.eventKey()},t.prototype.getVisitorKey=function(){return this.visitorKey()},t.prototype.startIframeHandshake=function(){return this.postMessage("startIframeHandshake",this.signature)},t.prototype.postMessage=function(){var t,n,r;if(r=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],!e.detect.browser.ltie8){try{if(!this.iframe.contentWindow.postMessage)return}catch(e){return}return n={signature:this.signature,method:r,args:t},n=JSON.stringify(n),this.iframe.contentWindow.postMessage(n,"*")}},t.prototype.updateProperties=function(t){var i,n,r;n=[];for(i in t)r=t[i],e.obj.isObject(r)?n.push(this[i]=e.obj.merge({},this[i],r)):n.push(this[i]=r);return n},t.prototype.enableFullscreen=function(){var e,t,i,n,r,o;for(n="allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen".split(" "),o=[],t=0,i=n.length;t<i;t++)e=n[t],o.push(null!=(r=this.iframe)?r.setAttribute(e,e):void 0);return o},t}(),e.mixin(e.IframeApi.prototype,e.bindable),t=e.IframeApi.prototype.trigger,e.IframeApi.prototype.trigger=function(){var e,n,r;return n=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],t.call.apply(t,[this,n].concat(i.call(e))),null!=(r=window.wistiaEmbeds)?r.trigger.apply(r,[n,this].concat(i.call(e))):void 0},e.mixin(e.IframeApi.prototype,e.logHelpers),e.IframeApi.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||"no hashedId",null!=(e=this.container)?e.id:void 0,this.uuid]},e.PlaylistIframeAPI=function(t){function i(){i.__super__.constructor.apply(this,arguments),this.relay.bind("boundcurrentvideo",function(t){return function(){return t._currentVideo=new e.IframeApi(t.iframe,{uuid:t.uuid+"-current-video",signature:t.signature+"-current-video"}).init()}}(this))}return n(i,t),i.prototype.embed=function(e,t){return this.ready(function(i){return function(){return i.postMessage("embed",e,t)}}(this))},i.prototype.play=function(e,t){return this.ready(function(i){return function(){return i.postMessage("play",e,t)}}(this))},i.prototype.currentVideo=function(){return this._currentVideo},i}(e.IframeApi),window.wistiaBindIframes=function(){var t,i,n,r,o,s,a,l,u,c;for(r=document.getElementsByTagName("iframe"),l=[],i=0,s=r.length;i<s;i++)n=r[i],n.wistiaApi||!/wistia_embed/.test(n.className)&&"wistia_embed"!==n.name?n.wistiaApi||!/wistia_playlist/.test(n.className)&&"wistia_playlist"!==n.name||(n.wistiaApi=new e.PlaylistIframeAPI(n),e.data("iframe_api."+n.wistiaApi.signature,n.wistiaApi),n.wistiaApi.init(),l.push(n.wistiaApi),window.wistiaApi=n.wistiaApi):(n.wistiaApi=new e.IframeApi(n),e.data("iframe_api."+n.wistiaApi.signature,n.wistiaApi),n.wistiaApi.init(),l.push(n.wistiaApi),window.wistiaApi=n.wistiaApi);for(null!=(u=window.wistiaEmbeds)&&u.bindHandles(),c=[],o=0,a=l.length;o<a;o++)t=l[o],c.push(t.trigger("initembed"));return c},e._initializers.initIframeApi=function(){if(wistiaBindIframes(),!window._inWistiaIframe&&!window.wistiaDispatch&&!window._wistiaIframeShim)return null==window.wistiaDispatch&&(window.wistiaDispatch=function(t){var i,n;if("new-wistia-iframe"===t.data)return wistiaBindIframes();if(n="string"==typeof t.data&&/wistia-iframe-/.test(t.data)?e.JSON.parse(t.data):t.data,/wistia-iframe-/.test(n.signature)){if(!(i=e.data("iframe_api."+n.signature)))return"undefined"!=typeof console&&null!==console?console.log("Ignored "+n.method+" call, no handle for "+n.signature):void 0;if("relay.trigger"===n.method)return e.obj.get(i,n.method).apply(i.relay,n.args);if("play"!==n.method||!(e.detect.iphone||e.detect.ipad||e.detect.android))return e.obj.get(i,n.method).apply(i,n.args)}}),e.elem.bind(window,"message",wistiaDispatch)},e._destructors.destroyIframeApi=function(){return window.wistiaDispatch&&e.elem.unbind(window,"message",window.wistiaDispatch),window.wistiaDispatch=null}}(Wistia)},function(e,t){!function(e){e.initializeOnce=function(){return e._initializers.initDetect(),e._initializers.initLocalStorage(),e._initializers.initWLog(),e._initializers.initVisitorKey(),e._initializers.initEventLoop(),e._initializers.initFullscreenTriggers(),e._editInPlaceTest=!1,e.timeout("setup_edit_in_place_test",function(t){return function(){if(!e._editInPlaceTest)return e._editInPlaceTest=!0,e.api.onFind(function(t){return e.elem.bind(t.container,"mouseover",function(i){return t.hasData(function(){var n,r;if(n=/weditInPlace=true/.test(location.href),null==e._allowEditInPlace&&(e._allowEditInPlace="wistia-production_97"===(null!=(r=t._mediaData)?r.accountKey:void 0)),n||e._allowEditInPlace)return e.remote.canEditMedia(t.hashedId()).then(function(n){return e.info("experiment: canEditMedia",t.hashedId(),n),t.plugin("editInPlace",function(e){return e.onMouseoverVideo(i)}),t.addPlugin("editInPlace",{on:!0})})}),e.elem.unbind})})}}())},e.initializeEveryTime=function(){var t;return e._initializers.initEmbedShepherd(),e._initializers.initMux(),e._initializers.initAsyncEmbeds(),e._initializers.initIframeApi(),e._initializers.initEmbedLinks(),e._initializers.initSpecificTime(),e._initializers.initIntegrations(),null!=(t=e.eventLoop)?t.resync():void 0},e.destroy=function(){return e._destructors.destroyAsyncEmbeds(),e._destructors.destroyIframeApi(),e._destructors.destroyEmbedShepherd(),e._destructors.destroyEmbedLinks(),e._destructors.destroyFullscreenTriggers(),e._destructors.destroyEventLoop(),e._destructors.destroyVisitorKey(),e._destructors.destroyWLog(),e._destructors.destroyIntegrations(),e._destructors.destroyMux()},e.destroyGlobals=function(){var e,t;window.Wistia=null,window.wistiaApi=null,window.wistiaDispatch=null,window.wistiaBindIframes=null,window.wistiaEmbeds=null,window._wistiaElemId=null,window.wistiaInitQueue=null,window.wistiaInit=null,window.wistiaEmbedShepherdReady=null,t=[];for(e in window)window[e],/^wistiajson/.test(e)?t.push(window[e]=null):t.push(void 0);return t},e.reinitialize=function(){return e.destroy(),e.initializeOnce(),e.initializeEveryTime()},e._initialized||(e._initialized=!0,e.initializeOnce()),e.initializeEveryTime()}(Wistia)},function(e,t){var i=[].slice;!function(e){e.iframeInit||(e.iframeInit=function(t,n){var r,o,s,a,l,u,c,d,h,p,f;p=e.url.parse(location.href),r=e.extend(n,p.params),r.pageUrl||(r.pageUrl=(document.referrer||"").replace(/\#.*$/,"")||p.absolute().replace(/\#.*$/,"")),r.pageTitle=document.title,e.obj.castDeep(r),r.container="wistia_video",r.canonicalUrl||(r.canonicalUrl=r.pageUrl),r.canonicalTitle||(r.canonicalTitle=r.pageTitle),c=r.plugin||{};for(a in c)f=c[a],r.plugin[a].outsideIframe&&(r.plugin[a]=null,delete r.plugin[a]);if(p.params.popover&&(e.obj.get(p.params,"plugin.requireEmail")?r.autoPlay=!1:r.autoPlay=!0),!1!==r.autoPlay&&r.autoplay&&(r.autoPlay=!0),p.params.twitter&&!1!==r.autoPlay&&(r.autoPlay=!!r.autoplay),r._inIframe=!0,window.wistiaEmbed=e.embed(t,r),e.timeout(wistiaEmbed.uuid+".fit_later",function(){return window.wistiaEmbed.fit()},100),(e.detect.iphone||e.detect.ipad)&&wistiaEmbed.ready(function(){return setInterval(function(){return wistiaEmbed.elem().style.zoom="",wistiaEmbed.elem().style.zoom=1},3e3)}),h=function(t){var i;return i={},Wistia.obj.eachLeaf(t,function(t,n){if(/^string|number|boolean$/i.test(typeof t))return e.obj.set(i,n,t)}),i},!e.detect.browser.ltie8){if(parent===self)return;if(window.apiSignature=null,window.iframeUuid=Math.random().toString(36).replace(/[^a-z0-9]+/g,""),window._allIframes=["wistia-iframe-"+iframeUuid],parent.postMessage("new-wistia-iframe","*"),e.util.parentFramesLength()<=25)for(d=parent.frames,s=0,l=d.length;s<l;s++)(o=d[s])!==self&&o!==parent&&(o.postMessage("wistia-iframe-"+iframeUuid,"*"),o.postMessage("declare-existing-wistia-iframe","*"));return wistiaEmbed.postMessage=function(){var t,n,r;if(r=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],parent!==self)return n={signature:apiSignature,method:r,args:t},n=e.JSON.stringify(n),parent.postMessage(n,"*")},wistiaEmbed.ping=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],wistiaEmbed.postMessage.apply(wistiaEmbed,["pong"].concat(i.call(e)))},wistiaEmbed.updateProperties=function(t){for(a in t)f=t[a],e.obj.isObject(f)?this[a]=e.obj.merge({},this[a],f):this[a]=f;return this.postMessage("updateProperties",h(t))},wistiaEmbed.bind("down",function(){return wistiaEmbed.postMessage("updateProperties",{_down:!0})}),wistiaEmbed.bind("up",function(){return wistiaEmbed.postMessage("updateProperties",{_down:!1})}),wistiaEmbed.bind("volumechange",function(e){return wistiaEmbed.postMessage("updateProperties",{_volume:e})}),wistiaEmbed.bind("emailchange",function(e){return wistiaEmbed.postMessage("updateProperties",{_email:e,params:{trackEmail:e}})}),wistiaEmbed.bind("timechange",function(e){return wistiaEmbed.postMessage("updateProperties",{_time:e})}),wistiaEmbed.bind("statechange",function(e){return wistiaEmbed.postMessage("updateProperties",{_state:e})}),wistiaEmbed.bind("widthchange",function(){return wistiaEmbed.postMessage("updateProperties",{_videoWidth:wistiaEmbed.videoWidth(),_width:wistiaEmbed.width()})}),wistiaEmbed.bind("heightchange",function(){return wistiaEmbed.postMessage("updateProperties",{_videoHeight:wistiaEmbed.videoHeight(),_height:wistiaEmbed.height()})}),wistiaEmbed.bind("foreigndatachange",function(e){return wistiaEmbed.postMessage("updateProperties",{_foreignData:e})}),wistiaEmbed.bind("percentwatchedchanged",function(e){return wistiaEmbed.postMessage("updateProperties",{_percentWatched:e})}),wistiaEmbed.bind("all",function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],"afterremove"===e[0]?wistiaEmbed.postMessage("relay.trigger","_afterremove"):/^up|down$/.test(e[0])?void 0:wistiaEmbed.postMessage.apply(wistiaEmbed,["_trigger"].concat(i.call(e)))}),u=function(t){var i,n,r;if("remove"===t.data)return void wistiaEmbed.remove();if(!/^(visitor_key|send_visitor_key|clear_visitor_key)/.test(t.data)){if(/^wistia-iframe-/.test(t.data))return void(window._allIframes.join(" ").indexOf(t.data)<0&&window._allIframes.push(t.data));if("declare-existing-wistia-iframe"===t.data)return void t.source.postMessage("wistia-iframe-"+iframeUuid,"*");if("string"==typeof t.data)try{n=e.JSON.parse(t.data)}catch(i){e.notice("inside_iframe","receiveMessage","Could not parse message from "+t.origin),e.notice("inside_iframe","receiveMessage",t.data),n={}}else n=t.data;if(r=n.method,i=n.args,"startIframeHandshake"===r){if(window.apiSignature=i[0],!window.wistiaEmbed)return;return wistiaEmbed.postMessage("relay.trigger","iframebound"),wistiaEmbed.postMessage("updateProperties",{options:h(wistiaEmbed.options),params:h(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_hashedId:wistiaEmbed.hashedId(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight()}),wistiaEmbed._hasImpl(function(){return wistiaEmbed.postMessage("_hasImpl",!0)}),wistiaEmbed.hasData(function(){return wistiaEmbed.postMessage("updateProperties",{_embedType:wistiaEmbed.embedType,options:h(wistiaEmbed.options),params:h(wistiaEmbed.params),_name:wistiaEmbed.name(),_duration:wistiaEmbed.duration(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_mediaData:wistiaEmbed._mediaData}),wistiaEmbed.postMessage("hasData",!0)}),wistiaEmbed.embedded(function(){return wistiaEmbed.postMessage("updateProperties",{_embedType:wistiaEmbed.embedType,options:h(wistiaEmbed.options),params:h(wistiaEmbed.params),origAspectRatio:wistiaEmbed.aspect(),origVideoHeight:wistiaEmbed.videoHeight(),origVideoWidth:wistiaEmbed.videoWidth(),origHeight:wistiaEmbed.height(),origWidth:wistiaEmbed.width(),origPluginWidth:wistiaEmbed.extraWidth(),origPluginHeight:wistiaEmbed.extraHeight(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height()}),wistiaEmbed.postMessage("embedded",!0)}),wistiaEmbed.ready(function(){return wistiaEmbed.postMessage("updateProperties",{options:h(wistiaEmbed.options),params:h(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_visitorKey:wistiaEmbed.visitorKey(),_eventKey:wistiaEmbed.eventKey(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_state:wistiaEmbed.state(),_time:wistiaEmbed.time(),_volume:wistiaEmbed.volume()}),wistiaEmbed.postMessage("relay.trigger","videoready"),e.visitorKey.ready(function(){return wistiaEmbed.postMessage("updateProperties",{_visitorKey:wistiaEmbed.visitorKey()})})})}return r&&"undefined"!=typeof wistiaEmbed&&null!==wistiaEmbed?wistiaEmbed[r].apply(wistiaEmbed,i):void 0}},e.elem.bind(window,"message",u)}})}(Wistia)},function(e,t){var i=[].slice;!function(e){e.integrations||(e.integrations={},e.integrations._all={},e.integrations.register=function(t,n){var r,o,s;return r=function(r){return n[r]?function(){var o,s;return s=arguments[0],o=2<=arguments.length?i.call(arguments,1):[],s.hasData(function(){var a,l,u;if(!1!==(null!=(a=s.params)?a[e.util.camelCase(t)]:void 0))return(null!=(l=s._mediaData)&&null!=(u=l.integrations)?u[t]:void 0)?n[r].apply(n,[s].concat(i.call(o))):void 0})}:null},o=function(r){return n[r]?(n.initialized=!1,function(){var o,s;return s=arguments[0],o=2<=arguments.length?i.call(arguments,1):[],s.hasData(function(){var a,l,u;if(!1!==(null!=(a=s.params)?a[e.util.camelCase(t)]:void 0)&&!0!==window.disableWistiaIntegrationTracking)return!n.initialized&&(null!=(l=s._mediaData)&&null!=(u=l.integrations)?u[t]:void 0)?(n[r].apply(n,[s].concat(i.call(o))),n.initialized=!0):void 0})}):null},s={pushPercentWatchedEvent:r("pushPercentWatchedEvent"),pushPlayEvent:r("pushPlayEvent"),pushConversionEvent:r("pushConversionEvent"),pushConversionMidrollLinkEvent:r("pushConversionMidrollLinkEvent"),pushConversionPostRollEvent:r("pushConversionPostRollEvent"),onFind:r("onFind"),onInit:o("onInit")},e.integrations._all[t]=s},e.integrations.each=function(){var t,n,r,o,s,a;n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],s=e.integrations._all,a=[];for(o in s)r=s[o],"string"==typeof n?a.push("function"==typeof r[n]?r[n].apply(r,t):void 0):a.push(n(r,o));return a},e._initializers.initIntegrations=function(){if(!e.integrations._setup)return e.integrations.setup()},e._destructors.destroyIntegrations=function(){return"undefined"!=typeof wistiaEmbeds&&null!==wistiaEmbeds&&wistiaEmbeds.each(function(e){return"function"==typeof e._destroyIntegrations?e._destroyIntegrations():void 0}),this._all={},e.integrations._setup=!1},e.integrations.setup=function(){if(!window._inWistiaIframe)return e.integrations._setup=!0,wistiaEmbeds.onFind(function(t){var n,r,o,s,a,l,u;if(a=function(i){return e.integrations.each("pushPercentWatchedEvent",t,i)},r=function(){var n;return(n=e.integrations).each.apply(n,["pushConversionEvent",t].concat(i.call(arguments)))},o=function(i){return e.integrations.each("pushConversionMidrollLinkEvent",t,i)},s=function(i){return e.integrations.each("pushConversionPostRollEvent",t,i)},l=function(){return e.integrations.each("pushPlayEvent",t),t.unbind},n=function(){return t.hasData(function(){return t.bind("percentWatchedThreshold",a),t.bind("conversion",r),t.bind("conversion-link",o),t.bind("conversion-postRoll",s),t.bind("play",l)})},u=function(){return t.unbind("play",l),t.unbind("conversion",r),t.unbind("percentWatchedThreshold",a)},t._initIntegrations=function(){return n()},t._destroyIntegrations=function(){return u()},t.bind("beforereplace",u),t.bind("afterreplace",n),n(),e.integrations.each("onInit",t),e.integrations.each("onFind",t),"playing"===t.state)return l()})})}(Wistia)},function(e,t,i){!function(e){e.Interpolation||(e.Interpolation=i(282))}(Wistia)},function(e,t,i){!function(e){var t;e.localStorage||(t=i(80),e.localStorage=t.setOrGet,e.removeLocalStorage=t.removeLocalStorage,e.dumpLocalStorage=t.dumpLocalStorage,e._initializers.initLocalStorage=function(){return t.init()},e._destructors.destroyLocalStorage=function(){return t.uncache()})}(Wistia)},function(e,t,i){var n=[].slice;!function(e){var t,r,o,s;r=e,r.wlog||(o=i(1),s=o.wlog,t=o.LOG_LEVELS,r.wlog=s,r.log=s.error,r.error=s.error,r.warn=s.warn,r.notice=s.notice,r.info=s.info,r.debug=s.debug,r.logLevels=t,r.stacktrace=function(){var e;try{throw new Error("stacktrace")}catch(t){return e=t,e.stack}},r.logHelpers={_log:function(){var e,t,i;return i=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],e=r[i],t=[].concat(this._logPrefix()).concat(t),e.apply(null,t)},_logPrefix:function(){return[this.constructor.name]},error:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["error"].concat(n.call(e)))},warn:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["notice"].concat(n.call(e)))},notice:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["notice"].concat(n.call(e)))},info:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["info"].concat(n.call(e)))},debug:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["debug"].concat(n.call(e)))},log:function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._log.apply(this,["error"].concat(n.call(e)))}},r._initializers.initWLog=function(){var e,t,i,n,o,a,l,u,c,d,h;if(t=r.url.parse(location.href),document.referrer&&(c=r.url.parse(document.referrer)),((e=null!=t&&null!=(i=t.params)?i.wlog:void 0)||top!==self&&(e=null!=c&&null!=(n=c.params)?n.wlog:void 0))&&s.setLevel(e),((d=null!=t&&null!=(o=t.params)?o.wgrep:void 0)||(d=null!=c&&null!=(a=c.params)?a.wgrep:void 0))&&s.setGrep(new RegExp(d,"i")),(h=null!=t&&null!=(l=t.params)?l.wgrepv:void 0)||(h=null!=c&&null!=(u=c.params)?u.wgrepv:void 0))return s.setGrepv(new RegExp(h,"i"))},r._destructors.destroyWLog=function(){return null!=s?s.reset():void 0})}(Wistia)},function(e,t){!function(e){var t;t={onFind:function(e){return this._setForeignData(e)},pushPercentWatchedEvent:function(e,t){return this._pushEvent(e,Math.round(100*t)+"% Watched")},pushPlayEvent:function(e){return this._pushEvent(e,"Played")},pushConversionEvent:function(e,t,i){return this._pushEvent(e,"Conversion: "+i)},pushConversionMidrollLinkEvent:function(e,t){return this._pushEvent(e,"Clicked Link - "+t.link)},pushConversionPostRollEvent:function(e,t){return this._pushEvent(e,"Clicked Link - "+t.link)},_pushEvent:function(e,t){var i;if(window.Munchkin)return this._setForeignData(e),i=this._marketoUrlFormat(' - Wistia Video: "'+e.name()+'" - '+t),Munchkin.munchkinFunction("visitWebPage",{url:i})},_marketoUrlFormat:function(e){return encodeURIComponent(e.replace(/[?;]/g," "))},_setForeignData:function(e,t){return null==t&&(t=""),this._cookie||this._setCookie(),e.foreignData({marketoCookie:this._cookie})},_setCookie:function(){return this._cookie=e.cookie("_mkto_trk")}},e.integrations.register("marketo_v2",t),e.integrations.register("marketo",t)}(Wistia)},function(e,t,i){!function(e){var t,n,r,o,s;e.Metrics||(i(10).metricsHost,r=i(187),n=r.msend,s=r.send,t=r.count,o=r.sample,e.Metrics={count:t,sample:o,send:s,msend:n,videoCount:function(e,t,i,n){return null==i&&(i=1),this.videoSend(e,"count",t,i,n)},videoSample:function(e,t,i,n){return this.videoSend(e,"sample",t,i,n)},videoSend:function(t,i,n,r,o){return null==o&&(o={}),"function"==typeof t.hasData?t.hasData(function(s){return function(){var a,l,u,c,d,h,p,f,m,g,y,_,v,b,A;if(a=("function"==typeof t.bandwidthTest?t.bandwidthTest().savedResult():void 0)||{},o=e.obj.merge({location:("undefined"!=typeof location&&null!==location&&null!=(u=location.protocol)?u.length:void 0)&&("undefined"!=typeof location&&null!==location&&null!=(f=location.hostname)?f.length:void 0)?location.protocol+"//"+location.hostname:null,agent:navigator.userAgent,account_key:null!=(m=t._mediaData)?m.accountKey:void 0,at:t.time(),video_id:t.hashedId(),embed_type:t.playerType,duration:t.duration(),client_kbps:a.clientKbps,supports_hd:a.supportsHd,autoplay:!!(null!=(g=t._opts)?g.autoPlay:void 0),in_iframe:top!==self,device_pixel_ratio:window.devicePixelRatio,window_width:e.elem.width(window),window_height:e.elem.height(window),video_width:t.videoWidth(),video_height:t.videoHeight(),visitor_key:null!=(y=t._tracker)?y.visitorKey():void 0,event_key:null!=(_=t._tracker)?_.eventKey():void 0,event_time_delta:null!=(v=t._tracker)?v.timeDelta():void 0,connection_type:s.connectionType(),version:9,channel:e.channelName},o),/romulus|html5|vulcan/.test(t.playerType)&&(e.detect.trident?o.errorState=null!=(b=t.elem())&&null!=(A=b.error)?A.code:void 0:o.errorState=null!=(c=t.elem())?c.error:void 0),null!=t._cacheStatus&&(o.cache_status=t._cacheStatus),null!=t._assetServer&&(o.asset_server=t._assetServer),null!=t._cacheHit&&(o.cache_hit=t._cacheHit),t.inFullscreen&&(o.in_fullscreen=t.inFullscreen()),null!=t._substream?(o.substream=t._substream.index,o.adaptive=t._substream.adaptive,o.current_level=t._substream.currentLevel,o.all_level_names=t._substream.allLevelNames,l=t._substream.asset,o.hls_error_counts=t._substream.hlsErrorCounts()):(o.substream=null,o.adaptive=null,l=null!=(d=t.data)?d.asset:void 0),null!=l&&(o.asset_type=l.type,o.asset_slug=l.slug,o.bitrate=l.bitrate,o.asset_height=l.height,o.asset_width=l.width),(null!=(h=t.videoElem)&&null!=(p=h.buffered)?p.length:void 0)>0&&(o.bufferedFrom0=t.videoElem.buffered.end(0)),null!=t._timeToFirstByte&&(o.time_to_first_byte=t._timeToFirstByte),o.buffered=null!=t.totalBuffered?t.totalBuffered():void 0,o.played=null!=t.totalPlayed?t.totalPlayed():void 0,s.send(i,n,r,o),t._mediaData&&t._mediaData.accountKey&&t._mediaData.accountSpecificMetrics)return s.send(i,t._mediaData.accountKey+"/"+n,r,o)}}(this)):void 0},countEvent:function(e,t,i){var n;return i||(i=t),null==(n=this._private.countEventCallbacks)[i]&&(n[i]=this._private.mkCountEventCallback(t,i)),e.rebind(t,this._private.countEventCallbacks[i])},countEventOnce:function(e,t,i){var n;return i||(i=t),null==(n=this._private.countEventOnceCallbacks)[i]&&(n[i]=this._private.mkCountEventOnceCallback(t,i)),e.rebind(t,this._private.countEventOnceCallbacks[i])},sampleEvent:function(e,t,i){var n;return i||(i=t),null==(n=this._private.sampleEventCallbacks)[i]&&(n[i]=this._private.mkSampleEventCallback(t,i)),e.rebind(t,this._private.sampleEventCallbacks[i])},countShowLoadingOnce:function(e){var t;return t=-1,e.bind("waiting",function(i){return function(n){return t<2&&n>=2?(i.videoCount(e,"player/show-loading/first",1),t=n,e.unbind):t=n}}(this))},countShowLoadingAll:function(e){var t;return t=-1,e.bind("waiting",function(i){return function(n){return t<2&&n>=2&&i.videoCount(e,"player/show-loading/all",1),t=n}}(this)),e.bind("done-waiting",function(){return t=-1})},countShowLoadingLongTimeOnce:function(e){var t;return t=-1,e.bind("waiting",function(i){return function(n){return t<5&&n>=5?(i.videoCount(e,"player/show-loading-long-time/first",1),t=n,e.unbind):t=n}}(this))},countShowLoadingLongTimeAll:function(e){var t;return t=-1,e.bind("waiting",function(i){return function(n){return t<5&&n>=5&&i.videoCount(e,"player/show-loading-long-time/all",1),t=n}}(this)),e.bind("done-waiting",function(){return t=-1})},assetBuckets:function(t){var i,n;return i=t.engine?t.engine.currentAsset():t._currentAsset,n=e.detect.iphone||e.detect.android||e.detect.blackberry||/mobile/i.test(navigator.userAgent),i?n?e.detect.iphone?["mobile","iphone"]:e.detect.android?["mobile","android"]:["mobile"]:/hls/.test(i.type)?["hls"]:/md/.test(i.type)?["md"]:/hd/.test(i.type)?["hd"]:["sd"]:[]},connectionType:function(){var e;return e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,null!=e?e.type:void 0},sumTimeRanges:function(e){var t,i,n,r;if(null==e)return null;for(r=0,t=i=0,n=e.length;0<=n?i<n:i>n;t=0<=n?++i:--i)r+=e.end(t)-e.start(t);return r},millisecondsSince:function(e){return(new Date).getTime()-e},_private:{countEventCallbacks:{},mkCountEventCallback:function(t,i){return function(n){return i||(i=t),e.Metrics.videoCount(this,"player/"+i,n)}},countEventOnceCallbacks:{},mkCountEventOnceCallback:function(t,i){return function(n){return i||(i=t),e.Metrics.videoCount(this,"player/"+i,n),this.unbind}},sampleEventCallbacks:{},mkSampleEventCallback:function(t,i){return function(n){return i||(i=t),e.Metrics.videoSample(this,"player/"+i,n)}}}})}(Wistia)},function(e,t,i){!function(e){e.mux||(null==e.mux&&(e.mux={}),e.mux.experiments={"control-20170110":1},e.mux.chooseExperiment=function(){var t,i,n,r,o,s,a,l;if(e.mux.experiment)return e.mux.experiment;a=0,o=e.mux.experiments;for(n in o)l=o[n],a+=l;r=Math.random(),i=0,s=e.mux.experiments;for(n in s)if(l=s[n],t=i+l/a,i=t,r<=t)return void(e.mux.experiment=n);return e.mux.experiment="control"},e.mux.experimentEnabled=function(t){var i,n,r,o,s;for(n=(null!=(s=e.mux.experiment)?s.split(/\s*\+\s*/):void 0)||[],r=0,o=n.length;r<o;r++)if(i=n[r],t===i)return!0;return!1},e.mux.loaded=new e.StopGo,e.mux._startedLoad=!1,e.mux.load=function(){return e.util.pageLoaded(function(){return e.remote.script(e.proto()+"//src.litix.io/core/2/mux.js",function(){return e.util.poll(function(){return"undefined"!=typeof mux},function(){return e.mux.loaded(!0)})},15e3,{once:!0})})},e.mux._shouldDisable=function(){return!!(e.detect.browser.msie&&e.detect.browser.version<9)||!!/[\?\&]wmux=false(?:\&|$)/.test(location.href)||!/[\?\&]wmux=true(?:\&|$)/.test(location.href)&&(!0===window.wistiaDisableCookies||!0===window.wistiaDisableMux)},e.mux.setup=function(){if(!e.mux._shouldDisable())return e.api.onFind(function(t){var i,n,r,o,s;if(t instanceof e.PublicApi)return e.mux._startedLoad||(e.mux._startedLoad=!0,e.mux.load()),i=(new Date).getTime(),s=function(){var n,r,o,s,a,l,u;return o=(r=t.asset({status:e.Player.READY}))?e.url.parse(r.url):e.url.parse("/no-ready-assets"),n=t._impl._currentAsset?"mp4"===t._impl._currentAsset.ext?"video/mp4":"m3u8"===t._impl._currentAsset.ext?"application/x-mpegURL":"":"",l=t.playerType,t.popover&&(l="popover_"+l),"vulcan"===t.playerType&&t.plugin.hlsVideo&&(l+="_hlsjs"),"vulcan"===t.playerType&&t.plugin.nativeHlsVideo&&(l+="_nativehls"),"html5"===t.playerType&&"m3u8"===(null!=(u=t._impl._currentAsset)?u.ext:void 0)&&(l+="_nativehls"),s=t._mediaData.stats.playCount,a=s||0===s?s<100?"0-99":s<1e3?"100-999":s<1e4?"1000-9999":"10000-":"undef",{debug:!1,minimumRebufferDuration:250,data:{property_key:"fg8vvsvnieiv3ej16jby",page_type:t._opts._inIframe?"iframe":"",viewer_user_id:t.visitorKey(),experiment_name:e.mux.experiment,player_source_type:a,video_series:t._mediaData.accountKey,player_name:l,player_version:"",player_init_time:i,video_id:t.hashedId(),video_title:t.name(),video_producer:t._mediaData.accountKey,video_content_type:n,video_language_code:"",video_variant_name:"",video_variant_id:"",video_duration:1e3*t.duration(),video_is_live:!1,video_encoding_variant:"",video_cdn:o.host}}},t._setupMux?void 0:(t._setupMux=!0,n=function(){var i;if(t._muxVideoElem=t.elem(),!t.elem()._setupMux)return t.elem()._setupMux=!0,i=s(),t.info("mux.monitor","#"+t.elem().id,e.obj.clone(i)),mux.monitor("#"+t.elem().id,i)},r=function(){var i;return t._muxVideoElem&&t.elem()===t._muxVideoElem?(i=s(),t.info("mux.emit","#"+t.elem().id,"videochange",e.obj.clone(i)),mux.emit("#"+t.elem().id,"videochange",i)):n()},o=function(){var e,i;return!0===t._attrs.shouldTrack&&"video"===(null!=(e=t.elem())&&null!=(i=e.tagName)?i.toLowerCase():void 0)},t.embedded(function(){var i;if(o())return"wistia-production_5585"===(null!=(i=t._mediaData)?i.accountKey:void 0)?"romulus"===t.playerType?e.mux.experiment=Math.random()<.5?"rom-no-loading":"rom-loading":e.mux.experiment=Math.random()<.5?"less-to-load":"normal-load":e.mux.chooseExperiment(),e.info("mux experiment is",e.mux.experiment),e.timeout(t.uuid+".setup_mux",function(i){return function(){return t.info("setupMuxBindings on embedded"),e.mux.loaded(r)}}(),100)}),t.bind("afterreplace",function(){if(o())return e.timeout(t.uuid+".setup_mux",function(i){return function(){return t.info("setupMuxBindings afterreplace"),e.mux.loaded(r)}}(),100)}),t.bind("rebuild",function(e,i){if(o()&&e.mux)return t.info("oldVideoElem.mux.swapElement on beforerebuild"),e.mux.swapElement(i)}),t.bind("before-swapped-video-elem",function(e,i){if(o()&&e.mux)return t.info("oldVideoElem.mux.swapElement on swapped-video-elem"),e.mux.swapElement(i)}))})},e._initializers.initMux=function(){if(!e.mux._setup)return e.mux._setup=!0,e.mux.setup()},e._destructors.destroyMux=function(){return e.mux._setup=!1,e.mux.experiment=null})}(Wistia)},function(e,t){!function(e){e.Plugin||(e.Plugin={}),e.Plugin.Base||(e.Plugin.Base=function(){function t(){this.pluginName="plugin"}return t.prototype.instances=function(){return e.data(["plugins",this.pluginName,this.video.uuid])},t.prototype.register=function(t){var i;return i=this.playlist||this.video,i.plugins[this.uuid]=t,e.data(["plugins",this.pluginName,i.uuid,this.uuid],t)},t.prototype.remove=function(t){var i;if(null==t&&(t={}),i=this.playlist||this.video,i.plugins[this.uuid]=null,e.removeData(["plugins",this.pluginName,i.uuid,this.uuid]),i.plugins[this.uuid]===this&&delete i.plugins[this.uuid],i.plugin[this.pluginName]===this&&delete i.plugin[this.pluginName],!t.dontFit)return e.grid.fitHorizontal(i),e.grid.fitVertical(i)},t.prototype.fit=function(){},t.prototype.init=function(t,i){return null==t.plugins&&(t.plugins={}),(null!=t?t.playlist:void 0)?this.playlist=t:this.video=t,this.target=this.playlist||this.video,this.options=i||{},this.params=e.extend({},i||{}),this.uuid=this.params.uuid||e.seqId("wistia_","_plugin")},t}(),e.plugin||(e.plugin=function(t,i){var n,r,o,s,a,l;if((n=null!=(s=e.pluginQueue)&&null!=(a=s[t])?a.shift():void 0)&&(o=function(){var e,r;return n.video.info("initializing plugin",t,n.options),e=i(n.video,n.options)||!0,n.video.plugin[t]=e,n.video._impl&&(n.video._impl.plugin[t]=e),null!=(r=n.video._pluginStopGos)&&"function"==typeof r[t]?r[t](!0):void 0},r=function(){return n.options.initBeforeHasData?o():n.video.hasData(o)},(null!=(l=n.video)?l.looksDown():void 0)?(n.video.notice('W.plugin: delaying initialization of plugin until "up"',t,n.options),n.video.bind("up",function(){return r(),this.unbind})):n.video._implVersion===n.implVersion?r():n.video.notice("W.plugin impl changed, ignoring initialization",t,n.options)),!e.plugin[t])return e.plugin[t]=i},e.plugin._scriptsFromVideo=function(t){var i;return i=e.plugin._scriptsFromOptions(t._opts),i=i.concat(e.plugin._scriptsFromOptions({plugin:t._playerPlugins||[]})),e.plugin._setFnForDefinedPlugins(t,i),i},e.plugin._prefetched={},e.plugin._scriptsFromOptions=function(t){var i,n,r,o,s,a,l;o=[],s=t.plugin;for(n in s)r=s[n],!1!==(null!=r?r.on:void 0)&&(a=e.plugin._getSourceName(n),i={name:a,options:r,src:e.proto()+"//"+e.remote.embedHost()+"/assets/external/"+a+".js",async:null!=r.async?r.async:!/^(requireEmail|captions|socialbar|transcript|midrollLink|share)/.test(n)},r.src&&e.plugin._allow3rdParty(t)&&(i.src=r.src),/transcript/.test(n)&&(l="https:"===e.proto()?"https://s3.amazonaws.com/origin-p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js":"http://p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js",o.push({src:l,async:!1})),o.push(i));return e.plugin._orderScripts(o)},e.plugin._orderScripts=function(e){var t;return t=function(e){var t;return t=0,null!=(null!=e?e.options:void 0)&&"loadWeight"in e.options&&(t=e.options.loadWeight),t},e.sort(function(e,i){return t(e)-t(i)})},e.plugin._getSourceName=function(e){return function(){switch(e){case"socialbar":return"socialbar-v1";case"requireEmail":return"requireEmail-v1";case"postRoll":return"postRoll-v1";case"transcript":return"transcript-v2";default:return e}}()},e.plugin._inject=function(t,i,n){var r,o;if(null==n&&(n={}),!1!==n.on)return r=e.proto()+"//"+e.remote.embedHost()+"/assets/external/"+i+".js",o=[{name:i,options:n,src:n.src&&e.plugin._allow3rdParty(t.options)?n.src:r,async:!0}],e.plugin._setFnForDefinedPlugins(t,o),
e.plugin._execQueue(t,o)},e.plugin._allow3rdParty=function(e){return!1!==(null!=e?e.allowThirdParty:void 0)&&!/([\w\_\-]+\.)?wistia\.(com|st)$/.test(window.location.hostname)},e.plugin._setFnForDefinedPlugins=function(t,i){var n,r,o,s;for(o=[],n=0,r=i.length;n<r;n++)s=i[n],e.plugin[s.name]&&o.push(function(i){return i.fn=function(){var n;return n=function(){var n,r,o;return r=e.plugin[i.name](t,i.options)||!0,t.plugin[i.name]=r,t._impl&&(t._impl.plugin[i.name]=r),null!=(o=t._pluginStopGos)&&"function"==typeof o[n=i.name]?o[n](!0):void 0},i.options.initBeforeHasData?n():t.hasData(n)},i.async=!1}(s));return o},e.plugin._queueUndefinedPlugins=function(t,i){var n,r,o,s,a,l;for(null==e.pluginQueue&&(e.pluginQueue={}),a=[],n=0,r=i.length;n<r;n++)s=i[n],s.subScripts?a.push(function(){var i,n,r,a;for(r=s.subScripts,a=[],i=0,n=r.length;i<n;i++)l=r[i],o=l.name||l.src,null==e.pluginQueue[o]&&(e.pluginQueue[o]=[]),s.fn?a.push(void 0):a.push(e.pluginQueue[o].push({video:t,implVersion:t._implVersion,options:l.options}));return a}()):(o=s.name||s.src,null==e.pluginQueue[o]&&(e.pluginQueue[o]=[]),s.fn?a.push(void 0):a.push(e.pluginQueue[o].push({video:t,implVersion:t._implVersion,options:s.options})));return a},e.plugin._execQueue=function(t,i,n){return e.plugin._queueUndefinedPlugins(t,i),e.remote.scripts(i,n)},e.plugin._init=function(t,i,n){var r,o,s;return s=t.charAt(0).toUpperCase()+t.substr(1),o=e.Plugin[s],r=new o,r.init(i,n),r},e.plugin._instance=function(t,i,n){return e.data(["plugins",t,i.uuid,n])},e.plugin._remove=function(t,i,n){var r;null!=(r=e.plugin._instance(t,i,n))&&r.remove()},e.plugin._isActive=function(t,i,n){return!!e.plugin._instance(t,i,n)},e.plugin._defined=function(){var t,i,n,r;i=e.plugin,n=[];for(t in i)r=i[t],/^_/.test(t)||n.push({name:t,options:r});return n}))}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){var t;e.Popover||(t=i(10).cdnFastWistiaComHost,e.Popover=function(){function i(t){var i;this.video=t,this.fitVideo=n(this.fitVideo,this),this.show=n(this.show,this),this.showAndPlay=n(this.showAndPlay,this),this.hide=n(this.hide,this),this.fitCloseButton=n(this.fitCloseButton,this),this.fitOverlay=n(this.fitOverlay,this),this.fit=n(this.fit,this),this._onLeaveVideoOrCloseButton=n(this._onLeaveVideoOrCloseButton,this),this._onEnterVideoOrCloseButton=n(this._onEnterVideoOrCloseButton,this),this.unexpandPlayButtonOnMouseOut=n(this.unexpandPlayButtonOnMouseOut,this),this.unexpandPlayButtonImmediately=n(this.unexpandPlayButtonImmediately,this),this.unexpandPlayButton=n(this.unexpandPlayButton,this),this.expandPlayButton=n(this.expandPlayButton,this),this.setupThumbnailAfterMediaData=n(this.setupThumbnailAfterMediaData,this),this.click=n(this.click,this),this.info("init"),this.uuid=e.seqId(),this._embedContainer=this.video._embedContainer,e.elem.addClass(this._embedContainer,"wistia_popover_embed"),this._thumbContainer=e.elem.fromObject({id:e.seqId()+".thumb_container",class:"wistia_click_to_play",style:{position:"relative"}}),"inline"===this.video.container.style.display&&e.elem.style(this._thumbContainer,{display:"inline"}),e.elem.append(this.video.container,this._thumbContainer),i=this.video._gatherOptions(),this.info("opts",i),"thumbnail"===i.popoverContent||null==i.popoverContent?this.video.hasData(this.setupThumbnailAfterMediaData):(this.info("init with bare html",this.video._startingHtml),this._thumbContainer.innerHTML=this.video._startingHtml,e.elem.bind(this._thumbContainer,"click",this.click)),this.resizeToContainer(),this.createCloseButton(),this.hide(!0),this.setupBindings(),this.video.embedded(function(e){return function(){if(e.video._opts.popoverShowOnLoad)return!1===e.video._opts.autoPlay?e.show():e.showAndPlay()}}(this))}return i.prototype.click=function(e){return e.preventDefault(),this.showAndPlay()},i.prototype.isMobile=function(){return e.detect.ipad||e.detect.iphone||e.detect.android},i.prototype.setupThumbnailAfterMediaData=function(){return this.info("setupThumbnailAfterMediaData"),e.asyncChain(this.video.uuid+".popover.setup_thumbnail",[function(t){return function(){return t.initThumbnail(),e.elem.style(t.thumbnail.elem,{cursor:"pointer"})}}(this),function(e){return function(){return e.resizeToContainer()}}(this),function(e){return function(){return e.monitor()}}(this)])},i.prototype.initThumbnail=function(){var t,i;return this.thumbnail=new e.Thumbnail(this._thumbContainer,{tabbable:!0,fitStrategy:"cropfill",onActivate:this.showAndPlay,images:this.video._impl.thumbnailAssets(),bigPlayButton:!!e.util.notSetOrTrue(this.video._opts.playButton)&&(t={color:this.video.playerColor(),tabbable:!0},this.shouldAnimate()&&(t.autoHighlight=!1,e.util.notSetOrTrue(this.video._opts.popoverHoverDuration)&&(t.bottomText=this.shortHumanDuration(this.video.duration())),this.video._opts.popoverHoverName&&(t.topText=this.video.name())),t),onMouseover:this.shouldAnimate()?this.expandPlayButton:null,onMouseout:this.shouldAnimate()?this.unexpandPlayButtonOnMouseOut:null}),null!=(i=this.thumbnail.bigPlayButton)&&"function"==typeof i.removeBottomText&&i.removeBottomText(),this.thumbnail},i.prototype.shortHumanDuration=function(t){var i,n,r,o,s;return o=e.TimeHelper.secondsToIso8601(t),r=o.split(":"),i=r[0],n=r[1],s=r[2],0===parseInt(i)&&0===parseInt(n)?"0:"+s:0===parseInt(i)?parseInt(n)+":"+s:parseInt(i)+":"+n+":"+s},i.prototype.shouldAnimate=function(){return!0===this.video._opts.popoverAnimateThumbnail},i.prototype.expandPlayButton=function(){var e,t;return null!=(e=this.thumbnail)&&null!=(t=e.bigPlayButton)?t.cover():void 0},i.prototype.unexpandPlayButton=function(){var e,t;return null!=(e=this.thumbnail)&&null!=(t=e.bigPlayButton)?t.uncover():void 0},i.prototype.unexpandPlayButtonImmediately=function(){var e,t;return null!=(e=this.thumbnail)&&null!=(t=e.bigPlayButton)?t.uncoverImmediately():void 0},i.prototype.unexpandPlayButtonOnMouseOut=function(t){if(!e.elem.containsOffset(this.thumbnail.elem,t.pageX,t.pageY))return this.unexpandPlayButton()},i.prototype.fixedSizeTooBigForWindow=function(){return this.video._popoverSize().width+160>e.elem.width(window)||this.video._popoverSize().height+160>e.elem.height(window)},i.prototype.isResponsive=function(){return!this.isFixedSize()},i.prototype.isFixedSize=function(){return!!this.video._opts.popoverSize},i.prototype.monitor=function(){return this.info("monitor container size"),this._lastWidth=this.containerWidth(),this._lastHeight=this.containerHeight(),e.eventLoop.add(this.video.uuid+"_popover.watch_popover_thumb_elem",300,function(e){return function(){if(e._lastWidth!==e.containerWidth()||e._lastHeight!==e.containerHeight())return e.preventAnimation(),e.resizeToContainer(),e.allowAnimation(),e._lastWidth=e.containerWidth(),e._lastHeight=e.containerHeight()}}(this))},i.prototype.resizeToContainer=function(){var t;return e.elem.style(this._thumbContainer,{height:this.containerHeight()+"px",width:this.containerWidth()+"px"}),null!=(t=this.thumbnail)?t.fit():void 0},i.prototype.containerWidth=function(){return e.elem.width(this.video.container)},i.prototype.containerHeight=function(){return e.elem.height(this.video.container)},i.prototype.setupBindings=function(){return this.video.videoFoam()||e.elem.bind(window,"resize",this.fit),this.video.bind("widthchange",this.fit),this.video.bind("heightchange",this.fit),null==this._showIfHidden&&(this._showIfHidden=function(e){return function(){if(!e._visible)return e.show()}}(this)),this.video.bind("play",this._showIfHidden),e.elem.bind(this._embedContainer,"mouseover",this._onEnterVideoOrCloseButton),e.elem.bind(this._embedContainer,"mouseout",this._onLeaveVideoOrCloseButton),e.elem.bind(this._closeButton,"mouseover",this._onEnterVideoOrCloseButton),e.elem.bind(this._closeButton,"mouseout",this._onLeaveVideoOrCloseButton)},i.prototype._onEnterVideoOrCloseButton=function(t){var i;if(this._visible)return i=t.target||t.srcElement,i&&(e.elem.isInside(i,this._embedContainer)||e.elem.isInside(i,this._closeButton))?e.elem.style(this._closeButton,{opacity:.8}):void 0},i.prototype._onLeaveVideoOrCloseButton=function(t){var i;if((i=t.relatedTarget||t.toElement)&&e.elem.isInside(i,this._overlay))return e.elem.style(this._closeButton,{opacity:0})},i.prototype.unbindAll=function(){return e.elem.unbind(window,"resize",this.fit),this._overlay&&this._hideOnClick&&e.elem.unbind(this._overlay,"click",this._hideOnClick),this._hideOnEscape&&e.elem.unbind(document,"keyup",this._hideOnEscape),this.video.unbind("widthchange",this.fit),this.video.unbind("heightchange",this.fit),this._showIfHidden&&this.video.unbind("play",this._showIfHidden),e.elem.unbindAllInside(this._thumbContainer),e.elem.unbind(this._thumbContainer,"click",this.showAndPlay)},i.prototype.remove=function(){var t;return null!=(t=this.thumbnail)&&t.destroy(),this.unbindAll(),e.eventLoop.remove(this.video.uuid+"_popover"),e.clearTimeouts(this.video.uuid+"_popover"),e.elem.remove(this._thumbContainer),e.elem.remove(this._overlay),e.elem.remove(this._closeButton),e.elem.remove(this._captionElem),this._thumbContainer=this._overlay=this._captionElem=this.thumbnail=null},i.prototype.fit=function(){return this.fitOverlay(),this.fitCloseButton(),this.fitVideo()},i.prototype.bestOverlayHeight=function(){return Math.max(e.elem.height(document),e.elem.height(window))},i.prototype.bestOverlayWidth=function(){return Math.max(e.elem.width(document),e.elem.width(window))},i.prototype.createCloseButton=function(){return this._closeButton=e.elem.fromObject({id:this._embedContainer.id+"_popover_close_button",class:"wistia_placebo_close_button",style:{cursor:"pointer",height:"34px",left:0,opacity:0,position:"absolute",top:0,width:"34px",zIndex:10002},childNodes:[{tagName:"img",style:{height:"34px",verticalAlign:"top",width:"34px"}}]}),null==this._hideOnClickClose&&(this._hideOnClickClose=function(e){return function(){return e.hide()}}(this)),e.elem.rebind(this._closeButton,"click",this._hideOnClickClose),e.elem.append(document.body,this._closeButton)},i.prototype._closeButtonBase64=function(){return"data:image/gif;base64,R0lGODlhRABEAIABAP///////yH5BAEAAAEALAAAAABEAEQAAAKVjI+py+0Po5y02oszBPxyoGFfR41gWJlnpKJWu5muJzvw/NbLjefjruvRfgiecPg5GI/IzpLZfEKjyelMtbKisFoXltQVfcHhkkxaZtzQ6WIwwG4/42E03Rq/M+/6Xr9/RTTxVkc2aNiWqLjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpKWmp6ipqqusra6voKGyvbUwAAOw=="},i.prototype.createOverlay=function(){return this.destroyOverlay(),this.info("createOverlay"),this._overlay=e.elem.fromObject({id:this._embedContainer.id+"_overlay",class:"wistia_popover_overlay",style:{backgroundImage:"url("+e.proto()+"//"+t()+"/assets/images/blank.gif)",height:this.bestOverlayHeight()+"px",left:0,opacity:0,position:"absolute",top:0,width:this.bestOverlayWidth()+"px",zIndex:1e4}}),e.detect.browser.msie&&e.detect.browser.version<9?e.elem.style(this._overlay,{filter:this._overlayColor().toIeGradient()}):e.elem.style(this._overlay,{backgroundColor:this._overlayColor().toRgba()}),e.elem.append(document.body,this._overlay),this._blockClick=!0,null==this._hideOnClick&&(this._hideOnClick=function(e){return function(){if(e.info("hideOnClick",e._blockClick),!e._blockClick)return e.hide()}}(this)),e.elem.rebind(this._overlay,"click",this._hideOnClick),e.timeout(this.video.uuid+".popover.allow_click",function(e){return function(){return e._blockClick=!1}}(this),600)},i.prototype._overlayColor=function(){var t,i;return t=e.Player._sanePlayerColor(this.video._opts.popoverOverlayColor||"000000"),i=null!=this.video._opts.popoverOverlayOpacity?this.video._opts.popoverOverlayOpacity:.5,new e.Color(t).alpha(i)},i.prototype._playerColor=function(){return new e.Color(this.video.playerColor()).alpha(.9)},i.prototype.destroyOverlay=function(){return this.info("destroyOverlay"),e.elem.remove(this._overlay),this._overlay=null},i.prototype.fitOverlay=function(){if(this._visible&&this._overlay)return e.elem.style(this._overlay,{height:this.bestOverlayHeight()+"px",width:this.bestOverlayWidth()+"px"})},i.prototype.fitCloseButton=function(){var t,i;return t=Math.min(34,this.bestVideoBoundingBox().left),i=t+"px",e.elem.style(this._closeButton,{width:i,height:i}),e.elem.style(this._closeButton.childNodes[0],{width:i,height:i})},i.prototype.hide=function(t){var i,n,r,o;return null==t&&(t=!1),this.info("hide"),o=this._visible,this._visible=!1,e.elem.removeClass(document.body,"wistia_popover_mode"),e.detect.browser.msie&&(e.detect.browser.version<9||e.detect.browser.quirks)&&(t=!0),(null!=(r=this.video._opts)?r.popoverResume:void 0)&&this.video.time()>0&&this.video._saveState(),n=function(t){return function(){return e.elem.style([t._embedContainer,t._closeButton],{boxShadow:"",left:"-99999px",position:"absolute",top:0}),t.destroyOverlay(),t.destroyCaption(),!t.video._opts||t.video._opts.popoverPreventScroll?t.allowScroll():t.allowHorizontalScroll()}}(this),this.video.pause(),o&&e.timeout(this.uuid+".delayed_rebuild",function(e){return function(){return e.video.rebuild()}}(this),600),this.video.embedded(function(e){return function(){if(e.video._pauseEventLoop(),e.shouldAnimate())return e.unexpandPlayButtonImmediately()}}(this)),this.video.trigger("popoverhide"),!0===t?n():(i=this.animateArgs(),i.push(n),this.animateClose.apply(this,i))},i.prototype.animateClose=function(t,i,n){if(null==t&&(t=!0),this.info("animateClose",t,i),this._overlay&&(t||e.elem.style(this._overlay,{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate(t._overlay,{opacity:0})}}(this),1)),t||e.elem.style([this._embedContainer,this._closeButton],{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate([t._embedContainer,t._closeButton],{opacity:0,transform:t.transformProp(i)},{callback:n})}}(this),1),this._captionElem)return t||e.elem.style(this._captionElem,{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate(t._captionElem,{opacity:0,transform:t.transformProp(i)})}}(this),1)},i.prototype.showAndPlay=function(){return this.info("showAndPlay"),this.show(),this.video.play()},i.prototype.transformProp=function(e){return"up"===e?"translate(0, "+Math.round(this.fullHeight()/6)+"px)":"down"===e?"translate(0, "+-Math.round(this.fullHeight()/6)+"px)":"left"===e?"translate("+Math.round(this.fullWidth()/6)+"px, 0)":"right"===e?"translate("+-Math.round(this.fullWidth()/6)+"px, 0)":""},i.prototype.animateOpen=function(t,i){if(null==t&&(t=!0),this.info("animateOpen",t,i),t||e.elem.style(this._overlay,{opacity:1}),t||e.elem.style([this._embedContainer],{opacity:1}),e.elem.style([this._embedContainer],{transform:this.transformProp(i)}),setTimeout(function(t){return function(){return e.elem.animate([t._embedContainer],{opacity:1,transform:"translate(0px, 0px)"}),e.elem.animate(t._overlay,{opacity:1})}}(this),1),this._captionElem)return t||e.elem.style(this._captionElem,{opacity:1}),e.elem.style(this._captionElem,{transform:this.transformProp(i)}),setTimeout(function(t){return function(){return e.elem.animate(t._captionElem,{opacity:1,transform:"translate(0px, 0px)"})}}(this),1)},i.prototype.animateArgs=function(){return e.detect.browser.msie&&(e.detect.browser.version<9||e.detect.browser.quirks)?[!1,"none"]:"fade"===this.video._opts.popoverAnimation?[!0,"none"]:"slide"===this.video._opts.popoverAnimation?this.slideOrFadeBasedOnPlayerType():"none"===this.video._opts.popoverAnimation?[!1,"none"]:this.slideOrFadeBasedOnPlayerType()},i.prototype.slideOrFadeBasedOnPlayerType=function(){return this.video.playerType,[!0,"none"]},i.prototype.show=function(){var t;return this.info("show"),this._visible=!0,e.elem.addClass(document.body,"wistia_popover_mode"),e.clearTimeouts(this.uuid+".delayed_rebuild"),this.video._opts.popoverPreventScroll?this.preventScroll():this.preventHorizontalScroll(),this._closeButton.childNodes[0].setAttribute("src",this._closeButtonBase64()),this.createOverlay(),this.applyVisibleStyles(),this.addCaption(),this.fitVideo(),this.animateOpen.apply(this,this.animateArgs()),this.setupVisibleBindings(),(null!=(t=this.video._opts)?t.popoverResume:void 0)&&this.video.resume(),this.video.embedded(function(e){return function(){return e.video._unpauseEventLoop()}}(this)),this.video.trigger("popovershow")},i.prototype.preventScroll=function(){if(!this._savedCss)return this._savedCss={height:document.body.style.height||"",overflow:document.body.style.overflow||""},e.elem.style(document.body,{height:"100%",overflow:"hidden"})},i.prototype.allowScroll=function(){if(this._savedCss)return e.elem.style(document.body,{height:this._savedCss.height,overflow:this._savedCss.overflow}),this._savedCss=null},i.prototype.preventHorizontalScroll=function(){if(!this._savedCss)return this._savedCss={width:document.body.style.width||"","overflow-x":document.body.style["overflow-x"]||""},e.elem.style(document.body,{width:"100%","overflow-x":"hidden"})},i.prototype.allowHorizontalScroll=function(){if(this._savedCss)return e.elem.style(document.body,{width:this._savedCss.width,"overflow-x":this._savedCss["overflow-x"]}),this._savedCss=null},i.prototype.setupVisibleBindings=function(){return null==this._hideOnEscape&&(this._hideOnEscape=function(t){return function(i){if(27===i.keyCode)return t.info("hide on escape"),t.hide(),e.elem.unbind(document,"keyup",t._hideOnEscape)}}(this)),e.elem.rebind(document,"keyup",this._hideOnEscape)},i.prototype.applyVisibleStyles=function(){var t,i,n,r,o,s,a;return n=this.video._opts.popoverBorderWidth||0,t=new e.Color(this.video._opts.popoverBorderColor||"#ffffff").toHex(),i=this.video._opts.popoverBorderRadius||0,o=null!=this.video._opts.popoverBoxShadowBlur?this.video._opts.popoverBoxShadowBlur:50,a=null!=this.video._opts.popoverBoxShadowSpread?this.video._opts.popoverBoxShadowSpread:20,s=null==this.video._opts.popoverBoxShadow||this.video._opts.popoverBoxShadow,r=s?"0 0 "+o+"px "+a+"px rgba(0,0,0,.2)":"",e.elem.style(this._embedContainer,{border:n+"px solid #"+t,borderRadius:i+"px",boxShadow:r,left:0,opacity:0,position:"absolute",top:0,zIndex:10001})},i.prototype.addCaption=function(){if(this.video._opts.popoverCaption||this.video._opts.popoverCaptionContainer)return this.destroyCaption(),this.info("addCaption"),this._captionElem=e.elem.fromObject({id:this.video.uuid+"_popover_caption",style:{color:"#ffffff",fontFamily:"Verdana, Geneva, sans-serif",fontSize:"14px",left:0,opacity:0,position:"absolute",top:0,width:0,zIndex:10001}}),e.elem.append(document.body,this._captionElem),this.video._opts.popoverCaption?(this.info("build new caption with content",this.video._opts.popoverCaption),this._captionContainer?this._captionContainer.style.display="block":this._captionContainer=e.elem.fromObject({innerHTML:this.video._opts.popoverCaption,style:{padding:"10px 0 0 0"}}),e.elem.append(this._captionElem,this._captionContainer)):this.video._opts.popoverCaptionContainer?(this.info("use caption container",this.video._opts.popoverCaptionContainer),this._captionContainer?this._captionContainer.style.display="block":this._captionContainer=document.getElementById(this.video._opts.popoverCaptionContainer),e.elem.style(this._captionContainer,{display:"block"}),e.elem.append(this._captionElem,this._captionContainer)):void 0},i.prototype.destroyCaption=function(){return this.info("destroyCaption"),this._captionContainer&&(e.elem.style(this._captionContainer,{display:"none"}),e.elem.append(document.body,this._captionContainer)),e.elem.remove(this._captionElem),this._captionElem=null},i.prototype.fitCaption=function(){if(this._captionElem)return e.elem.style(this._captionElem,{left:parseInt(e.elem.style(this._embedContainer,"left"),10)+"px",top:parseInt(e.elem.style(this._embedContainer,"top"),10)+this.fullHeight()+"px",width:this.fullWidth()+"px"})},i.prototype.height=function(t,i){return null==i&&(i={}),null!=t?(this.preventAnimation(),e.elem.style(this.video.container,{height:t+"px"}),i.constrain&&e.elem.style(this.video.container,{width:this.video.widthForHeight(t)+"px"}),this.resizeToContainer(),this.allowAnimation(),this):e.elem.height(this.video.container)},i.prototype.width=function(t,i){return null==i&&(i={}),null!=t?(this.preventAnimation(),e.elem.style(this.video.container,{width:t+"px"}),i.constrain&&e.elem.style(this.video.container,{height:this.video.heightForWidth(t)+"px"}),this.resizeToContainer(),this.allowAnimation(),this):e.elem.width(this.video.container)},i.prototype.preventAnimation=function(){return null==this._wistiaNoAnimateStyle&&(this._wistiaNoAnimateStyle=e.css(this._thumbContainer,".wistia_no_animate * {\ntransition: none !important;\n-mozilla-transition: none !important;\n-ms-transition: none !important;\n-o-transition: none !important;\n-webkit-transition: none !important;\n}")),e.elem.addClass(this._thumbContainer,"wistia_no_animate")},i.prototype.allowAnimation=function(){return this._thumbContainer.offsetTop,e.elem.removeClass(this._thumbContainer,"wistia_no_animate")},i.prototype.fullWidth=function(){var e;return this.video.width()+2*((null!=(e=this.video._opts)?e.popoverBorderWidth:void 0)||0)},i.prototype.fullHeight=function(){var e;return this.video.height()+2*((null!=(e=this.video._opts)?e.popoverBorderWidth:void 0)||0)},i.prototype.fitVideo=function(){if(this._visible)return this.video.embedded(function(t){return function(){var i;return t.video._doMonitor(),i=t.bestVideoBoundingBox(),e.elem.style(t._embedContainer,{left:i.left+"px",top:i.top+"px"}),e.elem.style(t._closeButton,{left:i.right+"px",top:i.top+"px"}),t.fitCaption()}}(this))},i.prototype.bestVideoBoundingBox=function(){var t,i,n,r,o,s,a,l;return s=e.elem.width(window),o=e.elem.height(window),l=this.fullWidth(),i=this.fullHeight(),n=e.util.scrollLeft()+Math.round((s-l)/2),a=e.util.scrollTop()+Math.round((o-i)/2),r=n+l,t=a+i,{top:a,left:n,right:r,bottom:t,width:l,height:i}},i}(),e.mixin(e.Popover.prototype,e.logHelpers),e.Popover.prototype._logPrefix=function(){var e,t;return["popover",(null!=(e=this.video)?e.hashedId():void 0)||"no hashedId",null!=(t=this._thumbContainer)?t.id:void 0]})}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=[].slice;!function(e){var t,o,s;o=e,o.PublicApi||(t=i(76),o.Judy=t,o.Assets=i(11),o.PublicApi=function(){function i(e,t){this._definePluginMethod=n(this._definePluginMethod,this),this._doResize=n(this._doResize,this),this._doMonitor=n(this._doMonitor,this),this._initWithMediaData=n(this._initWithMediaData,this),this._allocEmbedSlot=n(this._allocEmbedSlot,this);var i;this.info("initialize"),this._hasImpl=new o.StopGo,this._notReplacing=new o.StopGo,this._notReplacing(!0),this.hasPlugins=new o.StopGo,this.up=new o.StopGo,this.up(!0),this.down=new o.StopGo,this.down(!1),this.inViewport=new o.StopGo,this.inViewport(!1),this._implVersion=0,this._playlistIndex=0,this._attrs={},this.params={},this.options={},this._pluginStopGos={},this.plugins={},this.data={},this._definePluginMethod(),this.hashedId(e),this._givenOptions=t,this._playlist=[],this._setupContainer(),this._validate(),this._inferPropertiesBeforeMediaData(),this._dedupContainer(),this._addToGlobalCache(),this._setupBindings(),this._resetTracker(),this.supportedPlayers=[],this.addToPlaylist(this.hashedId(),t),this.down(this.looksDown()),this.up(this.looksUp()),this.ready(function(e){return function(){if(e._wvideoInUrl())return e._scrollToContainer(),e.play()}}(this)),null!=(i=window.wistiaEmbeds)&&i.bindHandles(),this.trigger("initembed"),this.monitor(),this.embedded(function(e){return function(){return e.monitor()}}(this)),this.ready(function(e){return function(){return e.monitor()}}(this)),this._onInitializable(function(e){return function(){return e._withFreeEmbedSlots(function(){var t;return t=e._gatherOptions(),t.mediaData?e._initWithMediaData(t.mediaData):o.remote.media(e.hashedId(),e._initWithMediaData,t)})}}(this))}return i.prototype._withFreeEmbedSlots=function(e){var t;return this._setupEmbedSlots(),t=null,this.embedded(function(e){return function(){return clearTimeout(t),t=setTimeout(function(){return e._freeEmbedSlot()},e._embedSlotThrottleInterval())}}(this)),null==this._freeEmbedSlotOnError&&(this._freeEmbedSlotOnError=function(e){return function(){return e._freeEmbedSlot(),e.unbind}}(this)),this.rebind("servererror",this._freeEmbedSlotOnError),o._embedSlotFree(function(i){return function(){return i._allocEmbedSlot(),t=setTimeout(function(){return i._freeEmbedSlot()},1e3),e()}}(this))},i.prototype._onInitializable=function(e){return this.popover&&o.elem.isHidden(this.container)?(this.info("popover, delaying init until container is visible"),o.eventLoop.add(this.uuid+".wait_for_container_visible",500,function(t){return function(){var i;if(!o.elem.isHidden(t.container)){t.info("container became visible, initializing");try{e()}catch(e){i=e,o.error(i)}return o.eventLoop.remove}}}(this))):e()},i.prototype._setupEmbedSlots=function(){if(null==o._embedSlots&&(o._embedSlots=[]),!o._embedSlotFree)return o._embedSlotFree=new o.StopGo,o._embedSlotFree(!0)},i.prototype._maxEmbedSlots=function(){var e,t,i;return i=function(){var i,n;i=o.data("video"),n=[];for(e in i)t=i[e],n.push(e);return n}().length,i>20?5:i>10?8:13},i.prototype._embedSlotThrottleInterval=function(){return 500},i.prototype._freeEmbedSlot=function(){var e;if(this._setupEmbedSlots(),o._embedSlots=function(){var t,i,n,r;for(n=o._embedSlots,r=[],t=0,i=n.length;t<i;t++)(e=n[t])!==this&&r.push(e);return r}.call(this),o._embedSlots.length<this._maxEmbedSlots())return o._embedSlotFree(!0)},i.prototype._allocEmbedSlot=function(){if(this._setupEmbedSlots(),o._embedSlots.push(this),o._embedSlots.length>=this._maxEmbedSlots())return o._embedSlotFree(!1)},i.prototype._shouldLazyLoad=function(){var e;return e=this._gatherOptions(),!window._inWistiaIframe&&parent===self&&(e.lazyLoad||this.popover&&!1!==e.lazyLoad)},i.prototype._initWithMediaData=function(e){var i,n,r;this.info("_initWithMediaData",e);try{0===o.Player.assets(e,{public:!0}).length&&o.Metrics.videoCount(this,"player/no-public-assets")}catch(e){i=e,this.debug(i)}return this.isRemoved()?void this.notice("abort, video already removed"):e.error?(this.notice("display error message from server"),this._displayServerError(e),void this.trigger("servererror")):(this._originalMediaData=e,this._mediaData=this._transformMediaData(e),this.data.media=e,this.info("_optionSources",this._optionSources()),this._opts=this._gatherOptions(),this.info("_opts",o.obj.clone(this._opts)),o.obj.merge(this._mediaData,this._opts.mergeMediaData),this._inferPropertiesAfterMediaData(),r=t.choosePlayer(this.judyCtx(),this._mediaData,this._opts),this._playerPlugins=t.playerPlugins(this.judyCtx(),r,this._mediaData,this._opts),t.logWarnings(this.judyCtx(),r,this._mediaData,this._opts),this._implVersion+=1,n=this._implVersion,this._execPlugins(function(e){return function(){var i,s,a;if(e._implVersion!==n)return void e.notice("_initWithMediaData(): impl changed from",n,"to",e._implVersion,"not completing init");e.hasPlugins(!0),s=o.PublicApi.classFor(r),e.supportedPlayers=t.supportedPlayers(e.judyCtx(),e._mediaData.assets);try{e._impl=new s(e).init()}catch(t){throw i=t,e.error("Failed to initialize impl of class",s,"preferred",r,"supported",e.supportedPlayers),i}return e.grid=e._impl.setupGrid(),e._hasImpl(!0),e.hasData(!0),e._impl,(null!=(a=e._embedContainer)?a.parentNode:void 0)?(e._impl.embed(),e._runMethodsFromOptions(),o.timeout(e.uuid+".prefetch_next_media",function(){return e.prefetchNextMedia()},2e3),e._injectJsonLd()):e.notice("embed(): container removed, giving up")}}(this)))},i.prototype.judyCtx=function(){return this._judyCtx||(this._judyCtx=t.buildContext({pageUrl:this._attrs.pageUrl}))},i.prototype._iframeUrl=function(e){return null==e&&(e=""),e+"//"+o.remote.externalEmbedHost(e)+"/embed/iframe/"+this.hashedId()},i.prototype._removeJsonLd=function(){if(this._jsonLd)return o.elem.remove(this._jsonLd),this._jsonLd=null},i.prototype._wvideoInUrl=function(){var e;return!this._opts._inIframe&&(e=o.url.parse(this._attrs.pageUrl),e.params.wvideo===this.hashedId())},i.prototype._scrollToContainer=function(){var e;return e=o.elem.offset(this.container),o.util.scrollTop(e.top-100)},i.prototype._injectJsonLd=function(){var e,t,i;if("notplayable"!==this.playerType&&(this._removeJsonLd(),!(this._opts._inIframe||!1===this._opts.seo||o.detect.browser.msie&&o.detect.browser.version<9)))return e={"@context":"http://schema.org/","@id":this._iframeUrl("https:"),"@type":"VideoObject",duration:"PT"+this.humanDuration().toUpperCase(),name:this.name(),thumbnailUrl:this.stillUrl({protocol:"https:"}),embedUrl:this._iframeUrl("https:"),uploadDate:this._createdAtIso8601()},this._mediaData.captions&&(e.transcript=null!=(t=this._mediaData.captions[0])?t.text:void 0),this._mediaData.seoDescription&&(e.description=this._mediaData.seoDescription),i=o.JSON.stringify(e),this._jsonLd=o.elem.fromObject({tagName:"script",type:"application/ld+json",childNodes:i}),this._jsonLd._wistia=!0,o.elem.append(document.head,this._jsonLd)},i.prototype._createdAtIso8601=function(){var e,t,i,n;return e=new Date(1e3*this._mediaData.createdAt),n=e.getFullYear(),i=e.getMonth()+1,t=e.getDate(),i<10&&(i="0"+i),t<10&&(t="0"+t),n+"-"+i+"-"+t},i.prototype._setDeprecatedProperties=function(){return this.options=o.obj.clone(this._opts),this.params=o.obj.clone(this._opts),o.obj.merge(this.params,this._attrs),this._attrs.email&&(this.params.trackEmail=this._attrs.email),this._hasImpl(function(e){return function(){var t;return e.playerType=e.embedType=null!=(t=e._impl)?t.playerType:void 0}}(this))},i.prototype.elem=function(){var e;return null!=(e=this._impl)&&"function"==typeof e.elem?e.elem():void 0},i.prototype._resetTracker=function(){var e;return null!=(e=this._tracker)&&e.reset(),this._tracker||(this._tracker=new o.VideoTracker2(this)),this.tracker=this._tracker,this._visitorKey=this._tracker.visitorKey(),this._tracker.monitor(),this.hasData(function(e){return function(){return e._impl._tracker=e._tracker}}(this))},i.prototype._execPlugins=function(e){return this._pluginScripts=o.plugin._scriptsFromVideo(this),this.info("_execPlugins",this._pluginScripts),o.plugin._execQueue(this,this._pluginScripts,e)},i.prototype._optionSources=function(e){var t,i,n,r,s;null==e&&(e={}),e=o.obj.merge({givenOptions:o.obj.clone(this._givenOptions),mediaData:o.obj.clone(this._mediaData),hashedId:this._hashedId,container:this.container},e),i=e.givenOptions,"v1"===i.version?t={}:e.mediaData?(t=o.obj.clone(e.mediaData.embed_options),delete t.stillUrl):t={},r={customize:t,global:o.options("__global__"),hashedId:o.options(e.hashedId),dom:o.options("__"+e.container.id+"_dom_options__"),container:o.options(e.container.id),inline:i};for(n in r)s=r[n],o.obj.isEmpty(s)&&delete r[n];return r},i.prototype._gatherOptions=function(e){var t,i,n,r,s,a;null==e&&(e={}),i={},s=this._optionSources(e);for(t in s)a=s[t],(null!=(n=e.only)?n.indexOf(t):void 0)>=0?o.obj.merge(i,a):(null!=(r=e.except)?r.indexOf(t):void 0)<0?o.obj.merge(i,a):e.only||e.except||o.obj.merge(i,a);return o.obj.cast(i),this._normalizeOptions(i),i},i.prototype.hashedId=function(e){return null!=e?(this._hashedId=e,this):this._hashedId},i.prototype._setupPlayerPlugins=function(e){},i.prototype._readyMp4s=function(){return o.Player.assets(this._mediaData,{container:"mp4",public:!0,status:o.Player.READY})},i.prototype._nonFailedMp4s=function(){return[].concat(o.Player.assets(this._mediaData,{container:"mp4",public:!0,status:o.Player.READY})).concat(o.Player.assets(this._mediaData,{container:"mp4",public:!0,status:o.Player.PROCESSING})).concat(o.Player.assets(this._mediaData,{container:"mp4",public:!0,status:o.Player.QUEUED}))},i.prototype._normalizeOptions=function(e){return e.twitter&&(this.info("twitter detected"),o.obj.get(e,"plugin.socialbar-v1")&&(this.info("disabled socialbar"),o.obj.set(e,"plugin.socialbar-v1.on",!1)),o.obj.get(e,"plugin.transcript-v2")&&(this.info("disabled transcript"),o.obj.set(e,"plugin.transcript-v2.on",!1))),null!=e.playButtonVisible&&(e.playButton=o.obj.cast(e.playButtonVisible),delete e.playButtonVisible),e},
i.prototype._setupContainer=function(){return this._containerId=this._givenOptions.container?this._givenOptions.container:"wistia_"+this.hashedId(),"string"==typeof this._containerId?this.container=document.getElementById(this._containerId):this.container=this._containerId,this.container&&(this.container.wistiaApi=this,this._startingHtml=this.container.innerHTML,this.container.innerHTML="",o.elem.addClass(this.container,"wistia_embed_initialized")),this.info("container",this.container)},i.prototype._inferPropertiesBeforeMediaData=function(){var e;if(this.chrome=o.elem.fromObject({id:o.seqId("wistia_chrome_"),class:"w-chrome",style:o.generate.relativeBlockCss()}),o.elem.style(this.chrome,{outline:"none",overflow:"hidden",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"}),e=this._gatherOptions(),this._shouldBePopover()?(this._embedContainer=o.elem.fromObject({id:this.container.id+"_popover",style:{height:this._popoverSize(e).height+"px",width:this._popoverSize(e).width+"px"}}),o.elem.append(document.body,this._embedContainer),this.popover=new o.Popover(this)):this._embedContainer=this.container,o.elem.append(this._embedContainer,this.chrome),e.uuid?this.uuid=e.uuid:this.uuid=o.seqId(),this.info("uuid",this.uuid),null!=e.playlistLoop&&(this._attrs.playlistLoop=e.playlistLoop),this._embedContainer)return this._attrs.startingWidth=o.elem.width(this._embedContainer),this._attrs.startingHeight=o.elem.height(this._embedContainer)},i.prototype._shouldBePopover=function(){var e;return e=this._gatherOptions(),!e._inIframe&&(!0===e.popover||"v2"===e.popover)},i.prototype._popoverSize=function(e){var t,i,n,r,o;return null==e&&(e=this._opts),null==e&&(e={}),e.popoverSize?(r=(null!=(n=e.popoverSize)?n.split("x"):void 0)||[640,360],o=r[0],t=r[1],o=parseInt(o),t=parseInt(t)):this._mediaData&&(i=this.asset({container:"mp4",width:[0,960],sortBy:"width desc"}))?(o=i.width,t=i.height):(o=640,t=360),{width:o,height:t}},i.prototype._inferPropertiesAfterMediaData=function(){var e,t,i,n,r;return this._attrs.shouldTrack=!this._opts.doNotTrack,this._attrs.seekThreshold=this._opts.seekThreshold||1.5,i=this._inferQualityRangeFromOpts(),t=i[0],e=i[1],this._attrs.qualityMin=t,this._attrs.qualityMax=e,this._attrs.qualityMax<this._attrs.qualityMin&&(this.error("qualityMax "+this._attrs.qualityMax+" is less than qualityMin "+this._attrs.qualityMin+". Setting qualityMax to "+this._attrs.qualityMin+"."),this._attrs.qualityMax=this._attrs.qualityMin),null!=this._opts.rawEmbed?this._attrs.rawEmbed=o.obj.cast(this._opts.rawEmbed):null!=this._opts._inIframe?this._attrs.rawEmbed=!o.obj.cast(this._opts._inIframe||!1):this._attrs.rawEmbed=!0,this._opts.pageUrl?this._attrs.pageUrl=this._opts.pageUrl:this._attrs.pageUrl||(this._attrs.pageUrl=(null!=(n=window.FreshUrl)?n.originalUrl:void 0)||location.href),null!=this._opts.trackEmail&&(this._attrs.email=this._opts.trackEmail),!this._attrs.email&&this._attrs.shouldTrack&&(r=this._extractEmailFromParams())&&(this._attrs.email=r),!this._attrs.email&&o.localStorage([this._attrs.pageUrl,"trackEmail"])&&(this._attrs.email=o.localStorage([this._attrs.pageUrl,"trackEmail"])),this._attrs.playerColor=o.Player._sanePlayerColor(this._opts.playerColor||"636155"),this._attrs.trackWithJs=!0,this._attrs.newStillLogic=!0,this._opts.noDeprecatedProperties||this._setDeprecatedProperties(),this},i.prototype._inferQualityRangeFromOpts=function(){var e,t,i,n,r,s,a,l,u,c;return t=360,e=2160,this._opts.videoQuality&&"auto"!==this._opts.videoQuality?"sd-only"===this._opts.videoQuality?[200,360]:"md"===this._opts.videoQuality?[540,e]:"hd-only"===this._opts.videoQuality?[720,e]:/width:/.test(this._opts.videoQuality)?(l=this._opts.videoQuality.match(/width:(\d+)/i),l[0],u=l[1],c=parseInt(u,10),(n=o.Player.asset(this._mediaData,{container:/mp4|flv/,status:o.Player.READY,public:!0}))?(i=n.width/n.height,r=Math.round(c/i),[r,r]):(this.warn("No assets available to determine aspect for videoQuality '"+this._opts.videoQuality+"', using default qualityMin/qualityMax"),[t,e])):(this.warn("Unknown videoQuality setting '"+this._opts.videoQuality+"', using default qualityMin/qualityMax"),[t,e]):(a=null!=this._opts.qualityMin?o.util.assetSizeShorthandToNumeric(this._opts.qualityMin):t,s=null!=this._opts.qualityMax?o.util.assetSizeShorthandToNumeric(this._opts.qualityMax):e,[a,s])},i.prototype._extractEmailFromParams=function(){var e,t,i,n,r;return(n=(null!=(t=this._attrs.pageUrl)?t.match(/wemail\=([^\&\#]+)/):void 0)||null)?n[1]:(r=(null!=(i=this._attrs.pageUrl)?i.match(/wkey\=([^\&\#]+)/):void 0)||null,r?(e=r[1],o.base64.decode(e)):null)},i.prototype._runMethodsFromOptions=function(){var e,t,i;if(null!=this._opts.foreignData&&this.foreignData(this._opts.foreignData),null!=this._opts.email?this.email(this._opts.email):null!=this._opts.trackEmail&&this.email(this._opts.trackEmail),null!=this._opts.videoFoam&&this.videoFoam(this._opts.videoFoam),this._hasImpl(function(e){return function(){if(null!=e._opts.playerColor&&"flash"!==e.playerType)return e.playerColor(e._opts.playerColor)}}(this)),null!=this._opts.volume&&this.volume(this._opts.volume),this._opts.suppressPlay&&this.suppressPlay(this._opts.suppressPlay),this._hasImpl(function(e){return function(){if(!e.popover&&e._opts.autoPlay&&e._impl.canAutoPlay())return e.play()}}(this)),this._opts.pause&&this.pause(),null!=this._opts.time)return t=o.detect.iphone||o.detect.ipad||o.detect.android,e=this.popover&&!this.popover._visible,i="playing"!==this.state()&&(t||e),this.time(this._opts.time,{lazy:i})},i.prototype._validate=function(){var e;if(e=this._errors(),e.length>0)throw new Error(e.join(", "));return!0},i.prototype._errors=function(){var e;return e=[],this.container||e.push('Could not find element with ID "'+this._containerId+'" in DOM. Failed to initialize video "'+this._hashedId+'".'),e},i.prototype._dedupContainer=function(){var e,t,i,n,r,s,a,l;if(o.data("video")){a=[],n=o.data("video");for(l in n)e=n[l],(null!=(r=e.container)?r.id:void 0)===this.container.id&&a.push(e);for(s=[],t=0,i=a.length;t<i;t++)e=a[t],this.notice("_dedupContainer",e.container.id),s.push(e.remove());return s}},i.prototype._addToGlobalCache=function(){return this.info("_addToGlobalCache",this.uuid),o.data(["video",this.uuid],this)},i.prototype._displayServerError=function(e){return e.iframe?this.container.innerHTML="<iframe src='"+o.proto()+"//"+o.remote.embedHost()+"/embed/iframe/"+this.hashedId()+"' height='"+this.height()+"' width='"+this.width()+"' frameborder='0' scrolling='no'></iframe>":this.container.innerHTML="<div style='background:#fff;border:2px dashed #ddd;color:#aaa;font-family:Century Gothic,Arial;font-size:14px;text-align:center;width:"+this.width()+";height:"+this.height()+";'><div style='padding:20px;'>"+(e.message||e.error)+"</div></div>"},i.prototype._implExec=function(){var e,t;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],this._hasImpl(function(i){return function(){var n;return i._impl[t]?(n=i._impl)[t].apply(n,e):i.warn(t+" is not defined",o.stacktrace())}}(this)),this},i.prototype._implGet=function(){var e,t,i,n;return i=arguments[0],t=arguments[1],e=3<=arguments.length?r.call(arguments,2):[],null==t&&(t=null),this._hasImpl()?this._impl[i]?(n=this._impl)[i].apply(n,e):this.warn(i+" is not defined",o.stacktrace()):t},i.prototype._implSetOrGet=function(){var e,t,i;return i=arguments[0],t=arguments[1],e=3<=arguments.length?r.call(arguments,2):[],e.length>0?this._implExec.apply(this,[i].concat(r.call(e))):this._implGet(i,t)},i.prototype.rebuild=function(){return this._hasImpl(function(e){return function(){return e._impl.rebuild(),e._runMethodsFromOptions()}}(this))},i.prototype.fullRebuild=function(e){return null==e&&(e={}),this.replaceWith(this._impl._mediaData,o.obj.merge({force:this._impl.playerType,inPlace:!1,transition:"none"},e))},i.prototype.rebuildAs=function(e,t){return null==t&&(t={}),this.fullRebuild(o.obj.merge(this._givenOptions,t,{force:e,transition:"none"}))},i.prototype.replace=function(e,t){return null==t&&(t={}),this.replaceWith(e,o.obj.merge({inlineOptionsOnly:!0},t))},i.prototype.replaceWith=function(e,t){var i;return null==t&&(t={}),this.info("replaceWith",e,t),i=function(i){return function(){var n;return i._notReplacing(!1),i.hasData(!1),i._hasImpl(!1),o.obj.isObject(e)?i._replaceWithMediaData(e,t):(n=o.mediaFromCache(e))?i._replaceWithMediaData(n,t):o.remote.media(e,function(e){return i._replaceWithMediaData(e,t)},i._opts)}}(this),this._hasImpl(function(e){return function(){return e._notReplacing(i)}}(this)),this},i.prototype._replaceWithMediaData=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],this._impl.commandQueueOpen.synchronize(function(t){return function(i){return t._replaceWithMediaDataQueuable.apply(t,e),t._notReplacing(i)}}(this))},i.prototype._replaceWithMediaDataQueuable=function(e,i){var n,r,s,a,l,u,c,d,h,p,f,m;return null==i&&(i={}),o.remote._convertEmbedSslToAkamai(e),this.info("_replaceWithMediaData",e,i),e.error?(this._displayServerError(e),void this.trigger("servererror")):this._impl?(null!=i.playlistIndex?(this._playlistIndex=i.playlistIndex,delete i.playlistIndex):this._inPlaylist(e.hashedId)&&(this._playlistIndex=this._playlistIndexOf(e.hashedId)),null!=i.inlineOptionsOnly&&(a=i.inlineOptionsOnly,delete i.inlineOptionsOnly),null!=i.inPlace&&(s=i.inPlace,delete i.inPlace),null!=i.transition&&(f=i.transition,delete i.transition),null!=i.transitionTime&&(m=i.transitionTime,delete i.transitionTime),null!=i.pauseBefore?(c=i.pauseBefore,delete i.pauseBefore):c=!0,this.trigger("beforereplace"),this.hasData(!1),this._hasImpl(!1),this._tracker.stopMonitoring(),this._clobberVideoBindings(),this._savedState={},this._suspended=!1,u=this._impl,"function"==typeof u.wipeOutstandingAsyncFunctions&&u.wipeOutstandingAsyncFunctions(),c&&u.pause(),this._hashedId=e.hashedId,this._originalMediaData=e,this._mediaData=this._transformMediaData(e),this.data.media=e,this._givenOptions=i,this._opts=a?this._gatherOptions({only:"inline"}):this._gatherOptions(),!1===(null!=(d=this._mediaData.embed_options.plugin)&&null!=(h=d.passwordProtectedVideo)?h.on:void 0)&&null!=(null!=(p=this._opts.plugin)?p.passwordProtectedVideo:void 0)&&(this._opts.plugin.passwordProtectedVideo.on=!1),this.info("_opts",o.obj.clone(this._opts)),o.obj.merge(this._mediaData,this._opts.mediaData),this._inferPropertiesAfterMediaData(),r="notplayable"!==u.playerType&&"passwordprotected"!==u.playerType&&(!("html5"!==u.playerType||!o.elem.fullscreenElement())||!!(o.detect.iphone||o.detect.android||o.detect.ipad)||null!=s&&s),this.info("inPlace",r),l=t.choosePlayer(this.judyCtx(),this._mediaData,this._opts),this._playerPlugins=t.playerPlugins(this.judyCtx(),l,this._mediaData,this._opts),t.logWarnings(this.judyCtx(),l,this._mediaData,this._opts),this.turnOffPluginApis(),r&&(this.removePlugins(),u.stopStreaming()),this.hasPlugins(!1),u.commandQueueOpen.setQueue([]),this._implVersion+=1,n=this._implVersion,this._execPlugins(function(e){return function(){var i;return e._implVersion!==n?void e.notice("replaceWith(): impl changed from",n,"to",e._implVersion,"not completing replacement"):(e.hasPlugins(!0),e.supportedPlayers=t.supportedPlayers(e.judyCtx(),e._mediaData.assets),i=o.PublicApi.classFor(l),e._impl=new i(e).init(),e._setupBindings(),e.grid=r?e._impl.grid=u.grid:e._impl.setupGrid(),e._hasImpl(!0),e.hasData(!0),e._resetTracker(),r?e._replaceMode(function(){return e._impl.initFrom(u)}):e._replaceMode(function(){return e._embedWithTransitionFrom(u,f,{time:m})}),e.embedded(function(){return e._notReplacing(!0)}),e._runMethodsFromOptions(),e._allowContainerMatch()&&e.width(e.containerWidth(),{constrain:!0}),o.timeout(e._impl.uuid+".inject_json_ld",function(){return e._injectJsonLd()}),e.trigger("afterreplace"),o.timeout(e.uuid+".prefetch_next_media",function(){return e.prefetchNextMedia()},2e3))}}(this))):void this._initWithMediaData(e,i)},i.prototype._embedWithTransitionFrom=function(e,t,i){var n;return null==t&&(t="none"),this.info("_embedWithTransitionFrom",e,t),"function"==typeof(n=this._impl).transferStateFrom&&n.transferStateFrom(e),"slide"===t||"slideleft"===t?(this.info("slideleft"),e.slideOutLeft(i,function(){return e.remove()}),this._impl.embed(),this._impl.slideInLeft(i)):"slideright"===t?(this.info("slideright"),e.slideOutRight(i,function(){return e.remove()}),this._impl.embed(),this._impl.slideInRight(i)):"fade"===t?(this.info("fade"),"transparent"!==e._opts.wmode&&(e.grid.center.style.backgroundColor="#000"),null!=i.time&&(i.time=Math.round(i.time/2)),e.fadeOut(i,function(t){return function(){var n;return e.remove(),"transparent"!==t._impl._opts.wmode&&null!=(n=t._impl.grid)&&(n.center.style.backgroundColor="#000"),t._impl.embed(),t._impl.fadeIn(i,function(){var e;return null!=(e=t._impl)?e.grid.center.style.backgroundColor="":void 0})}}(this))):"crossfade"===t?(this.info("crossfade"),e.grid&&o.elem.style(e.grid.root,{position:"absolute",zIndex:0}),o.elem.style(this._impl.grid.root,{zIndex:1}),this._impl.embed(),this._impl.fadeIn(i,function(t){return function(){return e.remove(),o.elem.style(t._impl.grid.root,{zIndex:""})}}(this))):(this.info("no transition"),this._impl.embed(),e.remove())},i.prototype._clobberVideoBindings=function(){var e,t,i;t=this._bindings,i=[];for(e in t)t[e],"afterreplace"!==e&&"beforereplace"!==e&&"all"!==e?i.push(this.unbind(e)):i.push(void 0);return i},i.prototype._replaceMode=function(e){return this.info("_replaceMode",!0),this._impl._replacing=!0,e(),this._impl.embedded(function(e){return function(){return e._impl._replacing=!1,e.info("_replaceMode",!1)}}(this))},i.prototype.remove=function(){var e,t,i,n,r;return this.info("remove"),this.trigger("down"),this.trigger("beforeremove"),this._freeEmbedSlot(),this._implExec("remove",{trigger:!1}),this._hasImpl(!1),this._removeJsonLd(),null!=(e=this.popover)&&e.remove(),null!=(t=this._impl)&&t.stopStreaming(),o.elem.unbindAll(this._foamDummyElem),o.elem.remove(this._foamDummyElem),null!=(i=o.eventLoop)&&i.remove(this.uuid),o.clearTimeouts(this.uuid),this._unbindListeners(),o.elem.remove(this.chrome),o.removeData(["video",this.uuid]),this.trigger("afterremove"),this._bindings={},this.container.wistiaApi="removed",this._impl=null,null!=(n=window.__wistiaStores)&&(n[this.uuid]=null),null!=(r=window.__wistiaStores)?delete r[this.uuid]:void 0},i.prototype.fullRemove=function(){var e,t;return t=this._embedContainer,e=this.container,this.remove(),o.elem.remove(t),o.elem.remove(e),this.container=this._embedContainer=null,this},i.prototype.isRemoved=function(){return!o.data(["video",this.uuid])},i.prototype._unbindListeners=function(){if(o.elem.unbindAllInside(this.chrome),this._throttleTriggerViewport)return o.elem.unbind(window,"scroll",this._throttleTriggerViewport),o.elem.unbind(window,"resize",this._doResize)},i.prototype._saveState=function(){var e;return this._savedState={state:this.state(),time:this.time(),volume:this.volume(),inFullscreen:this.inFullscreen(),uuid:null!=(e=this._impl)?e.uuid:void 0}},i.prototype.suspend=function(){if(!this._suspended)return this._saveState(),this.info("suspend",o.obj.clone(this._savedState)),this.pause(),this.suppressPlay(!0),this.cancelFullscreen(),this._suspended=!0,this},i.prototype.resume=function(e){var t,i;return null==e&&(e={}),i=o.obj.merge({},this._savedState,e),this.info("resume",o.obj.clone(i)),this._suspended=!1,i.uuid!==(null!=(t=this._impl)?t.uuid:void 0)?this:(this.suppressPlay(!1),this.volume(i.volume),i.time>0&&("ended"===i.state?"flash"===this.playerType&&this.duration()>1800?this.time(i.time-10):this.time(i.time-1):this.time(i.time)),"playing"===i.state&&this.play(),this)},i.prototype._setupBindings=function(){return this.bind("afterend",function(e){return function(){if(!e._suspended){if(e.nextVideo())return e.embedNext();if(e._attrs.playlistLoop)return e.info("playlistLoop"),e.embedIndex(0,{autoPlay:!0})}}}(this)),this.bind("widthchange",function(e){return function(){var t,i;return null!=(t=e._impl)&&(t._width=e._width=e.width()),null!=(i=e._impl)?i._videoWidth=e._videoWidth=e.videoWidth():void 0}}(this)),this.bind("heightchange",function(e){return function(){return e._impl._height=e._height=e.height(),e._impl._videoHeight=e._videoHeight=e.videoHeight()}}(this)),null==this._throttleTriggerViewport&&(this._throttleTriggerViewport=o.util.throttle(300,function(e){return function(){var t;return t=e._isInViewportNow(),t&&!e._inViewport?(e.trigger("enterviewport"),e.inViewport(!0)):e._inViewport&&t?(e.trigger("leaveviewport"),e.inViewport(!1)):void 0}}(this))),o.elem.rebind(window,"scroll",this._throttleTriggerViewport),o.elem.rebind(window,"resize",this._doResize),this.bind("initembed",this._throttleTriggerViewport),this.bind("up",this._throttleTriggerViewport),this.bind("sphericaltap",function(e){return window.location=e})},i.prototype._isInViewportNow=function(){var e,t,i,n,r;return!this.down()&&!this.looksDown()&&(e=o.elem.offset(this.container),i=e.top,t=i+o.elem.height(this.container),r=o.util.scrollTop(),n=o.util.scrollTop()+o.elem.height(window),i>=r&&i<n||t>=r&&t<n||i<=r&&t>=n)},i.prototype._pauseEventLoop=function(){var e;if(o.eventLoop.pause(this.uuid),null!=(e=this._impl)?e.uuid:void 0)return o.eventLoop.pause(this._impl.uuid)},i.prototype._unpauseEventLoop=function(){var e;if(o.eventLoop.unpause(this.uuid),null!=(e=this._impl)?e.uuid:void 0)return o.eventLoop.unpause(this._impl.uuid)},i.prototype.playlistIndex=function(){return this._playlistIndexOf(this.hashedId())},i.prototype.nextVideo=function(){return this.playlistIndex()>=0?this._playlist[this.playlistIndex()+1]||null:null},i.prototype.previousVideo=function(){return this.playlistIndex()>0?this._playlist[this.playlistIndex()-1]||null:null},i.prototype._playlistIndexOf=function(e){var t,i,n,r;for(t=i=0,n=this._playlist.length;0<=n?i<=n:i>=n;t=0<=n?++i:--i)if((null!=(r=this._playlist[t])?r.hashedId:void 0)===e)return t;return-1},i.prototype._inPlaylist=function(e){return this._playlistIndexOf(e)>=0},i.prototype._setTransitionOptions=function(e){if(e.transition||(e.transition=this._opts.playlistTransition||"fade"),e.transitionTime||(e.transitionTime=this._opts.playlistTransitionTime),e.playlistIndex&&"slide"===e.transition)return e.playlistIndex>=this._playlistIndex?e.transition="slideleft":e.transition="slideright"},i.prototype.embedNext=function(e){var t,i;return i=this.nextVideo(),this.info("embedNext",i),t=o.obj.merge({autoPlay:!0},i.options,e),t.playlistIndex=this._playlistIndex+1,this._setTransitionOptions(t),this.replaceWith(i.hashedId,t)},i.prototype.embedPrevious=function(e){var t,i;return i=this.previousVideo(),this.info("embedPrevious",i),t=o.obj.merge({autoPlay:!0},i.options,e),t.playlistIndex=this._playlistIndex-1,this.replaceWith(i.hashedId,t)},i.prototype.embedIndex=function(e,t){var i,n;return n=this._playlist[e],this.info("embedIndex",e,n),i=o.obj.merge({autoPlay:!0},n.options,t),i.playlistIndex=e,this.replaceWith(n.hashedId,i)},i.prototype.addToPlaylist=function(e,t,i){var n,r,s,a,l,u,c;for(null==t&&(t={}),null==i&&(i={}),null==this._playlist&&(this._playlist=[]),l=o.util.toArray(e),s=0,a=l.length;s<a;s++)r=l[s],n={hashedId:r,options:t},i=o.obj.clone(i),i.after?i.detect=function(e){return e.hashedId===i.after}:i.before&&(i.detect=function(e){return e.hashedId===i.before}),this.info("addToPlaylist",n,i),o.util.insertIntoArray(this._playlist,n,i),r===(null!=(u=this.nextVideo())?u.hashedId:void 0)?this.prefetchMedia(r,t):r===(null!=(c=this.previousVideo())?c.hashedId:void 0)&&this.prefetchMedia(r,t);return this.info("updated _playlist",o.obj.clone(this._playlist)),this._playlist},i.prototype.prefetchNextMedia=function(){var e;if(!this._opts._inLegacyPlaylist&&(e=this.nextVideo()))return this.prefetchMedia(e.hashedId,e.options)},i.prototype.prefetchMedia=function(e,t){return this.info("@prefetchMedia",e),o.remote.media(e,function(i){return function(n){return i.info("prefetched",e),i._prefetchPluginScripts(n,t)}}(this),t)},i.prototype._prefetchPluginScripts=function(e,t){var i,n,r,s,a;if(this.info("@_prefetchPluginScripts for",e,t),r=this._gatherOptions({givenOptions:t,mediaData:e,hashedId:e.hashedId,container:this.container}),s=o.plugin._scriptsFromOptions(r),s=function(){var e,t,i;for(i=[],e=0,t=s.length;e<t;e++)a=s[e],o.plugin._prefetched[a.src]||i.push(a);return i}(),0===s.length)return void this.info("@_prefetchPluginScripts: no need to fetch plugins");for(i=0,n=s.length;i<n;i++)a=s[i],o.plugin._prefetched[a.src]="fetching";return this.info("prefetching scripts",s),o.remote.scripts(s,function(e){return function(){var t,i;for(t=0,i=s.length;t<i;t++)a=s[t],o.plugin._prefetched[a.src]="fetched";return e.info("prefetched scripts",s)}}(this))},i.prototype.addPlugin=function(e,t){return null==t&&(t={}),this.info("addPlugin",e,t),this._hasImpl(function(i){return function(){if(!i.hasPlugin(e))return o.plugin._inject(i,e,t)}}(this)),this},i.prototype.hasPlugin=function(e){return!!this.plugin[e]},i.prototype.turnOffPluginApis=function(){var e,t,i,n;this.info("turnOffPluginApis"),i=this.plugin,n=[];for(t in i)i[t],n.push("function"==typeof(e=this._pluginStopGos)[t]?e[t](!1):void 0);return n},i.prototype.removePlugins=function(){var e,t,i,n;this.info("removePlugins"),i=this.plugin,n=[];for(t in i)e=i[t],n.push("function"==typeof e.remove?e.remove():void 0);return n},i.prototype.containerWidth=function(){return this._attrs.rawEmbed&&o.detect.browser.old?o.grid.wrapperWidth(this):this._attrs.rawEmbed?o.elem.width(this._embedContainer):o.util.winWidth()},i.prototype.containerHeight=function(){return this._attrs.rawEmbed&&o.detect.browser.old?o.grid.wrapperHeight(this):this._attrs.rawEmbed?o.elem.height(this._embedContainer):o.util.winHeight()},i.prototype._goToDownState=function(){return this.info("_goToDownState"),this._stateBeforeDown=this._lastState,this.up(!1),this.down(!0),"flash"!==this.embedType&&this.pause(),this.ready(!1),this.trigger("down")},i.prototype._goToUpState=function(){var e;return this.info("_goToUpState"),this.down(!1),this.up(!0),this.ready(!1),"flash"===this.embedType?this.rebuild():(this.fit(),null!=(e=this._impl)&&e.checkForReady(),"playing"===this._stateBeforeDown&&this.play()),this.trigger("up")},i.prototype._checkDownState=function(){var e;return e=this.looksDown(),this.up()&&e?(this.info("moving to down state"),this._goToDownState()):this.down()&&!e?(this.info("moving to up state"),this._goToUpState()):void 0},i.prototype._removeHandleIfGoneFromDOM=function(){return!(!this.embedded()||(this.elem()?!this._embedContainer||this._embedContainer.parentNode||(this.warn("container removed from DOM",this._embedContainer.id),this.remove(),0):(this.warn("video element removed from DOM",this._embedContainer.id),this.remove(),0)))},i.prototype._doFoam=function(){var e,t,i,n,r,s,a,l,u,c;if(null==this._parentBoxSizing&&(this._parentBoxSizing=o.elem.style(this._embedContainer.parentNode,"box-sizing")),this.popover?(c=o.elem.width(window),u=o.elem.height(window),l=c/u,a=Math.min(c,u),e=a>500?160:Math.abs(l-this.aspect())<.2?.2*a:.1*a,s=l>this.aspect()?Math.round((u-e)*this.aspect()):c-e):"border-box"===this._parentBoxSizing||o.detect.browser.ltie8||o.detect.browser.msie&&8===o.detect.browser.version?(this._foamDummyElem||(this._foamDummyElem=o.elem.fromObject({class:"wistia_video_foam_dummy","data-source-container-id":this._embedContainer.id,style:{border:0,display:"block",height:0,margin:0,padding:0,position:"static",visibility:"hidden",width:"auto"}}),o.elem.before(this._embedContainer,this._foamDummyElem)),s=o.elem.width(this._foamDummyElem)):s=o.elem.width(this._embedContainer.parentNode),!(isNaN(s)||this._lastParentWidth===s&&this._didFoam))return this._didFoam=!0,r=s,n=r-this.extraWidth(),i=this.heightForWidth(n),t=i+this.extraHeight(),this.videoFoam().maxHeight&&t>this.videoFoam().maxHeight&&(t=this.videoFoam().maxHeight,i=t-this.extraHeight(),n=this.widthForHeight(i),r=n+this.extraWidth()),this.videoFoam().maxWidth&&r>this.videoFoam().maxWidth&&(r=this.videoFoam().maxWidth,n=r-this.extraWidth(),i=this.heightForWidth(n),t=i+this.extraHeight()),this.videoFoam().minHeight&&t<this.videoFoam().minHeight&&(t=this.videoFoam().minHeight,i=t-this.extraHeight(),n=this.widthForHeight(i),r=n+this.extraWidth()),this.videoFoam().minWidth&&r<this.videoFoam().minWidth&&(r=this.videoFoam().minWidth,n=r-this.extraWidth(),i=this.heightForWidth(n),t=i+this.extraHeight()),this.info("videoFoam set width",r),this.width(r,{constrain:!0}),this._lastParentWidth=s},i.prototype._allowFoam=function(){var e;return this._hasImpl()&&this.grid&&this.up()&&this.looksUp()&&this._attrs.rawEmbed&&(this.videoFoam()||(null!=(e=this.popover)?e.isResponsive():void 0))},i.prototype._allowContainerMatch=function(){return this.up()&&!this._opts.dontMonitorSize&&!this.inFullscreen()},i.prototype._doContainerMatch=function(){var e,t;if(t=this.containerWidth(),e=this.containerHeight(),this._lastWidth!==t&&(this.notice("container width changed to "+t+", matching"),this.width(t,{dontChangeContainer:!0}),this.info("_doContainerMatch set width",t),this.trigger("widthchange",t,this._lastWidth),this._lastWidth=t),this._lastHeight!==e)return this.notice("container height changed to "+e+", matching"),this.height(e,{dontChangeContainer:!0}),this.trigger("heightchange",e,this._lastHeight),this._lastHeight=e},i.prototype.monitor=function(){return this.info("monitor"),this._lastWidth=this._attrs.startingWidth,this._lastHeight=this._attrs.startingHeight,this._lastParentWidth=this.width(),this._didFoam=!1,this._hasImpl(function(e){return function(){return o.eventLoop.add(e.uuid+".monitor",500,e._doMonitor)}}(this))},i.prototype._doMonitor=function(){if(!this._removeHandleIfGoneFromDOM())return this._checkDownState(),this.popover?this.popover.fixedSizeTooBigForWindow()?this._doFoam():this._opts.popoverSize?(this._lastWidth=this.width(),this._lastHeight=this.height(),this.width(this._popoverSize().width),this.height(this._popoverSize().height)):this._doFoam():this._allowFoam()?this._doFoam():this._allowContainerMatch()?this._doContainerMatch():void 0},i.prototype.looksDown=function(){return!this._embedContainer||!o.elem.inDom(this._embedContainer)||o.elem.isHidden(this._embedContainer)},i.prototype.looksUp=function(){return!this.looksDown()},i.prototype._doResize=function(){return this._throttleTriggerViewport(),this._debounceDoMonitor||this.embedded(function(e){return function(){return o.util.requestAnimationFrame(function(){return e._doMonitor(),e._debounceDoMonitor=!1})}}(this)),this._debounceDoMonitor=!0},i.prototype._definePluginMethod=function(){if(!this.plugin)return this.plugin=function(e){return function(t,i){var n;return(n=e._pluginStopGos[t])||(n=e._pluginStopGos[t]=new o.StopGo)(!!e.plugin[t]),n(function(){return i(e.plugin[t])})}}(this)},i.prototype.videoFoam=function(e){return null!=e?(this.info("videoFoam",e),this._attrs.videoFoam=e):this._attrs.videoFoam||!1},i.prototype._formattedDurationToSeconds=function(e){return o.TimeHelper.isValidHumanDuration(e)?o.TimeHelper.humanDurationToSeconds(e):o.TimeHelper.isValidIso8601(e)?o.TimeHelper.iso8601ToSeconds(e):e},i.prototype._transformAndUpdateMediaData=function(){var e;return this._mediaData=this._transformMediaData(this._originalMediaData),null!=(e=this._impl)?e._mediaData=this._mediaData:void 0},i.prototype._mediaDataTransforms=function(){var e;return e=[],o.remote._isEmbedSslMedia(this._originalMediaData)||this._useEmbedSslHost&&e.push(function(e){var t,i,n,r,s;for(r=e.assets,i=0,n=r.length;i<n;i++)t=r[i],t.url&&(s=o.url.parse(t.url),s.host="embed-ssl.wistia.com",s.protocol="https:",t.url=s.absolute());return e}),e},i.prototype._transformMediaData=function(e,t){var i,n,r,s;for(null==t&&(t=this._mediaDataTransforms()),r=o.obj.clone(e),i=0,n=t.length;i<n;i++)s=t[i],r=s(r);return r},i.prototype.specialBind=function(){var e,t,i,n,o,s;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],"crosstime"===t?(n=e[0],i=e[1],this.onCrossTime(n,i),!0):"betweentimes"===t&&(o=e[0],s=e[1],i=e[2],this.betweenTimes(o,s,i),!0)},i.prototype.specialUnbind=function(){var e,t,i,n,o,s;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],"crosstime"===t?(n=e[0],i=e[1],this.unbindOnCrossTime(n,i),!0):"betweentimes"===t&&(o=e[0],s=e[1],i=e[2],this.unbindBetweenTimes(o,s,i),!0)},i.prototype.onCrossTime=function(e,t){var i,n,r,s,a,l,u;if(!/^(\d+\.)?\d+$/.test(e))throw"onCrossTime: Expected first argument to be a number";if("function"!=typeof t)throw"onCrossTime: Expected second argument to be a function";return null==this._onCrossTimeBindings&&(this._onCrossTimeBindings={}),null==(n=this._onCrossTimeBindings)[e]&&(n[e]=[]),u=this.uuid+"."+o.uniqId("after_time_"),i=this.time()>e,r=function(n){return function(){return n.time()<e?s():i||(i=!0,t.call(n)!==n.unbind)?void 0:n.unbindOnCrossTime(e,t)}}(this),s=function(t){return function(){return t.time()>=e?(o.clearTimeouts(u),r()):i?void 0:o.timeout(u,r,1e3*(e-t.time()))}}(this),a=function(t){return function(){if(t.time()<e){if(i=!1,e-t.time()<2)return s()}else if(!i)return r()}}(this),l=function(e){return function(){return o.clearTimeouts(u)}}(),this.bind("play",a),this.bind("timechange",a),this.bind("pause",l),this.bind("end",l),this.bind("waiting",l),"playing"!==this.state()||i||a(),this._onCrossTimeBindings[e].push({fn:t,setupTimeoutFromNowIfClose:a,suspendTimeoutIndefinitely:l}),this},i.prototype.unbindOnCrossTime=function(e,t){var i,n,r,o,s,a;if(!this._onCrossTimeBindings||!this._onCrossTimeBindings[e])return this;for(i=null,r=0,a=this._onCrossTimeBindings[e],o=0,s=a.length;o<s;o++){if(n=a[o],n.fn===t){i=n;break}r+=1}return i?(this.unbind("play",i.setupTimeoutFromNowIfClose),this.unbind("timechange",i.setupTimeoutFromNowIfClose),this.unbind("pause",i.suspendTimeoutIndefinitely),this.unbind("end",i.suspendTimeoutIndefinitely),this.unbind("waiting",i.suspendTimeoutIndefinitely),this._onCrossTimeBindings[e].splice(r,1),0===this._onCrossTimeBindings[e].length&&delete this._onCrossTimeBindings[e],this):this},i.prototype.betweenTimes=function(e,t,i){var n,r,o,s;if(!/^(\d+\.)?\d+$/.test(e)||!/^(\d+\.)?\d+$/.test(t))throw"betweenTimes: Expected first two arguments to be numbers";if("function"!=typeof i)throw"betweenTimes: Expected second argument to be a function";return o=e+"-"+t,null==this._betweenTimeBindings&&(this._betweenTimeBindings={}),null==(n=this._betweenTimeBindings)[o]&&(n[o]=[]),s=!1,r=function(n){return function(){var r,o;if(o=n.time(),e<=o&&o<t&&!s?(s=!0,r=i.call(n,s)):e<=o&&o<t||!s||(s=!1,r=i.call(n,s)),r===n.unbind)return n.unbindBetweenTimes(e,t,i)}}(this),this.onCrossTime(e,r),this.onCrossTime(t,r),this.bind("timechange",r),r(),this._betweenTimeBindings[o].push({fn:i,onTimechange:r}),this},i.prototype.unbindBetweenTimes=function(e,t,i){var n,r,o,s,a,l,u;if(u=e+"-"+t,!this._betweenTimeBindings[u])return this;for(n=null,o=0,l=this._betweenTimeBindings[u],s=0,a=l.length;s<a;s++){if(r=l[s],r.fn===i){n=r;break}o+=1}return n?(this.unbindOnCrossTime(e,n.onTimechange),this.unbindOnCrossTime(t,n.onTimechange),this.unbind("timechange",n.onTimechange),this._betweenTimeBindings[u].splice(o,1),0===this._betweenTimeBindings[u].length&&delete this._betweenTimeBindings[u],this):this},i.prototype.aspect=function(){return this._implGet("aspect",0)},i.prototype.asset=function(){return this._implGet.apply(this,["asset",null].concat(r.call(arguments)))},i.prototype.assets=function(){return this._implGet.apply(this,["assets",null].concat(r.call(arguments)))},i.prototype.bigPlayButtonEnabled=function(){return this._implSetOrGet.apply(this,["bigPlayButtonEnabled",!1].concat(r.call(arguments)))},i.prototype.bigPlayButtonTimeEnabled=function(){return this._implSetOrGet.apply(this,["bigPlayButtonTimeEnabled",!1].concat(r.call(arguments)))},i.prototype.canPlay=function(){return this._implGet("canPlay",!1)},i.prototype.cancelFullscreen=function(){return this._implExec("cancelFullscreen")},i.prototype.createControl=function(){
return this._implGet.apply(this,["createControl",null].concat(r.call(arguments)))},i.prototype.destroyControl=function(){return this._implExec.apply(this,["destroyControl"].concat(r.call(arguments)))},i.prototype.duration=function(){return this._implGet("duration",null)},i.prototype.embedded=function(){return this._implSetOrGet.apply(this,["embedded",!1].concat(r.call(arguments)))},i.prototype.eventKey=function(){return this._tracker.eventKey()||null},i.prototype.extraHeight=function(){return this._implGet("extraHeight",0)},i.prototype.extraWidth=function(){return this._implGet("extraWidth",0)},i.prototype.fit=function(){return this._implExec("fit")},i.prototype.fullscreenButtonEnabled=function(){return this._implSetOrGet.apply(this,["fullscreenButtonEnabled",!1].concat(r.call(arguments)))},i.prototype.getRegion=function(){return this._implGet.apply(this,["getRegion",null].concat(r.call(arguments)))},i.prototype.hasData=function(){return this._implSetOrGet.apply(this,["hasData",!1].concat(r.call(arguments)))},i.prototype.height=function(){return this._implSetOrGet.apply(this,["height",null].concat(r.call(arguments)))},i.prototype.heightForWidth=function(){return this._implGet.apply(this,["heightForWidth",null].concat(r.call(arguments)))},i.prototype.hideControls=function(){return this._implExec.apply(this,["hideControls",null].concat(r.call(arguments)))},i.prototype.humanDuration=function(){return o.TimeHelper.secondsToHumanDuration(this.duration())},i.prototype.ieSizeHack=function(){return this._implExec("ieSizeHack")},i.prototype.inFullscreen=function(){return this._implGet("inFullscreen",!1)},i.prototype.layout=function(){return this._implSetOrGet.apply(this,["layout","primary"].concat(r.call(arguments)))},i.prototype.look=function(){return this._implSetOrGet.apply(this,["look",{}].concat(r.call(arguments)))},i.prototype.mp4Asset=function(){return this._implGet.apply(this,["mp4Asset",null].concat(r.call(arguments)))},i.prototype.name=function(){return this._implGet("name","")},i.prototype.originalAsset=function(){return this._implGet.apply(this,["originalAsset",null].concat(r.call(arguments)))},i.prototype.pause=function(){return this._implExec("pause")},i.prototype.percentWatched=function(){return this._implGet("percentWatched",0)},i.prototype.playbarControlEnabled=function(){return this._implSetOrGet.apply(this,["playbarControlEnabled",!1].concat(r.call(arguments)))},i.prototype.play=function(){return this._implExec("play")},i.prototype.playbackRate=function(){return this._implSetOrGet.apply(this,["playbackRate",1].concat(r.call(arguments)))},i.prototype.playbackRateControlEnabled=function(){return this._implSetOrGet.apply(this,["playbackRateControlEnabled",!1].concat(r.call(arguments)))},i.prototype.playerColor=function(){return this._implSetOrGet.apply(this,["playerColor","636155"].concat(r.call(arguments)))},i.prototype.qualityControlEnabled=function(){return this._implSetOrGet.apply(this,["qualityControlEnabled",!1].concat(r.call(arguments)))},i.prototype.ready=function(){return this._implSetOrGet.apply(this,["ready",!1].concat(r.call(arguments)))},i.prototype.secondsWatched=function(){return this._implGet("secondsWatched",0)},i.prototype.secondsWatchedVector=function(){return this._implGet("secondsWatchedVector",[])},i.prototype.settingsControlEnabled=function(){return this._implSetOrGet.apply(this,["settingsControlEnabled",!1].concat(r.call(arguments)))},i.prototype.showControls=function(){return this._implExec.apply(this,["showControls",null].concat(r.call(arguments)))},i.prototype.smallPlayButtonEnabled=function(){return this._implSetOrGet.apply(this,["smallPlayButtonEnabled",!1].concat(r.call(arguments)))},i.prototype.state=function(){return this._implGet("state","beforeplay")},i.prototype.stillUrl=function(){return this._implGet.apply(this,["stillUrl",null].concat(r.call(arguments)))},i.prototype.suppressPlay=function(){return this._implSetOrGet.apply(this,["suppressPlay",this].concat(r.call(arguments)))},i.prototype.time=function(){var e,t;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],null!=t?this._implSetOrGet.apply(this,["time",0,this._formattedDurationToSeconds(t)].concat(r.call(e))):this._implSetOrGet("time",0)},i.prototype.timeInHumanDuration=function(){return e.TimeHelper.secondsToHumanDuration(this._implGet.apply(this,["time",0].concat(r.call(arguments))))},i.prototype.timeInIso8601Duration=function(){return e.TimeHelper.secondsToIso8601(this._implGet.apply(this,["time",0].concat(r.call(arguments))))},i.prototype.trim=function(){return this._implSetOrGet.apply(this,["trim",{start:0,end:-1}].concat(r.call(arguments)))},i.prototype.videoHeight=function(){return this._implSetOrGet.apply(this,["videoHeight",null].concat(r.call(arguments)))},i.prototype.videoWidth=function(){return this._implSetOrGet.apply(this,["videoWidth",null].concat(r.call(arguments)))},i.prototype.visitorKey=function(){return this._tracker.visitorKey()||null},i.prototype.volume=function(){return this._implSetOrGet.apply(this,["volume",0].concat(r.call(arguments)))},i.prototype.volumeControlEnabled=function(){return this._implSetOrGet.apply(this,["volumeControlEnabled",!1].concat(r.call(arguments)))},i.prototype.width=function(){return this._implSetOrGet.apply(this,["width",null].concat(r.call(arguments)))},i.prototype.widthForHeight=function(){return this._implGet.apply(this,["widthForHeight",null].concat(r.call(arguments)))},i.prototype.chaptersEnabled=function(){return this._implSetOrGet.apply(this,["chaptersEnabled",null].concat(r.call(arguments)))},i.prototype.chaptersVisibleOnLoad=function(){return this._implSetOrGet.apply(this,["chaptersVisibleOnLoad",null].concat(r.call(arguments)))},i.prototype.addChapter=function(){return this._implExec.apply(this,["addChapter"].concat(r.call(arguments)))},i.prototype.getChapter=function(){return this._implGet.apply(this,["getChapter",null].concat(r.call(arguments)))},i.prototype.removeChapter=function(){return this._implExec.apply(this,["removeChapter"].concat(r.call(arguments)))},i.prototype.chapters=function(){return this._implSetOrGet.apply(this,["chapters",[]].concat(r.call(arguments)))},i.prototype.customerLogo=function(){return this._implExec.apply(this,["customerLogo"].concat(r.call(arguments)))},i.prototype.getEmail=function(){return this.email()},i.prototype.getEventKey=function(){return this.eventKey()},i.prototype.getVisitorKey=function(){return this.visitorKey()},i.prototype.setEmail=function(e){return this.email(e)},i.prototype.setPlayerColor=function(){return this._implExec.apply(this,["playerColor"].concat(r.call(arguments)))},i.prototype.removeReadyFn=function(){var e;return e=1<=arguments.length?r.call(arguments,0):[],this._hasImpl(function(t){return function(){var i;return(i=t._impl.ready).remove.apply(i,e)}}(this))},i.prototype.email=function(e){var t,i;return null!=e?(this.info("email",e),t=this._attrs.email,this._attrs.email=e,o.localStorage([this._attrs.pageUrl,"trackEmail"],e),(null!=(i=this._opts)?i.noDeprecatedProperties:void 0)||(this.params.trackEmail=e),this._hasImpl(function(t){return function(){var i;return"function"==typeof(i=t._impl).email?i.email(e):void 0}}(this)),e!==t&&this.trigger("emailchange",e),this):this._attrs.email||null},i.prototype.foreignData=function(e){var t;if(void 0===e)return this._attrs.foreignData||this._foreignData||null;if(null===e)return this._attrs.foreignData=null,this.trigger("foreigndatachange",e);if(this.info("foreignData",e),!o.obj.isObject(e))throw new Error("foreignData can only be an Object");return e=o.obj.clone(e),this._attrs.foreignData=e,null!=(t=this.tracker)&&t.transmit({force:!0}),this.trigger("foreigndatachange",e)},i.prototype._shouldAsyncChain=function(){var e;return this.popover||!this._isInViewportNow()||function(){var t,i,n,r;for(n=o.api.all(),r=[],t=0,i=n.length;t<i;t++)e=n[t],e.embedded()&&r.push(e);return r}().length>=3},i.prototype._maybeAsyncChain=function(e,t){return this._shouldAsyncChain()?o.asyncChain(e,t):o.chain(t)},i.classFor=function(e){var t;switch(e instanceof o.Player?e=e.embedType:e instanceof o.PublicApi&&(e=null!=(t=e._impl)?t.embedType:void 0),"vulcan"!==e||o.VulcanPlayer||(o.Metrics.count("player/vulcan-video-not-defined",1,{ua:navigator.userAgent,detect:o.detect}),o.error('PublicApi.classFor: embedType is vulcan but W.VulcanPlayer is not defined. Using "html5" instead.'),e="html5"),e){case"vulcan":return o.VulcanPlayer;case"html5":return o.Html5Player;case"flash":return o.FlashPlayer;case"external":return o.ExternalPlayer;case"notplayable":return o.NotPlayablePlayer;case"passwordprotected":return o.PasswordProtectedPlayer;default:return o.Player}},i}(),o.mixin(o.PublicApi.prototype,o.bindable),s=o.PublicApi.prototype.trigger,o.PublicApi.prototype.trigger=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],s.call.apply(s,[this,t].concat(r.call(e))),null!=(i=window.wistiaEmbeds)?i.trigger.apply(i,[t,this].concat(r.call(e))):void 0},o.mixin(o.PublicApi.prototype,o.logHelpers),o.PublicApi.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||"no hashedId",null!=(e=this.container)?e.id:void 0,this.uuid]})}(Wistia)},function(e,t,i){!function(e){var t,n,r,o,s,a,l,u,c,d;e.remote||(l=i(39),a=i(37),n=i(11),r=e.Hosts=i(10),t=e.Ajax=i(57),o=e.MediaData=i(185),s=e.PlaylistData=i(186),d=i(45),u=d.jsonp,c=d.jsonpPlus,e.remote={},e.remote.appHostname=l,e.remote.embedHost=r.cdnFastWistiaComHost,e.remote.externalEmbedHost=r.cdnFastWistiaNetHost,e.remote.appHost=r.appHost,e.remote.assetHost=r.deliveryHost,e.remote.assetUrlWithCorrectHost=function(e,t,i){return n.assetUrlWithCorrectHost(t,i)},e.remote.findScriptInDomBySrc=a.findScriptInDomBySrc,e.remote.script=a.runScript,e.remote.scripts=a.runScripts,e.remote.scriptInputsToHash=a.scriptInputsToHash,e.remote.ajaxDefaults=t.AJAX_DEFAULTS,e.remote.get=t.ajaxGet,e.remote.head=t.ajaxHead,e.remote.post=t.ajaxPost,e.remote.ajax=t.ajax,e.remote.canEditMedia=o.canEditMedia,e.remote.media=o.fetchMedia,e.remote._isEmbedSslMedia=o.isEmbedSslMedia,e.remote._convertEmbedSslToAkamai=o.convertEmbedSslToAkamai,e.cacheMedia=o.cacheMedia,e.uncacheMedia=o.uncacheMedia,e.mediaFromCache=o.mediaFromCache,e.remote.playlist=s.fetchPlaylist,e.remote.fetch=c,e.jsonp={get:u})}(Wistia)},function(e,t){!function(e){var t;e.seo||(t=e.seo={},e.seo.writeMeta=function(e,i){t.metaExists(e)||t.forceWriteMeta(e,i)},e.seo.forceWriteMeta=function(e,t){var i,n;n=document.getElementsByTagName("script")[0],i=document.createElement("meta"),i.setAttribute("property",e),i.setAttribute("content",t),i._wistia=!0,n.parentNode.insertBefore(i,n)},e.seo.metaExists=function(e){var t,i,n,r;for(r=document.getElementsByTagName("meta"),t=0,i=r.length;t<i;t++)if(n=r[t],n.getAttribute("property")===e)return!0;return!1},e.seo.inject=function(i,n){var r,o,s,a,l,u;null==n&&(n={}),t.metaExists("og:video")||(l=i.sitemap_entry,r={_mediaData:i,_givenOptions:n,_opts:n,_attrs:{}},o=new e.FlashPlayer(r),o.sdAsset=function(){return e.Player.asset(i,{container:"flv",sortBy:"width asc"})},u={playerColor:null!=(s=o._mediaData)&&null!=(a=s.embed_options)?a.playerColor:void 0},t.writeMeta("og:type","article"),t.writeMeta("og:title",(null!=l?l.title:void 0)||document.title||o.name()),t.writeMeta("og:url",(null!=l?l.loc:void 0)||location.href),t.writeMeta("og:image",e.Player.stillUrl(o._mediaData.assets,u)),t.writeMeta("og:video",""+i.flashPlayerUrl+e.url.jsonToParams(o.generateFlashVars())),n.videoWidth&&t.writeMeta("og:video:width",n.videoWidth),n.videoHeight&&t.writeMeta("og:video:height",n.videoHeight),t.writeMeta("og:video:type","application/x-shockwave-flash"))})}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Thumbnail||(e.Thumbnail=function(){function t(t,n){var r,o,s,a;this.container=t,this.options=n,this.hideOverlay=i(this.hideOverlay,this),this.showOverlay=i(this.showOverlay,this),this.touchend=i(this.touchend,this),this.touchmove=i(this.touchmove,this),this.touchstart=i(this.touchstart,this),this.click=i(this.click,this),this.mouseup=i(this.mouseup,this),this.mousedown=i(this.mousedown,this),this.mouseout=i(this.mouseout,this),this.mouseover=i(this.mouseover,this),this.blur=i(this.blur,this),this.keyup=i(this.keyup,this),this.focus=i(this.focus,this),this.loaded=new e.StopGo,this.uuid=(this.options.uuid||e.seqId())+".thumbnail",null==this.options.tabbable&&(this.options.tabbable=!0),(null!=(s=this.options.images)?s.length:void 0)>0||(a="http:"===e.proto()?"http://embed.wistia.com/deliveries/c0612aa8586d19f8471478c66c73ef7ab3f8e334/default-thumb.jpg":"https://embed-ssl.wistia.com/deliveries/c0612aa8586d19f8471478c66c73ef7ab3f8e334/default-thumb.jpg",this.options.images=[{url:a,height:360,width:640}]),this.elem=this.createElem(),this.options.prepend?e.elem.prepend(this.container,this.elem):e.elem.append(this.container,this.elem),this.img=this.createImg(),this.overlay=this.createOverlay(),this.fit(),this.setupBindings(),this.options.delayInit?(r=this.bestImage(),this.quickPreload(r.url)):this.initialize(),null!=this.options.bigPlayButton&&!1!==this.options.bigPlayButton&&(o=e.obj.isObject(this.options.bigPlayButton)?e.obj.clone(this.options.bigPlayButton):{},this.bigPlayButton=new e.BigPlayButton(this.elem,o))}return t.prototype.initialize=function(){return this.isBakeryThumbnail()?this.loadImageFirstTime():this.loadImageFirstTimeAndGetDimensions()},t.prototype.destroy=function(){var t;return null!=(t=this.bigPlayButton)&&t.destroy(),this.destroyBindings(),e.elem.remove(this.elem),this.elem=this.img=this.overlay=null},t.prototype.preventDefault=function(e){return e.preventDefault()},t.prototype.setupBindings=function(){return e.elem.bind(this.elem,"mouseover",this.mouseover),e.elem.bind(this.elem,"mouseout",this.mouseout),e.elem.bind(this.elem,"focus",this.focus),e.elem.bind(this.elem,"blur",this.blur),e.elem.bind(this.elem,"mousedown",this.mousedown),e.elem.bind(this.elem,"mouseup",this.mouseup),e.elem.bind(this.elem,"click",this.click),e.elem.bind(this.elem,"touchstart",this.touchstart),e.elem.bind(this.img,"mousedown",this.preventDefault)},t.prototype.destroyBindings=function(){return e.elem.unbind(this.elem,"mouseover",this.mouseover),e.elem.unbind(this.elem,"mouseout",this.mouseout),e.elem.unbind(this.elem,"focus",this.focus),e.elem.unbind(this.elem,"blur",this.blur),e.elem.unbind(this.elem,"mousedown",this.mousedown),e.elem.unbind(this.elem,"mouseup",this.mouseup),e.elem.unbind(this.elem,"click",this.click),e.elem.unbind(this.elem,"touchstart",this.touchstart),e.elem.unbind(this.img,"mousedown",this.preventDefault),e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),e.elem.unbind(document,"keyup",this.keyup)},t.prototype.focus=function(){var t;return e.elem.addClass(this.elem,"wistia_focus"),e.elem.rebind(document,"keyup",this.keyup),this._focus=!0,"function"==typeof(t=this.options).onFocus&&t.onFocus.apply(t,arguments),!0},t.prototype.keyup=function(e){var t,i;return"function"==typeof(t=this.options).onKeyup&&t.onKeyup.apply(t,arguments),32!==e.keyCode&&13!==e.keyCode||"function"==typeof(i=this.options).onActivate&&i.onActivate.apply(i,arguments),!0},t.prototype.blur=function(){var t;return e.elem.unbind(document,"keyup",this.keyup),e.elem.removeClass(this.elem,"wistia_focus"),this._focus=!1,"function"==typeof(t=this.options).onBlur&&t.onBlur.apply(t,arguments),!0},t.prototype.mouseover=function(){var t;return e.elem.addClass(this.elem,"wistia_mouseover"),"function"==typeof(t=this.options).onMouseover&&t.onMouseover.apply(t,arguments),!0},t.prototype.mouseout=function(){var t;return e.elem.removeClass(this.elem,"wistia_mouseover"),"function"==typeof(t=this.options).onMouseout?t.onMouseout.apply(t,arguments):void 0},t.prototype.mousedown=function(){var t;return e.elem.addClass(this.elem,"wistia_mousedown"),"function"==typeof(t=this.options).onMousedown&&t.onMousedown.apply(t,arguments),!0},t.prototype.mouseup=function(){var t;return e.elem.removeClass(this.elem,"wistia_mousedown"),"function"==typeof(t=this.options).onMouseup&&t.onMouseup.apply(t,arguments),!0},t.prototype.click=function(){var e,t;return"function"==typeof(e=this.options).onClick&&e.onClick.apply(e,arguments),this._blockClickActivate||this._swiped||"function"==typeof(t=this.options).onActivate&&t.onActivate.apply(t,arguments),!0},t.prototype.touchstart=function(){var t;return"function"==typeof(t=this.options).onTouchstart&&t.onTouchstart.apply(t,arguments),this._swiped=!1,e.elem.bind(document,"touchmove",this.touchmove),e.elem.bind(document,"touchend",this.touchend),!0},t.prototype.touchmove=function(){var t;return e.timeout(this.uuid+".hide_overlay_later",this.hideOverlay,300),this._swiped=!0,"function"==typeof(t=this.options).onTouchmove&&t.onTouchmove.apply(t,arguments),!0},t.prototype.touchend=function(){var t,i;return e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),"function"==typeof(t=this.options).onTouchend&&t.onTouchend.apply(t,arguments),this._swiped||("function"==typeof(i=this.options).onActivate&&i.onActivate.apply(i,arguments),this.blockClickActivateTemporarily()),this._swiped=!1,!0},t.prototype.blockClickActivateTemporarily=function(){return this._blockClickActivate=!0,e.timeout(this.uuid+".block_click_activate",function(e){return function(){return e._blockClickActivate=!1}}(this),350)},t.prototype.hide=function(){return this.elem.style.display="none"},t.prototype.show=function(){return this.elem.style.display="block"},t.prototype.isBakeryThumbnail=function(){return!this.isNonBakeryThumbnail()},t.prototype.isNonBakeryThumbnail=function(){return 1===this.options.images.length&&!e.Player.isBakeryUrl(this.options.images[0].url)},t.prototype.bestImage=function(t){var i,n,r,o,s,a;if(null==t&&(t=!1),a=this.sortedImages(),i=Math.max(e.elem.width(this.img),e.elem.width(this.container)),n=(window.devicePixelRatio||1)*i,!t){if(n<=a[0].width)return a[0];for(r=0,s=a.length;r<s;r++)if(o=a[r],o.width>=n)return o}return a[a.length-1]},t.prototype.sortedImages=function(){var t,i;return null!=this._sortedImages?this._sortedImages:this._sortedImages=function(){var n,r,o,s;for(o=this.options.images.sort(function(e,t){return e.width-t.width}),s=[],n=0,r=o.length;n<r;n++)i=o[n],t=e.obj.clone(i),t.aspect=t.width/t.height,s.push(t);return s}.call(this)},t.prototype.quickPreload=function(t){var i,n,r;return null==this._quickPreloads&&(this._quickPreloads={}),this._quickPreloads[t]?this._quickPreloads[t]:(this._quickPreloads[t]=r=new e.StopGo,n=new Image,i=function(t){return function(){if(e.elem.unbind(n,"load",i),e.elem.unbind(n,"error",i),e.elem.inDom(t.container))return e.clearTimeouts(t.uuid+".long_still_load"),r.go(n)}}(this),e.elem.bind(n,"load",i),e.elem.bind(n,"error",i),e.timeout(this.uuid+".long_still_load",i,1e3),n.src=t,r)},t.prototype.surePreload=function(t,i){var n,r;return r=new Image,n=function(t){return function(){if(e.elem.unbind(r,"load",n),e.clearTimeouts(t.uuid+".long_still_load"),e.elem.inDom(t.container))return"function"==typeof i?i(r):void 0}}(this),e.elem.bind(r,"load",n),r.src=t},t.prototype.loadImageFirstTimeAndGetDimensions=function(){var t;return t=this.bestImage(),this.quickPreload(t.url).then(function(i){return function(n){if(e.elem.style(n,{visibility:"hidden",position:"absolute"}),e.elem.append(document.body,n),i._customHeight=e.elem.height(n),i._customWidth=e.elem.width(n),i._customAspect=i._customWidth/i._customHeight,e.elem.remove(n),i._sortedImages=null,i.elem&&i.img)return e.elem.append(i.elem,i.img),i.img.src=t.url,i.fitWithoutReload(),i.loaded(!0)}}(this))},t.prototype.loadImageFirstTime=function(){var t;return t=this.bestImage(),this.quickPreload(t.url).then(function(i){return function(){if(i.elem&&i.img)return e.elem.append(i.elem,i.img),i.img.src=t.url,i.fitWithoutReload(),i.loaded(!0)}}(this))},t.prototype.loadImageAtProperSize=function(){var e;return e=this.bestImage(),this.surePreload(e.url,function(t){return function(){if(t.elem&&t.img)return t.img.src=e.url,t.fitWithoutReload()}}(this))},t.prototype.createElem=function(){return e.elem.fromObject({id:this.uuid,tabindex:this.options.tabbable?"0":"-1",style:{cursor:"default",display:"block",height:"100%",overflow:"hidden",outline:"none",position:"relative",width:"100%"}})},t.prototype.createImg=function(){return e.elem.fromObject({tagName:"img",id:this.uuid+"_img",alt:this.getAltTextValue(),style:{border:0,display:"block",float:"none",height:"100%",margin:0,maxHeight:"none",maxWidth:"none",padding:0,position:"absolute",width:"100%"}})},t.prototype.getAltTextValue=function(){var e,t;return e="Wistia video thumbnail",t=null!=this.options.name?" - "+this.options.name:"",e+t},t.prototype.createOverlay=function(){var t,i;return t=e.elem.fromObject({id:this.uuid+"_overlay",style:{border:0,display:"block",float:"none",height:"100%",margin:0,maxWidth:"none",padding:0,pointerEvents:"none",position:"absolute",width:"100%"}}),e.detect.browser.msie&&(e.detect.browser.version<9||e.detect.browser.quirks)?(i=new e.Color(0,0,0).alpha(.5).toIeGradient(),e.elem.style(t,{filter:i})):e.elem.style(t,{backgroundColor:"rgba(0,0,0,.5)"}),t},t.prototype.showOverlay=function(){return e.elem.append(this.elem,this.overlay)},t.prototype.hideOverlay=function(){return e.elem.remove(this.overlay)},t.prototype.containerWidth=function(){return e.elem.width(this.container)},t.prototype.containerHeight=function(){return e.elem.height(this.container)},t.prototype.containerAspect=function(){return this.containerWidth()/this.containerHeight()},t.prototype.fitStrategy=function(e){return null!=e?(this.options.fitStrategy=e,this.fit()):/^cropfill|letterbox$/.test(this.options.fitStrategy)?this.options.fitStrategy:"letterbox"},t.prototype.fit=function(){return this.fitWithoutReload(),this.loadImageAtProperSize()},t.prototype.fitWithoutReload=function(){var t;return e.elem.style(this.elem,{height:this.containerHeight()+"px",width:this.containerWidth()+"px"}),"cropfill"===this.fitStrategy()?this.cropFillFit():this.letterboxFit(),null!=(t=this.bigPlayButton)?t.fit():void 0},t.prototype.stretchLimit=function(){return null!=this.options.stretchLimit?this.options.stretchLimit:10},t.prototype.cropFillFit=function(){var t,i,n,r,o,s,a,l,u,c;return t=this._customAspect||this.bestImage().aspect,r=this.containerWidth(),n=this.containerHeight(),i=this.containerAspect(),!1===this.options.stillSnap?(s=r,o=n):i>t?(s=r,o=Math.round(s/t)):i<=t&&(o=n,s=Math.round(o*t)),c=n-o,l=r-s,u=Math.round(c/2),a=Math.round(l/2),Math.abs(2*u)<=this.stretchLimit()&&(u=0,o=n),Math.abs(2*a)<=this.stretchLimit()&&(a=0,s=r),e.elem.isHidden(this.elem)||!e.elem.inDom(this.elem)?(e.elem.style(this.img,{height:"100%",width:"100%"}),a=u=0):e.elem.style(this.img,{height:o+"px",width:s+"px"}),e.elem.style(this.img,{border:0,left:a+"px",top:u+"px"})},t.prototype.letterboxFit=function(){var t,i,n,r,o,s,a,l,u,c,d,h,p,f,m;return t=this._customAspect||this.bestImage().aspect,s=this.containerWidth(),o=this.containerHeight(),r=this.containerAspect(),!1===this.options.stillSnap?(u=s,l=o):r>t?(l=o,u=Math.round(l*t)):r<=t&&(u=s,l=Math.round(u/t)),m=Math.max(0,o-l),p=Math.max(0,s-u),f=Math.round(m/2),h=Math.round(p/2),d=n=f,a=c=h,2*n<=this.stretchLimit()&&(n=0,d=0,l=o),2*a<=this.stretchLimit()&&(a=0,c=0,u=s),i=this.options.backgroundColor||"#000","transparent"===i||new e.Color(i).alpha(.8).toRgbaOrHex(),e.elem.isHidden(this.elem)||!e.elem.inDom(this.elem)?(e.elem.style(this.img,{height:"100%",width:"100%"}),d=n=c=0):e.elem.style(this.img,{height:l+"px",width:u+"px"}),e.elem.style(this.img,{borderTop:d+"px solid "+i,borderBottom:n+"px solid "+i,borderLeft:a+"px solid "+i,borderRight:c+"px solid "+i,left:0,top:0})},t}())}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=[].slice;!function(e){var t,o,s,a,l;s=e,s.Player||(a=i(46),o=i(76),t=i(11),s.Player=function(){function l(e){this.publicApi=e,this.finishWaitingLoop=n(this.finishWaitingLoop,this),this.masterM3u8Asset=n(this.masterM3u8Asset,this),this._percentWatchedThreshold=n(this._percentWatchedThreshold,this),this.uuid=s.seqId(),this.info("constructor"),this.chrome=this.publicApi.chrome,this.transferFacadeProperties(),this.ready=new s.StopGo,this.hasData=new s.StopGo,this.embedded=new s.StopGo,this.commandQueueOpen=new s.StopGo,this.hasData(!0),this.commandQueueOpen(!0),this.playing=new s.StopGo,this.notFullscreen=new s.StopGo,this.plugin||(this.plugin={}),this.resetStateVariables(),this.setupPercentTracking(),this._recordFirstEmbedIfEligible()}return l.FAILED=-1,l.QUEUED=0,l.PROCESSING=1,l.READY=2,l.prototype.init=function(){return this.setupPipedreamTracking(),this},l.prototype.transferFacadeProperties=function(){var e,t,i,n,r;for(n="_attrs\n_embedContainer\n_givenOptions\n_hashedId\n_mediaData\n_opts\n_originalMediaData\nchrome\ncontainer\ndata\ndown\nfullscreenContainer\nup".split(/[\n\s]+/),r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(this[i]=this.publicApi[i]);return r},l.prototype.elem=function(){return null},l.prototype.embed=function(){throw new Error("Define in subclass!")},l.prototype.checkForReady=function(){throw new Error("Define in subclass!")},l.prototype.setupGrid=function(){return this.grid||(this.grid=s.createGrid(this),s.elem.append(this.chrome,this.grid.root)),this.grid},l.prototype.placeEmbed=function(e){var t;return t=this._opts.subContainer?this._embedContainer:this.grid.center,this.info("placeEmbed",t,e),this.wrapperElem=s.elem.fromObject({id:s.seqId("wistia_video_wrapper_"),style:s.generate.relativeBlockCss()}),s.elem.style(this.wrapperElem,{overflow:"hidden"}),s.elem.append(t,this.wrapperElem),"string"==typeof e?this.wrapperElem.innerHTML+=e:s.elem.append(this.wrapperElem,e),this.embedded(function(e){return function(){return e.correctForIntegers()}}(this)),this.ieSizeHack()},l.prototype.stopStreaming=function(){},l.prototype.wipeOutstandingAsyncFunctions=function(){var e;if(this.info("wipeOutstandingAsyncFunctions"),null!=(e=s.eventLoop)&&e.remove(this.uuid),s.clearTimeouts(this.uuid),this._remoteMediaKey)return s.clearTimeouts(this._remoteMediaKey)},l.prototype.resetStateVariables=function(){return this.info("resetStateVariables"),this._lastTimePosition=-1,this._lastState="beforeplay",this._streamSet=!1,this._issuedPlay=!1,this._issuedPause=!1,this._beforePlay=!0,this._hasPlayed=!1,this._waiting=0,this._ended=!1,this.playing(!1)},l.prototype.rebuild=function(e){return null==e&&(e={}),this.info("rebuild"),this.embedded(function(e){return function(){return e.ready(!1),e._oldVideoElem=e.elem(),e.stopStreaming(),s.elem.remove(e.wrapperElem),e.wipeOutstandingAsyncFunctions(),e.embed()}}(this)),this},l.prototype.cdnProtocolAndHost=function(){var e,t;return t=s.url.parse((this.mp4Asset()||this.hlsAsset()||this.flashAsset()).url),e=t.host||"embed-ssl.wistia.com",(t.protocol||s.proto())+"//"+e},l.prototype.cancelFullscreen=function(){return this.info("cancelFullscreen"),this.rebuild()},l.prototype.requestFullscreen=function(){},l.prototype.suspend=function(){return this.publicApi.suspend()},l.prototype.resume=function(){return this.publicApi.resume()},l.prototype.fit=function(){return this.info("fit"),s.detect.browser.old&&(this._embedContainer.style.width=this._opts.videoWidth+"px",this._embedContainer.style.height=this._opts.videoHeight+"px"),this._opts.dontFit||(this.grid.root.style.height=s.elem.height(this.chrome)+"px",this.grid.root.style.width=s.elem.width(this.chrome)+"px"),s.grid.fitVertical(this),s.grid.fitHorizontal(this),this.correctForIntegers(),this.ieSizeHack()},l.prototype.setupPercentTracking=function(){var e,t,i;if(!this._trackPercent){if("playing"===this.state())for(i=e=0,t=Math.floor(this.time());0<=t?e<t:e>t;i=0<=t?++e:--e)this._logSecondWatched(i);return null==this._trackPercent&&(this._trackPercent=function(e){return function(t){var i;if(i=e.percentWatched(),e._logSecondWatched(t),e.percentWatched()!==i)return e.trigger("percentwatchedchanged",e.percentWatched(),i),e._percentWatchedThreshold(e.percentWatched())}}(this)),this.rebind("secondchange",this._trackPercent)}},l.prototype._percentWatchedThreshold=function(e){var t,i,n,r,o,s;for(null==this._thresholds&&(this._thresholds=[.25,.5,.75,1]),s=[],n=Math.round(100*e)/100,r=this._thresholds,t=0,i=r.length;t<i;t++)o=r[t],n>=o?this.trigger("percentWatchedThreshold",o):s.push(o);return this._thresholds=s},l.prototype._checkDownState=function(){return this.publicApi._checkDownState()},l.prototype._logSecondWatched=function(e){var t;if(null==this._secondsWatched&&(this._secondsWatched=function(){var e,i,n;for(n=[],t=e=0,i=Math.floor(this.duration());0<=i?e<i:e>i;t=0<=i?++e:--e)n.push(0);return n}.call(this)),null==this._totalWatched&&(this._totalWatched=0),null==this._totalRewatched&&(this._totalRewatched=0),!(e>=this._secondsWatched.length))return this._secondsWatched[e]+=1,1===this._secondsWatched[e]?this._totalWatched+=1:this._totalRewatched+=1},l.prototype.percentWatched=function(){return this.secondsWatched()/Math.floor(this.duration())},l.prototype.secondsWatched=function(){return this._totalWatched||0},l.prototype.secondsWatchedVector=function(){return this._secondsWatched},l.prototype._isOnWistia=function(){return this._opts._inIframe?!!document.referrer.match(/wistia\.(dev|st|com)/):!!window.location.href.match(/wistia\.(dev|st|com)/)},l.prototype._isLoggedIn=function(){var e;return null!=(e=document.getElementsByTagName("body")[0])?e.classList.contains("logged_in"):void 0},l.prototype._isShared=function(){return this._isOnWistia()&&!this._isLoggedIn()},l.prototype._isExternallyEmbedded=function(){return!this._isOnWistia()},l.prototype._recordFirstEmbedIfEligible=function(){var t,n,r;if(this._mediaData.firstEmbedForAccount||this._mediaData.firstShareForAccount)return t=i(10).appHost,r=s.url.proto()+"//"+t()+"/account/activities",n={account_key:this._mediaData.accountKey,media_hashed_id:this._mediaData.hashedId},this._mediaData.firstEmbedForAccount&&this._isExternallyEmbedded()?(n.first_embed=this._isExternallyEmbedded(),e.remote.post(r,{data:s.JSON.stringify(n),dataType:"json"})):this._mediaData.firstShareForAccount&&this._isShared()?(n.first_share=this._isShared(),e.remote.post(r,{data:s.JSON.stringify(n),dataType:"json"})):void 0},l.prototype.setupPipedreamTracking=function(){if(!this._opts.flashShim)return this.embedded(function(e){return function(){if(!e._opts.flashShim)return s.timeout(e.uuid+".track-initembed",function(){var t,i,n,r,a;for(s.Metrics.videoCount(e,"player/initembed"),a=s.Metrics.assetBuckets(e),n=0,r=a.length;n<r;n++)i=a[n],s.Metrics.videoCount(e,"player/initembed."+i);return t=o.usablePlayers(e.publicApi.judyCtx(),e.publicApi._mediaData),s.Metrics.videoCount(e,"player/available-players",1,{available_players:t})},100),e.bind("switched-asset-without-load",function(){return this._determineAssetCacheStatus(function(e){return function(){return s.Metrics.videoCount(e,"player/asset/"+e._cacheStatus)}}(this))})}}(this)),this.bind("play",function(e){return function(){var t,i,n,r;for(s.Metrics.videoCount(e,"player/play"),r=s.Metrics.assetBuckets(e),i=0,n=r.length;i<n;i++)t=r[i],s.Metrics.videoCount(e,"player/play."+t);return e.unbind}}(this)),s.Metrics.countEventOnce(this,"enter-fullscreen"),s.Metrics.countEventOnce(this,"end"),s.Metrics.countShowLoadingOnce(this),s.Metrics.countShowLoadingAll(this),s.Metrics.countShowLoadingLongTimeOnce(this),s.Metrics.countShowLoadingLongTimeAll(this),this.bind("secondchange",function(e){return function(){if(e.secondsWatched()>=10)return s.Metrics.videoCount(e,"player/played-10-seconds"),e.unbind}}(this)),this.bind("secondchange",function(e){return function(){if(e.secondsWatched()>=30)return s.Metrics.videoCount(e,"player/played-30-seconds"),e.unbind}}(this))},l.prototype.animate=function(e,t){var i;return null==e&&(e={}),null==t&&(t={}),this.info("animate",e,t),i=t.callback,t.callback=function(e){return function(){return s.elem.style(e.grid.root,{
position:"relative"}),"function"==typeof i?i():void 0}}(this),s.elem.style(this.grid.root,{position:"absolute"}),s.elem.animate(this.grid.root,e,t),this},l.prototype.slide=function(){var e,t,i;return e=arguments[0],i=arguments[1],t=3<=arguments.length?r.call(arguments,2):[],this.animate.apply(this,[{transform:"translate("+e+"px,"+i+"px)"}].concat(r.call(t)))},l.prototype._shortAnimArgs=function(e){return"function"==typeof e[0]?{callback:e[0]}:s.obj.merge({},e[0],{callback:e[1]})},l.prototype.slideOutLeft=function(){var e;return e=this._shortAnimArgs(arguments),s.elem.style(this.grid.root,{transform:"translate(0px, 0px)"}),setTimeout(function(t){return function(){return t.slide(-t.videoWidth(),0,e)}}(this),1),this},l.prototype.slideInLeft=function(e){var t;return t=this._shortAnimArgs(arguments),s.elem.style(this.grid.root,{transform:"translate("+this.videoWidth()+"px, 0px)"}),setTimeout(function(e){return function(){return e.slide(0,0,t)}}(this),1),this},l.prototype.slideOutRight=function(e){var t;return t=this._shortAnimArgs(arguments),s.elem.style(this.grid.root,{transform:"translate(0px, 0px)"}),setTimeout(function(e){return function(){return e.slide(e.videoWidth(),0,t)}}(this),1),this},l.prototype.slideInRight=function(){var e;return e=this._shortAnimArgs(arguments),s.elem.style(this.grid.root,{transform:"translate("+-this.videoWidth()+"px, 0px)"}),setTimeout(function(t){return function(){return t.slide(0,0,e)}}(this),1),this},l.prototype.fade=function(){var e,t,i;return t=arguments[0],e=2<=arguments.length?r.call(arguments,1):[],null==t&&(t=0),(i=s.elem).animate.apply(i,[this.gridChildren(),{opacity:t}].concat(r.call(e)))},l.prototype.fadeIn=function(){var e,t;return t=this._shortAnimArgs(arguments),e=t.callback,t.callback=function(t){return function(){return s.elem.style(t.gridChildren(),{opacity:""}),"function"==typeof e?e():void 0}}(this),s.elem.style(this.gridChildren(),{opacity:0}),setTimeout(function(e){return function(){return e.fade(1,t)}}(this),1)},l.prototype.fadeOut=function(){var e;return e=this._shortAnimArgs(arguments),s.elem.style(this.gridChildren(),{opacity:1}),setTimeout(function(t){return function(){return t.fade(0,e)}}(this),1)},l.prototype.gridChildren=function(){var e,t,i,n,r,o,a,l;a=[],r=this.grid;for(l in r)for(n=r[l],o=n.childNodes,t=0,i=o.length;t<i;t++)e=o[t],s.isGridElem(this.grid,e)||a.push(e);return a},l.prototype.correctForIntegers=function(){var e,t,i,n,r,o,a,l;if(!s.detect.iphone&&!s.detect.ipad&&(i=this.elem(),(null!=i?i.style:void 0)&&/video/i.test(null!=i?i.tagName:void 0)&&(e=this.videoHeight(),t=this.videoWidth(),r=e*this.originalAspect(),n=2*Math.floor(t/this.originalAspect()/2),a=n-e,l=r-t,o=s.detect.firefox&&s.detect.browser.mozilla&&s.detect.browser.version>=36,!s.detect.browser.webkit&&!o)))return 0<a&&a<=6?(this.info("correctForIntegers heightDiff",a),i.style.height="calc(100% + "+Math.ceil(a)+"px)",i.style.width="100%",i.style.left="",i.style.top=a>1?-Math.ceil(a/2)+"px":""):0<l&&l<=6?(this.info("correctForIntegers widthDiff",l),i.style.width="calc(100% + "+Math.ceil(l)+"px)",i.style.height="100%",i.style.top="",i.style.left=l>1?-Math.ceil(l/2)+"px":""):(this.info("correctForIntegers perfect"),i.style.height="100%",i.style.width="100%",i.style.top="",i.style.left="")},l.prototype.remove=function(e){var t,i,n,r,o;if(null==e&&(e={}),this.info("remove"),!1!==e.trigger&&this.trigger("beforeremove"),this.hasData(!1),this.ready(!1),this.embedded(!1),null!=(n=this.engine)&&n.destroy(),this.stopStreaming(),"passwordprotected"!==this.playerType){r=this.plugin;for(i in r)null!=(t=r[i])&&"function"==typeof t.remove&&t.remove()}return(null!=(o=this.grid)?o.root:void 0)&&(s.elem.unbindAllInside(this.grid.root),s.elem.remove(this.grid.root)),this.grid=null,!1!==e.trigger&&this.trigger("down"),!1!==e.trigger&&this.trigger("afterremove"),this.wipeOutstandingAsyncFunctions(),this._bindings={},this.cleanupRefs()},l.prototype.isRemoved=function(){return null===this.grid},l.prototype.cleanupRefs=function(){var e,t,i,n;"function"==typeof this.cleanup&&this.cleanup(),t=this,n=[];for(e in t)t[e],n.push(null!=(i=this[e])&&"function"==typeof i.cleanup?i.cleanup():void 0);return n},l.prototype._baseEventLoopDuration=300,l.prototype._eventLoopDuration=300,l.prototype.canAutoPlay=function(){return!this.suppressPlay()},l.prototype.play=function(){return this.info("play"),this.ready(function(e){return function(){return e.play()}}(this)),this},l.prototype.canPlay=function(){return!this.suppressPlay()},l.prototype.suppressPlay=function(e){return null!=e?(this.info("suppressPlay",e),this._suppressPlay=!!e):this._suppressPlay},l.prototype.videoFoam=function(){var e;return(e=this.publicApi).videoFoam.apply(e,arguments)},l.prototype.pause=function(){return this.info("pause"),this.ready(function(e){return function(){return e.pause()}}(this)),this},l.prototype.time=function(e){return null!=e?(this.info("time",e),this.ready(function(t){return function(){return t.time(e)}}(this)),this):0},l.prototype.state=function(){return"beforeplay"},l.prototype.duration=function(){return this._mediaData.duration||null},l.prototype.volume=function(e){return null!=e?(this.info("volume",e),this.ready(function(t){return function(){return t.volume(e)}}(this))):0},l.prototype.name=function(){return this._mediaData.name||null},l.prototype.hashedId=function(){return this._hashedId},l.prototype.bigPlayButtonEnabled=function(){return this},l.prototype.smallPlayButtonEnabled=function(){return this},l.prototype.playbarControlEnabled=function(){return this},l.prototype.volumeControlEnabled=function(){return this},l.prototype.fullscreenButtonEnabled=function(){return this},l.prototype.setPlayerColor=function(e){return this.playerColor(e),this},l.prototype.playerColor=function(e){var t;return null!=e?(this.info("playerColor",e),t=this._attrs.playerColor,this._attrs.playerColor=s.Player._sanePlayerColor(e),t!==this._attrs.playerColor&&this.trigger("playercolorchange",this._attrs.playerColor,t),this):this._attrs.playerColor},l._sanePlayerColor=function(e){var t,i,n;if(e){if(e=(""+e).replace(/^#/g,""),e.length<6){for(i="",t=0,n=6-e.length;0<=n?t<n:t>n;0<=n?++t:--t)i+="0";e=""+i+e}return/^[\da-f]{6}$/i.test(e)||(e="636155"),e}return"636155"},l.prototype.playbackRate=function(e){return null!=e?this:1},l.prototype.width=function(e,t){var i,n,r,o,a;return null==t&&(t={}),null!=e?(this.info("width",e,t),e=parseInt(e,10),i=this.width(),this.grid.wrapper.style.width=this.chrome.style.width=e+"px",t.dontChangeContainer||(this._embedContainer.style.width=e+"px"),this.grid.center.style.width="100%","flash"===this.embedType&&null!=(n=this.elem())&&(n.style.width="100%"),this._opts.dontFit?(this.grid.main.style.width=e-s.elem.width(this.grid.left)-s.elem.width(this.grid.right)+"px",this.grid.main.style.marginLeft=s.elem.width(this.grid.left)+"px"):(s.grid.fitHorizontal(this),s.grid.fitVertical(this)),e!==i&&this.trigger("widthchange",e,i),t.constrain&&this.constrainToWidth(),this._width=e,this.correctForIntegers(),this.ieSizeHack(),this):(s.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="absolute"),a=s.elem.width(this.grid.left)+s.elem.width(this.grid.center)+s.elem.width(this.grid.right),s.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="static"),a)},l.prototype.height=function(e,t){var i,n,r,o,a;return null==t&&(t={}),null!=e?(this.info("height",e,t),e=parseInt(e,10),i=this.height(),this.grid.wrapper.style.height=this.chrome.style.height=e+"px",t.dontChangeContainer||(this._embedContainer.style.height=e+"px"),this.grid.center.style.height="100%","flash"===this.embedType&&null!=(n=this.elem())&&(n.style.height="100%"),this._opts.dontFit?(this.grid.main.style.height=e-s.elem.height(this.grid.above)-s.elem.height(this.grid.below)+"px",this.grid.main.style.marginTop=s.elem.height(this.grid.top)+"px"):(s.grid.fitHorizontal(this),s.grid.fitVertical(this)),e!==i&&this.trigger("heightchange",e,i),t.constrain&&this.constrainToHeight(),this.correctForIntegers(),this.ieSizeHack(),this):(s.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="absolute"),a=s.elem.height(this.grid.center)+Math.max(s.elem.height(this.grid.above),s.elem.height(this.grid.top))+Math.max(s.elem.height(this.grid.below),s.elem.height(this.grid.bottom)),s.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="static"),a)},l.prototype.videoWidth=function(e,t){var i,n,r,o,a;return null==t&&(t={}),null!=e?(this.info("videoWidth",e,t),e=parseInt(e,10),n=this.width(),this.grid.center.style.width="100%",this.grid.main.style.width=e+"px",i=s.elem.width(this.grid.left)+s.elem.width(this.grid.right),this.grid.wrapper.style.width=this.chrome.style.width=e+i+"px",t.dontChangeContainer||(this._embedContainer.style.width=e+i+"px"),s.grid.fitHorizontal(this),s.grid.fitVertical(this),e!==n&&this.trigger("widthchange",e,n),t.constrain&&this.constrainToWidth(),this.correctForIntegers(),this.ieSizeHack(),this):(s.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="absolute"),a=s.elem.width(this.grid.center),s.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="static"),a)},l.prototype.videoHeight=function(e,t){var i,n,r,o,a,l,u;return null==t&&(t={}),null!=e?(this.info("videoHeight",e,t),e=parseInt(e,10),r=this.height(),this.grid.main.style.height=e+"px",this.grid.center.style.height="100%",this.grid.main.style.height=e+"px",s.detect.browser.ltie8&&s.grid.zeroEmptySections(this),u=Math.max(s.elem.height(this.grid.above),s.elem.height(this.grid.top)),i=Math.max(s.elem.height(this.grid.below),s.elem.height(this.grid.bottom)),n=u+i,this.grid.wrapper.style.height=this.chrome.style.height=e+n+"px",t.dontChangeContainer||(this._embedContainer.style.height=e+n+"px"),s.grid.fitHorizontal(this),s.grid.fitVertical(this),e!==r&&this.trigger("heightchange",e,r),t.constrain&&this.constrainToHeight(),this.correctForIntegers(),this.ieSizeHack(),this):(s.detect.browser.old&&this.elem&&null!=(o=this.elem())&&(o.style.position="absolute"),l=s.elem.height(this.grid.center),s.detect.browser.old&&this.elem&&null!=(a=this.elem())&&(a.style.position="static"),l)},l.prototype.constrainToHeight=function(){return this.videoWidth(this.widthForHeight(this.videoHeight()))},l.prototype.constrainToWidth=function(){return this.videoHeight(this.heightForWidth(this.videoWidth()))},l.prototype.extraHeight=function(){var e,t;return t=Math.max(s.elem.height(this.grid.above),s.elem.height(this.grid.top)),e=Math.max(s.elem.height(this.grid.below),s.elem.height(this.grid.bottom)),t+e},l.prototype.extraWidth=function(){return s.elem.width(this.grid.left)+s.elem.width(this.grid.right)},l.prototype.heightForWidth=function(e){return Math.round(e/this.aspect())},l.prototype.widthForHeight=function(e){return Math.round(e*this.aspect())},l.prototype.aspect=function(){var e;return this._opts.aspect?this._opts.aspect:this._currentAsset?"variable"===this._currentAsset.width?this.mp4Aspect()||this.originalAspect():this._currentAsset.width/this._currentAsset.height:(e=this.asset({container:/mp4|flv/}))?e.width/e.height:640/360},l.prototype.mp4Aspect=function(){var e;return(e=this.mp4Asset({width:640})||this.mp4Asset({width:960})||this.mp4Asset())?e.width/e.height:null},l.prototype.originalAspect=function(){return this.originalAsset()?this.originalAsset().width/this.originalAsset().height:this.bestAsset().width/this.bestAsset().height},l.prototype.ieSizeHack=function(){s.detect.browser.msie&&("function"==typeof this.elem?this.elem():void 0)&&(this.info("ieSizeHack"),this.elem().offsetLeft%2==0?this.elem().style.width=this.videoWidth()+1+"px":this.elem().style.width="100%")},l.prototype.inFullscreen=function(){return!1},l.prototype.savePlatformPreference=function(e){return this.info("savePlatformPreference",e),s.localStorage("platformPreference",e)},l.prototype.visitorKey=function(){return this._tracker.visitorKey()},l.prototype.eventKey=function(){return this._tracker.eventKey()},l.prototype.getVisitorKey=function(){return this.visitorKey()},l.prototype.getEventKey=function(){return this.eventKey()},l.prototype.disableTextTracks=function(){return this.info("disableTextTracks"),null==this._disableTextTracks&&(this._disableTextTracks=function(e){return function(){var t,i,n,r,o,s;if(null!=(n=e.elem())?n.textTracks:void 0){for(r=e.elem().textTracks,o=[],t=0,i=r.length;t<i;t++)s=r[t],o.push(s.mode="disabled");return o}}}(this)),this.rebind("play",this._disableTextTracks)},l.prototype.sdAsset=function(){throw new Error("Implement in subclass!")},l.prototype.mdAsset=function(){throw new Error("Implement in subclass!")},l.prototype.hdAsset=function(){throw new Error("Implement in subclass!")},l.assets=t.filter,l.asset=t.one,l.assetsWithinQualityRange=t.withinQualityRange,l.stillUrl=t.stillUrl,l.bakeryHosts=function(){return t.BAKERY_HOSTS},l.isBakeryUrl=t.isBakeryUrl,l.stillAsset=t.still,l.prototype.stillUrl=function(e){var i,n;return e=s.obj.merge({videoWidth:this.grid?this.videoWidth():null,videoHeight:this.grid?this.videoHeight():null},this._opts,e),e.playerColor||(e.playerColor=null!=(i=this._mediaData)&&null!=(n=i.embed_options)?n.playerColor:void 0),t.stillUrl(this._mediaData.assets,e)},l.prototype.stillAsset=function(){return t.still(this._mediaData.assets)},l.prototype.thumbnailAssets=function(){var e,t,i,n,r,o,s,a,l;if(this._opts.stillUrl)return[{height:null,url:this._opts.stillUrl,width:null}];for(o=this.stillAsset(),s=o.width/o.height,n=[320,640,960,1280,1920,3840],r=[],t=0,i=n.length;t<i;t++)l=n[t],e=Math.round(l/s),a=this.stillUrl({videoWidth:l,videoHeight:e,playButton:!1}),r.push({height:e,url:a,width:l});return r},l.prototype.changeStill=function(e,t){var i;return null==t&&(t={}),i=new Image,i.src=e,i.style.visibility="hidden",i.style.position="absolute",s.elem.append(document.body,i),i.onload=function(t){return function(){var n,r;return r=s.elem.width(i),n=s.elem.height(i),s.elem.remove(i),t._newStill={type:"still_image",url:e,width:r,height:n,bitrate:0,status:s.Player.READY,created_at:(new Date).getTime()},t._replaceStillAsset(t._newStill),t.rebuild()}}(this)},l.prototype._replaceStillAsset=function(e){var t,i;return i=function(){var e,i,n,r;for(n=this.assets(),r=[],e=0,i=n.length;e<i;e++)t=n[e],"still_image"!==t.type&&r.push(t);return r}.call(this),this._mediaData.assets=i,this._mediaData.assets.push(e)},l.prototype._refreshDataFromServer=function(e,t){return s.remote.ajax("//"+s.remote.embedHost()+"/embed/medias/"+this.hashedId()+".json",{dataType:"json",fallbackToJsonp:!0,jsonpCallback:"wistia_jsonp_refresh_"+this.hashedId(),success:function(t){return function(i,n,r){return t._originalMediaData=i.media,t._mediaData=t.publicApi._transformMediaData(i.media),t._newStill&&t._replaceStillAsset(t._newStill),t.publicApi._mediaData=t._mediaData,s.cacheMedia(t.hashedId(),t._mediaData),"function"==typeof e&&e(),t.trigger("refreshed-from-server")}}(this),error:t})},l.prototype.assets=function(e){return t.filter(this._mediaData.assets,e)},l.prototype.asset=function(e){var t;return"string"==typeof arguments[0]?(t=arguments[0]+"Asset",e=arguments[1],this[t](e)):(e=arguments[0],this.assets(e)[0]||null)},l.prototype.mp4Asset=function(e){return t.mp4(this._mediaData.assets,e)},l.prototype.qualityOptions=function(){return{qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax}},l.prototype.mp4AssetInRange=function(e){return null==e&&(e={}),t.mp4(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},l.prototype.webmAsset=function(e){return t.webm(this._mediaData.assets,e)},l.prototype.webmAssetInRange=function(e){return null==e&&(e={}),t.webm(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},l.prototype.playableAsset=function(e){return t.playable(this._mediaData.assets,e)},l.prototype.playableAssetInRange=function(e){return null==e&&(e={}),t.playable(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},l.prototype.flashAsset=function(e){return t.flv(this._mediaData.assets,e)},l.prototype.flashAssetInRange=function(e){return null==e&&(e={}),t.flv(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},l.prototype.hlsAsset=function(e){return t.m3u8(this._mediaData.assets,e)},l.prototype.hlsAssetInRange=function(e){return null==e&&(e={}),t.m3u8(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},l.prototype.isScreencast=function(){return t.isScreencast(this._mediaData.assets)},l.prototype.originalAsset=function(){return this._original||(this._original=t.original(this._mediaData.assets))},l.prototype.iphoneAsset=function(e){return null==e&&(e={}),this._iphoneAsset||(this._iphoneAsset=t.iphone(this._mediaData.assets,e))},l.prototype.iphoneAssetInRange=function(e){return null==e&&(e={}),t.iphone(this._mediaData.assets,s.obj.merge(this.qualityOptions(),e))},l.prototype.masterM3u8Asset=function(){var e;return null!=(null!=(e=this.hlsAssetsBySegmentDuration())?e[3]:void 0)?{bitrate:"variable",ext:"m3u8",height:"variable",public:!0,size:"variable",type:"hls_video",url:s.detect.browser.msie?this.masterM3u8Url():this.masterM3u8DataURI(),width:"variable",slug:"hls_master_m3u8_seg3s"}:null},l.prototype.orderedM3u8Assets=function(){var e;return e=this.assets({container:"m3u8",segment_duration:3,type:"hls_video",status:s.Player.READY,metadata:function(e){return e.max_bitrate}}).sort(function(e,t){return(e.metadata.max_bitrate||0)-(t.metadata.max_bitrate||0)}),0!==this._opts.qualityMin&&(e=a(e,function(e){return function(e){return"Audio"!==e.display_name}}())),e},l.prototype.masterM3u8ContentFromAssets=function(){var e,t,i,n,r,o,s;for(s=this.orderedM3u8Assets(),i="#EXTM3U",n=[],r=0,o=s.length;r<o;r++)e=s[r],t=8*e.metadata.max_bitrate,n.push("#EXT-X-STREAM-INF:PROGRAM-ID=1,CLOSED-CAPTIONS=NONE,BANDWIDTH="+t+",NAME="+e.display_name+"\n"+e.url);return i+"\n"+n.join("\n")},l.prototype.masterM3u8DataURI=function(){return"data:application/x-mpegURL;base64,"+s.base64.encode(this.masterM3u8ContentFromAssets())},l.prototype.masterM3u8Url=function(){var e;return e=0===this._opts.qualityMin,s.proto()+"//"+s.remote.embedHost()+"/embed/medias/"+this.hashedId()+".m3u8?segment_duration=3&exclude_audio="+!e},l.prototype.chooseHlsAsset=function(){var e,t,i,n,r;return i=this.hlsAssetsBySegmentDuration(),t=function(){var t,o,s,a;for(s=function(){var e;e=[];for(n in i)r=i[n],e.push(parseInt(n,10));return e}(),a=[],t=0,o=s.length;t<o;t++)e=s[t],isNaN(e)||a.push(e);return a}().sort(function(e,t){return e-t}),0===t.length?{useHls:!1}:{useHls:!0,segmentDuration:t[0]}},l.prototype.hlsAssetsBySegmentDuration=function(){var e,t,i,n,r,o,a,l;for(n={},i=this.assets({container:"m3u8",qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax,status:s.Player.READY}),0!==this._attrs.qualityMin&&(i=function(){var t,n,r;for(r=[],t=0,n=i.length;t<n;t++)e=i[t],"Audio"!==e.display_name&&r.push(e);return r}()),0===i.length&&(i=this.assets({container:"m3u8",status:s.Player.READY}),0!==this._attrs.qualityMin&&(i=function(){var t,n,r;for(r=[],t=0,n=i.length;t<n;t++)e=i[t],"Audio"!==e.display_name&&r.push(e);return r}()),i=this.nearestAssetsOutsideRange(i,this._attrs.qualityMin,this._attrs.qualityMax)),r=0,o=i.length;r<o;r++)t=i[r],null!=(null!=(l=t.metadata)?l.max_bitrate:void 0)&&null!=t.segment_duration&&(null!=n[a=t.segment_duration]?n[a]:n[a]=[]).push(t);return n},l.prototype.nearestAssetsOutsideRange=function(e,t,i){var n,r,o,a,l,u,c,d;if(0===e.length)return[];for(c=function(){var t,i,r;for(r=[],t=0,i=e.length;t<i;t++)n=e[t],r.push(n);return r}().sort(function(e,t){return s.util.numericAssetSizeSnapped(e.width,e.height)-s.util.numericAssetSizeSnapped(t.width,t.height)}),c[0],c[c.length-1],o=0,a=c.length;o<a;o++)if(n=c[o],r=s.util.numericAssetSizeSnapped(n.width,n.height),r>=t||(l=n),r>=i){d=n;break}return u=function(){var e,t,i,r;for(i=[l,d],r=[],e=0,t=i.length;e<t;e++)(n=i[e])&&r.push(n);return r}(),0===u.length&&(this.error("nearestAssetsOutsideRange: no nearby assets found, using first in list",c[0]),u=[c[0]]),u},l.prototype.smallestNormalMp4Asset=function(e){return e=s.obj.merge({sortBy:"width asc",width:[640,1920]},e),this._smallestNormalMp4||(this._smallestNormalMp4=this.mp4Asset(e))},l.prototype.properAssetUrl=function(e,t){return null==t&&(t="mp4"),/\.bin$/.test(e)?e.replace(/\.bin$/,"")+"/file."+t:e},l.prototype._determineAssetCacheStatus=function(e){this.info("_determineAssetCacheStatus")},l.prototype.looksDown=function(){return this.publicApi.looksDown()},l.prototype.looksUp=function(){return this.publicApi.looksUp()},l.prototype.trim=function(e){return null!=e?this._trimSettings=e:this._trimSettings||{start:0,end:-1}},l.prototype.setupWaitingDetection=function(){var e,t;if(null==this._waiting&&(this._waiting=-1),t=this.elem(),"html5"!==this.playerType||t._wistiaSetupWaitingDetection||(e=!1,t._wistiaSetupWaitingDetection=!0,s.elem.bind(t,"waiting",function(){return e=!0,s.elem.unbind})),"vulcan"!==this.playerType)return s.eventLoop.add(this.uuid+".detect_waiting",this._eventLoopDuration,function(t){return function(){var i,n;return n=e&&"beforeplay"===t.state()||"playing"===t.state(),i="playing"===t._lastState||"beforeplay"===t._lastState,n&&i&&(-1===t._lastTimePosition||t.time()===t._lastTimePosition)?(t._waiting,t._startedWaitingAt?(t._waiting=((new Date).getTime()-t._startedWaitingAt)/1e3,t.trigger("waiting",t._waiting)):(t._startedWaitingAt=(new Date).getTime(),t._waiting=0,t.trigger("waiting",t._waiting),t.rebind("timechange",t.finishWaitingLoop))):t.finishWaitingLoop()}}(this))},l.prototype.finishWaitingLoop=function(){var e;return e=this._waiting,this._waiting=-1,this._startedWaitingAt=null,null!=e&&e>=0&&this.trigger("done-waiting",e),this.unbind},l}(),s.mixin(s.Player.prototype,s.bindable),s.mixin(s.Player.prototype,s.logHelpers),s.Player.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||"no hashedId",null!=(e=this._embedContainer)?e.id:void 0,this.uuid]},l=s.Player.prototype.trigger,s.Player.prototype.trigger=function(){var e,t;return e=1<=arguments.length?r.call(arguments,0):[],l.apply(this,e),(t=this.publicApi).trigger.apply(t,arguments)},s.Video=s.Player)}(Wistia)},function(e,t,i){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=i(61),function(e){e.VideoTracker2||(e.VideoTracker2=function(){function t(t){this.publicApi=t,this.onLookChange=r(this.onLookChange,this),this.resendAllFailedEvents=r(this.resendAllFailedEvents,this),this.retrySendingFailedEvent=r(this.retrySendingFailedEvent,this),this.eventQueue=[],this.clockStart=(new Date).getTime(),this.isIE=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/),this.initializedOnce=!1,this.monitoring=!1,this.publicApi.hasData(function(t){return function(){t.params=e.extend({transmitInterval:1e3*(t.publicApi._mediaData.trackingTransmitInterval||10)},t.publicApi._opts),t.publicApi._attrs.shouldTrack}}(this))}return t.prototype.conversions={"missing-conversion":0,"pre-roll-email":1,"post-roll-email":2,"mid-roll-email":3,"post-roll-click":4,"mid-roll-click":5,"non-video":6},t.prototype._getAccountKey=function(){return this.publicApi._opts.accountKey||this.publicApi._mediaData.accountKey},t.prototype._data=function(){var t;return t={account_key:this._getAccountKey(),session_id:this.visitorKey(),media_id:this.publicApi._mediaData.mediaKey,event_key:this.eventKey(),media_duration:parseFloat(this.publicApi._mediaData.duration),visitor_version:this._getVisitorVersion(),referrer:this.publicApi._attrs.pageUrl,event_details:this.eventQueue,foreign_data:this.publicApi.foreignData()},this.publicApi.email()&&(t.email=this.publicApi.email()),this.publicApi._opts.anonymizeIp&&(t.anonymizeIp=!0),this.params.conversionType&&(t.conversion_type=this.conversions[this.params.conversionType]),this.params.conversionData&&(t.conversion_data=this.params.conversionData),e.JSON.stringify(t)},t.prototype._secondsSinceTime=function(e){return e?Math.round(((new Date).getTime()-e)/1e3):null},t.prototype.nullToNone=function(e){return null===e?"none":e},t.prototype.lastLoadForAccount=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("accounts_loaded."+this._getAccountKey())))},t.prototype.lastLoadForMedia=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("medias_loaded."+this.publicApi.hashedId())))},t.prototype.lastPlayForAccount=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("accounts_played."+this._getAccountKey())))},t.prototype.lastPlayForMedia=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("medias_played."+this.publicApi.hashedId())))},t.prototype.lastRecordingOfActionForMedia=function(e){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("action_recorded."+this.publicApi.hashedId()+"."+e)))},t.prototype.recordLastActionForMedia=function(e){return Wistia.localStorage("action_recorded."+this.publicApi.hashedId()+"."+e,(new Date).getTime())},t.prototype.recordLoad=function(){return this.publicApi.info("recordLoad"),Wistia.localStorage("accounts_loaded."+this._getAccountKey(),(new Date).getTime()),Wistia.localStorage("medias_loaded."+this.publicApi.hashedId(),(new Date).getTime())},t.prototype.recordPlay=function(){return this.publicApi.info("recordPlay"),Wistia.localStorage("accounts_played."+this._getAccountKey(),(new Date).getTime()),Wistia.localStorage("medias_played."+this.publicApi.hashedId(),(new Date).getTime())},t.prototype.isValidKey=function(e){return(null!=e?e.length:void 0)>25&&/^[a-z0-9_\-\.]+$/i.test(e)},t.prototype._saveVisitorVersion=function(e){if(null==e&&(e=1),null==Wistia.localStorage("visitor_version"))return Wistia.localStorage("visitor_version",e)},t.prototype._getVisitorVersion=function(){return Wistia.localStorage("visitor_version")||(this._saveVisitorVersion(0),0)},t.prototype.reset=function(){return this.stopMonitoring(),this.initializedOnce=!1,this._eventKey=null},t.prototype.initialize=function(){return this.initializedOnce||(this.publicApi.info("video tracker initialize"),this._lastLoadForAccount=this.lastLoadForAccount(),this._lastLoadForMedia=this.lastLoadForMedia(),this._lastPlayForAccount=this.lastPlayForAccount(),this._lastPlayForMedia=this.lastPlayForMedia(),this._failedEventsQueue=[],this._retryTimer=null,this._retryInterval=1e3,this.initializedOnce=!0,this.log("initialized"),this.recordLoad(),this.debounceTransmit()),this},t.prototype.monitor=function(){return this.publicApi.embedded(function(t){return function(){return t.stopMonitoring(),t.publicApi.info("_tracker.monitor"),t.initialize(),null==t.onPlaybackRateChange&&(t.onPlaybackRateChange=function(e){return t.log("playbackRateChange",null,e)}),null==t.onPlay&&(t.onPlay=function(){if(t.log("play"),t._logCurrentCameraPosition(),t.recordPlay(),!t._played)return t._played=!0,t.debounceTransmit()}),null==t.onPause&&(t.onPause=function(){if(Math.abs(t.publicApi.duration()-t.publicApi.time())>.3)return t.log("pause")}),null==t.onEnd&&(t.onEnd=function(){return t.log("end"),t._logCurrentCameraPosition(),t.transmit()}),null==t.onSeek&&(t.onSeek=function(e,i){if(Math.abs(i-e)>=5)return t.log("seek")}),null==t.onPercentWatchedThreshold&&(t.onPercentWatchedThreshold=function(e){return t.log("percentWatchedThreshold",null,e),t.transmit()}),t.monitoring=!0,t.publicApi.rebind("play",t.onPlay),t.publicApi.rebind("pause",t.onPause),t.publicApi.rebind("end",t.onEnd),t.publicApi.rebind("seek",t.onSeek),t.publicApi.rebind("playbackratechange",t.onPlaybackRateChange),t.publicApi.rebind("percentWatchedThreshold",t.onPercentWatchedThreshold),t.monitorCameraPosition(),"playing"===t.publicApi.state()&&t.onPlay(),e.timeout(t.publicApi.uuid+".start_tracking_timeout",function(){return t.publicApi.info("_tracker start tracking_loop"),e.eventLoop.add(t.publicApi.uuid+".tracking_loop",t.params.transmitInterval,function(){return"playing"===t.publicApi.state()&&t.log("update"),t.transmit()})},Math.random()*t.params.transmitInterval+1e3)}}(this))},t.prototype.stopMonitoring=function(){return this.publicApi.info("_tracker.stopMonitoring"),this.monitoring=!1,this.onPlay&&this.publicApi.unbind("play",this.onPlay),this.onPause&&this.publicApi.unbind("pause",this.onPause),this.onEnd&&this.publicApi.unbind("end",this.onEnd),this.onSeek&&this.publicApi.unbind("seek",this.onSeek),this.onPercentWatchedChanged&&this.publicApi.unbind("percentwatchedchanged",this.onPercentWatchedChanged),this.unmonitorCameraPosition()},t.prototype.distilleryUrl=function(){return this.publicApi._opts.statsUrl||this.publicApi._mediaData.distilleryUrl},t.prototype.sendToDistillery=function(t){return e.detect.browser.msie&&e.detect.browser.version<11?this.sendDataUsingJsonp(t):this.sendDataUsingXhr(t)},t.prototype.sendDataUsingXhr=function(t){var i;return i=3e4,e.remote.post(this.distilleryUrl(),{contentType:"text/plain",data:encodeURIComponent(t),timeout:i})},t.prototype.sendDataUsingJsonp=function(t){var i,n;return i=3e4,n=this.distilleryUrl()+"?data="+encodeURIComponent(t),this.isIE&&(n+="&ie=1"),e.remote.script(n,null,i)},t.prototype.retrySendingFailedEvent=function(){return this.sendToDistillery(this._failedEventsQueue.shift())},t.prototype.resendAllFailedEvents=function(){var e,t,i,n,r,o,s,a;if(n=this._failedEventsQueue.length,clearTimeout(this._retryTimer),n>0){for(a=350,s=this._failedEventsQueue,t=function(e){return function(t,i){return setTimeout(function(){return e.sendToDistillery(t)},a*i)}}(this),i=r=0,o=s.length;r<o;i=++r)e=s[i],t(e,i);return this._failedEventsQueue=[]}},t.prototype.transmit=function(t){if(null==t&&(t={}),this.publicApi._attrs.shouldTrack)return e.util.pageLoaded(function(i){return function(){return e.visitorKey.ready(function(){var n,r;if((i.eventQueue.length>0||t.force)&&(n=i._data(),i.publicApi.info("_tracker.transmit",n),i.publicApi.trigger("transmit-stats",n),i.sendToDistillery(e.base64.encode(n)),i.eventQueue=[]),!e.visitorKey._reported&&(e.visitorKey._reported=!0,r=e.visitorKey.origin(),"new"!==r&&"timeout"!==r||e.Metrics.videoCount(i.publicApi,"player/visitor_key/new",1,{visitor_key:e.visitorKey.value(),visitor_key_origin:r}),"timeout"===r&&e.Metrics.videoCount(i.publicApi,"player/visitor_key/shim_timeout",1,{visitor_key:e.visitorKey.value()}),"suggested"===r&&e.Metrics.videoCount(i.publicApi,"player/visitor_key/suggested",1,{visitor_key:e.visitorKey.value()}),/-conflict$/.test(r)))return e.Metrics.videoCount(i.publicApi,"player/visitor_key/conflict",1,{visitor_key:e.visitorKey.value()})})}}(this))},t.prototype.debounceTransmit=function(){return e.timeout(this.publicApi.uuid+".transmit_play_data",function(e){return function(){return e.transmit()}}(this),350)},t.prototype.log=function(e,t,i){var n;if(this.publicApi._attrs.shouldTrack)return this.publicApi.info("_tracker.log",e,t,i),"conversion"===e?(this.params.conversionType=t,this.params.conversionData=i,this.transmit({force:!0})):(n={key:e,value:this.timeInVideo(),timeDelta:this.timeDelta()},"initialized"===e?(n.lastAccountInstance=this._lastLoadForAccount,n.lastMediaInstance=this._lastLoadForMedia):"play"===e?(n.lastAccountInstance=this._lastPlayForAccount,n.lastMediaInstance=this._lastPlayForMedia):"playbackRateChange"===e?n.value=i:"percentWatchedThreshold"===e?n.value=i:"cameraPosition"===e&&(n.value=i),this.publicApi.debug("_tracker.log",n),this.eventQueue.push(n))},t.prototype.logConversionOpportunity=function(t){var i;if(this.publicApi._attrs.shouldTrack)return null!=t.co_key?(i={key:"conversion",value:t,timeDelta:this.timeDelta()},this.publicApi.info("_tracker.logConversionOpportunity",t),this.eventQueue.push(i)):e.Metrics.videoCount(this.publicApi,"player/no-co-key",1)},t.prototype.logAction=function(e,t){var i,r,o;return null==t&&(t={}),i={time:this.publicApi.time(),key:e,type:"default",category:"default",text:"test",uniqueToVisitor:!1},r=n({},i,t),o={value:r,key:"action",timeDelta:this.timeDelta()},this.eventQueue.push(o)},t.prototype.clearActionRecordings=function(){return["chapterImpression","chapterConversion","shareImpression","shareConversion"].forEach(function(e){
return function(t){return Wistia.localStorage("action_recorded."+e.publicApi.hashedId()+"."+t,"",!0)}}(this))},t.prototype.logCaptionSelection=function(e){var t;if(this.publicApi._attrs.shouldTrack&&e.caption_key)return t={key:"caption",value:e,timeDelta:this.timeDelta()},this.publicApi.info("_tracker.logCaptionSelection",e),this.eventQueue.push(t)},t.prototype.logChapterClick=function(e,t){return this.logAction("chapterConversion",{text:e.title,type:"conversion",category:"chapter",uniqueToVisitor:!0,time:t}),this.logAction("chapterSelection-"+e.id,{text:e.title,type:"interaction",category:"chapter",time:t})},t.prototype.logShareClick=function(e){return this.logAction("shareConversion",{text:e,type:"conversion",category:"share",uniqueToVisitor:!0}),this.logAction("shareClick-"+e,{text:e,type:"interaction",category:"share"})},t.prototype.timeInVideo=function(){var e;return e=this.publicApi.time(),null==e&&(e="beforeplay"===this.publicApi.state()?0:this.publicApi.duration()),e.toFixed(1)},t.prototype.timeDelta=function(){return(new Date).getTime()-this.clockStart},t.prototype.visitorKey=function(){return e.visitorKey.ready()?e.visitorKey.value():null},t.prototype.eventKey=function(){return this.isValidKey(this._eventKey)?this._eventKey:(this._eventKey=e.uniqId("e70df4058e168d3205b91e8e59e230225e78e997".substring(0,7)+"_"),this._eventKey)},t.prototype.monitorCameraPosition=function(){return this._lastPitch=0,this._lastHeading=0,this.publicApi.rebind("lookchange",this.onLookChange)},t.prototype.unmonitorCameraPosition=function(){return this.publicApi.unbind("lookchange",this.onLookChange)},t.prototype.onLookChange=function(e){var t;if("playing"===this.publicApi.state())return this._heading=e.heading,this._pitch=e.pitch,t=this._getIsInsidePauseBoundary(),this._cameraPauseTimeoutSet?t||(clearTimeout(this._cameraPauseTimeout),this._cameraPauseTimeoutSet=!1):t||(this._setPauseTimeout(),this._prevIsInsidePauseBoundary&&this._logCurrentCameraPosition()),this._prevIsInsidePauseBoundary=t},t.prototype._logCurrentCameraPosition=function(){var e,t,i,n;if((null!=(n=this.publicApi._mediaData)?n.spherical:void 0)&&(i="function"==typeof(e=this.publicApi).look?e.look():void 0))return this._heading||(this._heading=i.heading),this._pitch||(this._pitch=i.pitch),t=this.publicApi.time()+","+this._heading.toFixed()+","+this._pitch.toFixed(),this.log("cameraPosition",null,t)},t.prototype._setPauseTimeout=function(){return this._startHeading=this._heading,this._startPitch=this._pitch,this._cameraPauseTimeoutSet=!0,this._cameraPauseTimeout=setTimeout(function(e){return function(){return e._cameraPauseTimeoutSet=!1,e._logCurrentCameraPosition()}}(this),250)},t.prototype._getIsInsidePauseBoundary=function(){var e,t;return null==this._startHeading&&(this._startHeading=0),null==this._startPitch&&(this._startPitch=0),e=this._angularDistance(this._heading,this._startHeading),t=this._angularDistance(this._pitch,this._startPitch),e<5&&t<5},t.prototype._angularDistance=function(e,t){return Math.min(360-Math.abs(e-t),Math.abs(e-t))},t}())}(Wistia)},function(e,t,i){!function(e){var t;t=e,t.VisitorKey||(t.DISTILLERY_COOKIE="__distillery",!0===window.wistiaDisableCookies&&null==window.wistiaIframeShim&&(window.wistiaIframeShim=!1),t.VisitorKey=function(){function e(){this.ready=new t.StopGo,!1===window.wistiaIframeShim||t.detect.browser.msie&&(t.detect.browser.version<8||t.detect.browser.quirks)||!t.detect.localstorage?(this.savedValue()||(this._origin="new",this.persist(t.VisitorKey.generate())),this.ready(!0)):(this.setupOutsideShim(),t.util.pageLoaded(function(e){return function(){return e.executeShim("send_visitor_key|"+(e.savedValue()||"")+"|e70df4058e168d3205b91e8e59e230225e78e997",!0)}}(this)))}return e.prototype.setupOutsideShim=function(){return this.info("@setupOutsideShim"),null==this._outsideShim&&(this._outsideShim=function(e){return function(i){var n,r,o;if(t.clearTimeouts("shim_timeout"),"string"==typeof i.data&&/^visitor_key/.test(i.data))return r=i.data.split("|"),r[0],o=r[1],n=r[2],e._origin=n,e.info("outsideShim got message "+i.data),e.persist(o),t.timeout("remove_iframe_shim",function(){return t.elem.remove(e._iframeShim)},1e3),t.timeout("visitor_key_ready",function(){return e.info("visitorKey ready(true)"),e.ready(!0)}),t.elem.unbind}}(this)),t.elem.rebind(window,"message",this._outsideShim)},e.prototype.executeShim=function(e,i){var n;if(null==i&&(i=!1),this.info("@executeShim",e,i),this._iframeShim=t.elem.fromObject({allowtransparency:"true",frameborder:0,height:1,scrolling:"no",src:t.proto()+"//"+t.remote.embedHost()+"/embed/iframe_shim?"+t.url.jsonToParams(this.ev1ParamsForShim()),style:{height:"1px",left:"-200px",position:"absolute",top:"-200px",width:"1px",direction:"ltr"},tagName:"iframe",width:1}),this._iframeShim.onload=function(t){return function(){return t.info("post request for visitor key",e),t._iframeShim.contentWindow.postMessage(e,"*")}}(this),(n=document.getElementsByTagName("script")[0])&&t.elem.after(n,this._iframeShim),i)return t.timeout("shim_timeout",function(i){return function(){return i.notice("shim timeout for",e),t.elem.unbind(window,"message",i._outsideShim),i.savedValue()||(i._origin="timeout",i.persist(t.VisitorKey.generate())),i.ready(!0)}}(this),5e3)},e.prototype.persist=function(e){var i;return t.VisitorKey.isValid(e)?(this.info("@persist",e),this._value=e,!0!==window.wistiaDisableCookies&&this.localStorageValue()!==this._value&&t.localStorage(t.DISTILLERY_COOKIE,this._value),!0!==window.wistiaDisableCookies&&this.cookieValue()!==this._value?(i=new Date,i.setTime(i.getTime()+31536e6),t.cookie(t.DISTILLERY_COOKIE,this._value,{expires:i,path:"/"})):void 0):void this.error(new Error("Attempted to persist invalid visitor key '"+e+"'"))},e.prototype.clear=function(){return this.info("clear"),this.clearFromCurrentDomain(),window._wistiaIframeShim||this.clearFromShimDomain(),this._value=null},e.prototype.clearFromCurrentDomain=function(){return t.removeLocalStorage(t.DISTILLERY_COOKIE,null),t.cookie(t.DISTILLERY_COOKIE,"",{expires:0,path:"/"})},e.prototype.clearFromShimDomain=function(){return this.executeShim("clear_visitor_key")},e.prototype.value=function(){return this._value||this.savedValue()},e.prototype.savedValue=function(){return this.localStorageValue()||this.cookieValue()},e.prototype.cookieValue=function(){return t.cookie(t.DISTILLERY_COOKIE)},e.prototype.localStorageValue=function(){return t.localStorage(t.DISTILLERY_COOKIE)},e.prototype.isValid=function(){return t.VisitorKey.isValid(this.value())},e.prototype.origin=function(){return this._origin},e.prototype.ev1ParamsForShim=function(){var e,i,n,r,o,s,a,l,u;for(l=document.getElementsByTagName("script"),i=0,o=l.length;i<o;i++)if(a=l[i],u=a.getAttribute("src")){if(!u.indexOf)continue;if(e=u.indexOf(t.remote.embedHost())>=0?"com":u.indexOf(t.remote.externalEmbedHost())>=0?"net":null,n=u.indexOf("/E-v1.js")>=0,r=u.indexOf("/static/")>=0,e&&n)return s={domain:e},r&&(s.legacy=!0),s}return{domain:"net"}},e.prototype.cancelShim=function(){if(this._iframeShim&&(t.elem.remove(this._iframeShim),this._iframeShim=null),this._outsideShim)return t.elem.unbind(window,"message",this._outsideShim)},e.isValid=function(e){return(null!=e?e.length:void 0)>25&&/^[a-z0-9_\-\.]+$/i.test(e)},e.generate=function(){return t.uniqId("e70df4058e168d3205b91e8e59e230225e78e997".substring(0,7)+"_")},e}(),t.mixin(t.VisitorKey.prototype,t.logHelpers),t._initializers.initVisitorKey=function(){return t.visitorKey=new t.VisitorKey},t._destructors.destroyVisitorKey=function(){var e;return null!=(e=t.visitorKey)&&e.cancelShim(),t.visitorKey=null})}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Html5BigPlayButton||(e.Html5BigPlayButton=function(){function t(t){this.video=t,this.touchend=i(this.touchend,this),this.touchmove=i(this.touchmove,this),this.touchstart=i(this.touchstart,this),this.name="bigPlayButton",this.uuid=e.seqId("wistia_"+this.name+"_"),this.bpb=new e.BigPlayButton(this.video.chromeElem(),{uuid:this.video.uuid,color:this.video.playerColor(),onTouchstart:this.touchstart,onTouchmove:this.touchmove,onTouchend:this.touchend}),this.bpb.hide(),this.elem=this.bpb.elem,"function"==typeof this.setupBindings&&this.setupBindings()}return t.prototype.initialize=function(){return e.util.notSetOrTrue(this.video._opts.playButton)&&this.turnOn(),this},t.prototype.touchstart=function(){return this.video._swiped=!1},t.prototype.touchmove=function(){return this.video._swiped=!0},t.prototype.touchend=function(e){return this.bpb.mouseEventTargetIsInside(e)&&(this.video._swiped?this.video.still.hideOverlay():(this.video.play(),this.video.bigPlayButton.hide(),this.video.still.showOverlay(),this.video.loadingIndicator.turnOn())),this.video._swiped=!1},t.prototype.setupBindings=function(){return e.elem.bind(this.video.chromeElem(),"click",function(e){return function(t){if(3!==t.which)return e.bpb.mouseEventTargetIsInside(t)&&(e.video.play(),e.video.bigPlayButton.hide(),e.video.still.showOverlay(),e.video.loadingIndicator.turnOn()),!0}}(this)),this.video.bind("widthchange",function(e){return function(){return e.reorient()}}(this)),this.video.bind("heightchange",function(e){return function(){return e.reorient()}}(this))},t.prototype.turnOn=function(){return this._on=!0,this.show()},t.prototype.turnOff=function(){return this._on=!1,this.hide()},t.prototype.on=function(){return this._on},t.prototype.off=function(){return!this._on},t.prototype.turnOn=function(){return this._on=!0,this.show(),this.video.trigger("control-on",this.name)},t.prototype.show=function(){if(this.on()&&/beforeplay|paused|ended/.test(this.video.state()))return this.bpb.show(),this.reorient()},t.prototype.hide=function(){return this.bpb.hide()},t.prototype.reorient=function(){return this.bpb.fit()},t.prototype.updateColor=function(){return this.bpb.color(this.video.playerColor())},t.prototype.remove=function(){return this.bpb.destroy(),this.elem=null},t}())}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Html5LoadingIndicator||(e.Html5LoadingIndicator=function(){function t(t){this.video=t,this.reorient=i(this.reorient,this),this.hide=i(this.hide,this),this.show=i(this.show,this),this.turnOff=i(this.turnOff,this),this.turnOn=i(this.turnOn,this),this.name="loadingIndicator",this.uuid=e.seqId("wistia_"+this.name+"_"),this.elem=document.createElement("div"),this.elem.id=this.uuid,this.elem.className="wistia_loading_indicator",this.elem.setAttribute("alt","Loading..."),e.elem.append(this.video.chromeElem(),this.elem),"function"==typeof this.setupBindings&&this.setupBindings(),e.elem.style(this.elem,{cursor:"pointer",display:"none",position:"absolute",height:this.height()+"px",width:this.width()+"px",zIndex:1}),this.updateSvg(),this.throttleUpdateSvg=e.util.throttle(200,function(e){return function(){return e.updateSvg()}}(this))}return t.prototype.updateSvg=function(){var t,i,n,r,o,s,a,l,u;if(("small"!==this.svgSize||!this.shouldShrink())&&("big"!==this.svgSize||this.shouldShrink())){if(this.svgText=this.shouldShrink()?"small":"big",this.svgSize=this.shouldShrink()?"small":"big",this.activeSvgId=e.seqId("wistia_loading_svg_"),e.detect.browser.msie&&e.detect.browser.version<10)return void(this.elem.innerHTML="Loading...");for(o=this.shouldShrink()?"M23,7 L41,18 L23,30 Z":"M52,21 L81,40 L52,60 Z",u='<svg version="1.2" id="'+this.activeSvgId+'" height="'+this.height()+'" width="'+this.width()+'" xmlns="http://www.w3.org/2000/svg" viewport="0 0 '+this.width()+" "+this.height()+'" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path fill="none" stroke="#'+this.primaryColor().toHex()+'" stroke-miterlimit="20" d="'+o+'" />\n</svg>',s=this.elem.ownerDocument.createRange(),s.selectNodeContents(this.elem),r=s.createContextualFragment(u),this.elem.appendChild(r),a=this.elem.childNodes,i=0,n=a.length;i<n;i++)(t=a[i])&&t!==this.styleElem&&t.id!==this.activeSvgId&&e.elem.remove(t);return this.pathLength=(null!=(l=this.elem.getElementsByTagName("path")[0])&&"function"==typeof l.getTotalLength?l.getTotalLength():void 0)||100,this.setupCss()}},t.prototype.initialize=function(){return this},t.prototype.setupBindings=function(){return this.video.bind("widthchange",this.reorient),this.video.bind("heightchange",this.reorient),this.video.bind("startplay",this.turnOn),this.video.bind("waiting",this.turnOn),this.video.bind("play",this.turnOff),this.video.bind("pause",this.turnOff),this.video.bind("timechange",this.turnOff)},t.prototype.setupCss=function(){return this.styleElem&&e.elem.remove(this.styleElem),this.styleElem=e.css(this.elem,"#"+this.video.container.id+" .wistia_loading_indicator path {\n  stroke-width: "+this.strokeWidth()+"px;\n  stroke-dasharray: "+this.pathLength/3+", "+2*this.pathLength/3+";\n  -webkit-animation: wistia_dash 1s infinite linear forwards;\n}\n@-webkit-keyframes wistia_dash {\n  from { stroke-dashoffset: "+this.pathLength+"; }\n  to { stroke-dashoffset: 0; }\n}")},t.prototype.strokeWidth=function(){return Math.max(Math.min(Math.floor(this.video.videoWidth()/640*3),3),1)},t.prototype.on=function(){return this._on},t.prototype.off=function(){return!this._on},t.prototype.shouldShrink=function(){return this.video.videoWidth()<=320||this.video.videoHeight()<=200},t.prototype.width=function(){return this.shouldShrink()?60:127},t.prototype.height=function(){return this.shouldShrink()?38:81},t.prototype.turnOn=function(){if(!this._on)return this._on=!0,this.show()},t.prototype.turnOff=function(){if(this._on)return this._on=!1,this.hide()},t.prototype.show=function(){if(this.on())return this.elem.style.display="block",this.reorient()},t.prototype.hide=function(){return this.elem.style.display="none"},t.prototype.reorient=function(){var t;return this.video.looksDown()?e.elem.style(this.elem,{left:"-100%",width:"-100%"}):(this.throttleUpdateSvg(),e.elem.style(this.elem,{width:this.width()+"px",height:this.height()+"px"}),(t=this.elem.getElementsByTagName("path")[0])&&e.elem.style(t,{strokeWidth:this.strokeWidth()+"px"}),this.center())},t.prototype.center=function(){var e,t,i;return i=this.video.videoHeight(),this.video._opts.controlsVisibleOnLoad&&/flash|romulus/.test(this.video.playerType)&&(i-=22),e=Math.round((this.video.videoWidth()-this.width())/2),t=Math.round((i-this.height())/2),this.elem.style.left=e+"px",this.elem.style.top=t+"px"},t.prototype.remove=function(){return e.elem.remove(this.elem)},t.prototype.primaryColor=function(){return new e.Color("#ffffff")},t}())}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Html5Still||(e.Html5Still=function(){function t(t){this.video=t,this.hideOverlay=i(this.hideOverlay,this),this.showOverlay=i(this.showOverlay,this),this.activate=i(this.activate,this),this.touchend=i(this.touchend,this),this.touchstart=i(this.touchstart,this),this.name="still",this.uuid=e.seqId("wistia_"+this.name+"_"),this.thumbnail=new e.Thumbnail(this.video.chromeElem(),{tabbable:!1,onActivate:this.activate,onTouchstart:this.touchstart,onTouchend:this.touchend,stillSnap:this.video._opts.stillSnap,images:this.video.thumbnailAssets()}),e.elem.style(this.thumbnail.elem,{left:0,position:"absolute",top:0}),this.elem=this.thumbnail.elem,e.elem.addClass(this.thumbnail.img,"wistia_click_to_play"),this.loaded=new e.StopGo,this.thumbnail.loaded(function(e){return function(){return e.loaded(!0)}}(this)),"function"==typeof this.setupBindings&&this.setupBindings()}return t.prototype.initialize=function(){return this.fitStill(),this},t.prototype.touchstart=function(){return e.timeout(this.video.uuid+".still_overlay",this.showOverlay)},t.prototype.touchend=function(){if(this.thumbnail._swiped)return e.timeout(this.video.uuid+".still_overlay",this.hideOverlay,300)},t.prototype.activate=function(t){return e.elem.isInside(t.target,this.elem)&&(this.video.play(),this.video.bigPlayButton.hide(),this.showOverlay(),this.video.loadingIndicator.turnOn()),!0},t.prototype.setupBindings=function(){return e.elem.bind(this.video.chromeElem(),"click",function(t){return function(i){if(1===i.which)return e.elem.isInside(i.target,t.elem)&&(t.video.play(),t.video.bigPlayButton.hide(),t.showOverlay(),t.video.loadingIndicator.turnOn()),!0}}(this)),this.video.bind("widthchange",function(e){return function(){return e.fitStill()}}(this)),this.video.bind("heightchange",function(e){return function(){return e.fitStill()}}(this)),this.video.bind("play",this.hideOverlay),this.video.bind("timechange",this.hideOverlay),this.video.bind("pause",this.hideOverlay)},t.prototype.showOverlay=function(){return this.thumbnail.showOverlay()},t.prototype.hideOverlay=function(){return this.thumbnail.hideOverlay()},t.prototype.fitStill=function(){return this.thumbnail.fit()},t.prototype.shouldShow=function(){return"beforeplay"===this.video.state()},t.prototype.show=function(){return this.thumbnail.show(),this.fitStill()},t.prototype.hide=function(){return this.thumbnail.hide()},t.prototype.remove=function(){return this.thumbnail.destroy(),this.elem=null},t}())}(Wistia)},function(e,t,i){!function(e){var t;e.url||(t=i(16),e.url={},e.url.proto=t.proto,e.url.paramsToJson=t.queryParamsToObject,e.url.urlComponentToJson=t.urlComponentToObject,e.url.jsonToParams=t.objectToQueryParams,e.url.splitPath=t.splitPath,e.url.joinPath=t.joinPath,e.url._brack=t.brack,e.url._debrack=t.debrack,e.url.create=t.Url.create,e.url.parse=t.Url.parse)}(Wistia)},function(e,t){!function(e){e.TimeHelper||(e.TimeHelper=function(){function e(){}var t,i;return e.secondsIntoDurationGroups=function(e){var t,n,r;return e=i(e),r=Math.floor(e),t=Math.floor(r/3600),r-=3600*t,n=Math.floor(r/60),r-=60*n,{hours:t,minutes:n,seconds:r}},i=function(e){return 0|Math.abs(parseInt(e))},e.secondsToIso8601=function(e){var t,i,n,r,o;return t=this.secondsIntoDurationGroups(e),i=t.hours.toString(),n=t.minutes.toString(),r=t.seconds.toString(),o=["00".substring(i.length)+i,"00".substring(n.length)+n,"00".substring(r.length)+r],o.join(":")},e.secondsToHumanDuration=function(e){var t,i,n,r,o;t=this.secondsIntoDurationGroups(e),r={hours:0!==t.hours?t.hours+"h":void 0,minutes:0!==t.minutes||e>=60&&0!==t.seconds?t.minutes+"m":void 0,seconds:0!==t.seconds||0===t.minutes&&e<3600?t.seconds+"s":void 0},n="";for(i in r)null!=(o=r[i])&&(n+=o);return n},e.TRIM_REGEXP=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,e.isValidHumanDuration=function(e){var t,i,n,r,o,s,a,l,u,c,d,h;if(void 0===e||null===e||""===e)return!1;if(e=(""+e).replace(this.TRIM_REGEXP,""),null===e.match(/[\dhms]+/)||null===e.match(/[hms]+/))return!1;if(e.match(/[\dhms]+/)[0]!==e)return!1;for(u=["h","m","s"],i=0,r=u.length;i<r;i++)if(s=u[i],d=new RegExp(s,"g"),null!==e.match(d)&&e.match(d).length>1)return!1;if(a=e.match(/[hms]/g),3===a.length&&("h"!==a[0]||"m"!==a[1]||"s"!==a[2]))return!1;if(2===a.length){for(t=!1,l=a.join(""),c=["hm","hs","ms"],n=0,o=c.length;n<o;n++)if(h=c[n],l===h){t=!0;break}if(!t)return!1}return!0},t=function(e,t){var i,n;return i=new RegExp("\\d+"+e),n=t.match(i),n?parseInt(n[0].match(/\d+/)[0]):0},e.humanDurationToSeconds=function(e){var i,n,r,o,s;if(e=e?e.toString():"",s=0,this.isValidHumanDuration(e))for(n=[3600*t("h",e),60*t("m",e),t("s",e)],r=0,o=n.length;r<o;r++)i=n[r],s+=i;return s},e.isValidIso8601=function(e){return void 0!==e&&null!==e&&""!==e&&"string"==typeof e&&(e=e.replace(this.TRIM_REGEXP,""),null!==e.match(/[\d:]+/)&&e.match(/[\d:]+/)[0]===e)},e.iso8601ToSeconds=function(e){var t,n,r,o,s,a,l;for(e=e?e.toString():"",l=0,a=[1,60,3600],n=e.split(":").reverse(),r=o=0,s=n.length;o<s;r=++o)t=n[r],l+=t*a[r];return i(l)},e}())}(Wistia)},function(e,t){var i;i=function(){function e(t){var i,n,r,o,s,a,l,u,c;if(u=t.seedRange,l=t.seedFunction,c=t.seedStart,r=null!=(o=t.outputStart)?o:0,n=null!=(s=t.outputEnd)?s:1,i=null!=(a=t.easing)?a:e.linear,!u)throw new Error("Must provide seedRange argument");if(null!=l&&"function"!=typeof l)throw new Error("Given seed is not a function");if("function"!=typeof i)throw new Error("Invalid easing function given: "+this.easing);this._seedRange=u,this._seedFunction=l||function(){return(new Date).getTime()},this._outputStart=r,this._outputEnd=n,this._easing=i,this._seedStart=("function"==typeof c?c():void 0)||this.seed()}return e.prototype.seed=function(){return this.seedFunction()()},e.prototype.seedStart=function(){return this._seedStart},e.prototype.seedRange=function(){return this._valOrFn(this._seedRange)},e.prototype.seedFunction=function(){return this._seedFunction},e.prototype.outputStart=function(){return this._valOrFn(this._outputStart)},e.prototype.outputEnd=function(){return this._valOrFn(this._outputEnd)},e.prototype.easing=function(){return this._valOrFn(this._easing)},e.prototype.value=function(){return this._easing.apply(this,this.easingArgs())},e.prototype.atEnd=function(){return 1===this.ratio()},e.prototype.atStart=function(){return 0===this.ratio()},e.prototype.easingArgs=function(){return[this.c(),this.t(),this.d(),this.b()]},e.prototype.seedDelta=function(){return this.seedRange()>0?Math.min(this.seedRange(),this.seed()-this.seedStart()):this.seedRange()<0?Math.max(this.seedRange(),this.seed()-this.seedStart()):0},e.prototype.ratio=function(){return Math.max(0,Math.min(1,this.seedDelta()/this.seedRange()))},e.prototype.c=function(){return this.outputEnd()-this.outputStart()},e.prototype.t=function(){return this.seedDelta()},e.prototype.d=function(){return this.seedRange()},e.prototype.b=function(){return this.outputStart()},e.prototype._valOrFn=function(e){return"function"==typeof e?e():e},e.linear=function(e,t,i,n){return e*t/i+n},e.easeInOut=function(e,t,i,n){return t/=i/2,t<1?e/2*t*t+n:(t-=1,-e/2*(t*(t-2)-1)+n)},e}(),e.exports=i},function(e,t,i){var n,r,o,s,a;r=i(39),n=i(57).ajaxPost,o=i(16).objectToQueryParams,a=function(e,t){return t||(t={}),t.key=e,n("/feature_events",{data:o(t)})},s=function(e,t,i){return i||(i={}),i.key=e,i.account_id=t,n("//fast.wistia.net/feature_events",{data:o(i)})},e.exports={trackForCurrentAccount:a,track:s}},function(e,t,i){function n(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=s,this.__views__=[]}var r=i(301),o=i(286),s=4294967295;n.prototype=r(o.prototype),n.prototype.constructor=n,e.exports=n},function(e,t,i){function n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var r=i(301),o=i(286);n.prototype=r(o.prototype),n.prototype.constructor=n,e.exports=n},function(e,t){function i(){}e.exports=i},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(383),s=r(o),a=i(384),l=r(a),u=i(191),c=r(u),d=i(189),h=n(d),p=i(385),f=r(p),m=i(382),g=r(m),y=i(311),_=n(y);t.default={accessors:h,actions:c.default,mount:s.default,mountChapterTitle:g.default,mountMenu:l.default,mountPlaybarIndicators:f.default,utils:_}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="BRANDING__";t.default={setIsMenuOpen:"BRANDING__SET_IS_MENU_OPEN"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="SHARE__";t.default={setMultipleProperties:"SHARE__SET_MULTIPLE_PROPERTIES",setVisibility:"SHARE__SET_VISIBILITY",setIsMenuOpen:"SHARE__SET_IS_MENU_OPEN",setIsEmbedCodeCopierOpen:"SHARE__SET_IS_EMBED_CODE_COPIER_OPEN",setActiveChannels:"SHARE__SET_ACTIVE_CHANNELS",setPageTitle:"SHARE__SET_PAGE_TITLE",setPageUrl:"SHARE__SET_PAGE_URL",setVideoName:"SHARE__SET_VIDEO_NAME",setIgnoreQueryParams:"SHARE__SET_IGNORE_QUERY_PARAMS",setTweetText:"SHARE__SET_TWEET_TEXT",setDownloadType:"SHARE__SET_DOWNLOAD_TYPE",setAsset:"SHARE__SET_ASSET",setConversionOpportunityKey:"SHARE__SET_CONVERSION_OPPORTUNITY_KEY",setConversionOpportunity:"SHARE__SET_CONVERSION_OPPORTUNITY",setCurrentTime:"SHARE__SET_CURRENT_TIME"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="STATUSBAR__";t.default={setMessage:"STATUSBAR__SET_MESSAGE",setVisibility:"STATUSBAR__SET_VISIBILITY"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.branding},n={getIsMenuOpen:function(e){return i(e).isMenuOpen},getIsVisible:function(e){return i(e).isVisible}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.captions},n={getBranch:function(e){return i(e)},getIsMenuOpen:function(e){return i(e).isMenuOpen},getCaptions:function(e){return i(e).captions},getCurrentLanguage:function(e){return i(e).currentLanguage},getCurrentLanguageCaption:function(e){var t=i(e).currentLanguage;return i(e).captions[t]}};t.default=n},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(391),s=r(o),a=i(192),l=n(a),u=i(99),c=n(u);t.default={mount:s.default,actions:l,accessors:c}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=i(330),s=r(o),a=i(331),l=r(a),u=i(332),c=n(u);t.default={accessors:s,actions:l,reducer:c.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=i(100),s=r(o),a=i(208),l=r(a),u=i(399),c=n(u),d=i(289),h=r(d);t.default={accessors:s,actions:l,mount:c.default,types:h}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(402),s=r(o),a=i(400),l=n(a),u=i(318),c=n(u),d=i(290),h=n(d);t.default={mount:s.default,actions:l,accessors:c,types:h}},function(e,t,i){function n(e,t,i){function n(t){var i=_,n=v;return _=v=void 0,k=t,A=e.apply(n,i)}function c(e){return k=e,w=setTimeout(p,t),C?n(e):A}function d(e){var i=e-E,n=e-k,r=t-i;return x?u(r,b-n):r}function h(e){var i=e-E,n=e-k;return void 0===E||i>=t||i<0||x&&n>=b}function p(){var e=o();if(h(e))return f(e);w=setTimeout(p,d(e))}function f(e){return w=void 0,T&&_?n(e):(_=v=void 0,A)}function m(){void 0!==w&&clearTimeout(w),k=0,_=E=v=w=void 0}function g(){return void 0===w?A:f(o())}function y(){var e=o(),i=h(e);if(_=arguments,v=this,E=e,i){if(void 0===w)return c(E);if(x)return w=setTimeout(p,t),n(E)}return void 0===w&&(w=setTimeout(p,t)),A}var _,v,b,A,w,E,k=0,C=!1,x=!1,T=!0;if("function"!=typeof e)throw new TypeError(a);return t=s(t)||0,r(i)&&(C=!!i.leading,x="maxWait"in i,b=x?l(s(i.maxWait)||0,t):b,T="trailing"in i?!!i.trailing:T),y.cancel=m,y.flush=g,y}var r=i(15),o=i(405),s=i(190),a="Expected a function",l=Math.max,u=Math.min;e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var i=new c(e,t);return function(){i.destroy()}}Object.defineProperty(t,"__esModule",{value:!0}),t.StoreChangeAdapter=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=o;var a=i(15),l=n(a),u=i(59),c=t.StoreChangeAdapter=function(){function e(t,i){r(this,e),this.store=(0,l.default)(t)?t:(0,u.getStoreForPlayerInstance)(t),this.previousState=this.store.getState(),this.listeners=i,this.unsubscribe=this.store.subscribe(this.onStoreChange.bind(this))}return s(e,[{key:"onStoreChange",value:function(){var e=this.store.getState();this.fireCallbacksIfChanged(this.listeners,e),this.recordPreviousState()}},{key:"fireCallbacksIfChanged",value:function(e,t){var i=this;Object.keys(e).forEach(function(n){var r=e[n].accessor;i.propHasChanged(r,t)&&e[n].callback(r(t))})}},{key:"recordPreviousState",value:function(){this.previousState=this.store.getState()}},{key:"propHasChanged",value:function(e,t){return e(this.previousState)!=e(t)}},{key:"destroy",value:function(){this.unsubscribe(),this.listeners=null,this.previousState=null,this.store=null}}]),e}()},function(e,t){var i=void 0;!function(n){if("object"==typeof t&&void 0!==e)e.exports=n();else if("function"==typeof i&&i.amd)i([],n);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.Hls=n()}}(function(){var e;return function e(t,i,n){function r(s,a){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};t[s][0].call(c.exports,function(e){return r(t[s][1][e]||e)},c,c.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,i,n,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(i=this._events[e],a(i))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(s(i))for(o=Array.prototype.slice.call(arguments,1),u=i.slice(),n=u.length,l=0;l<n;l++)u[l].apply(this,o);return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var i,n,o,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],o=i.length,n=-1,
i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(i)){for(a=o;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){n=a;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],r(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(t,i,n){!function(t){var r=/^([^#]*)(.*)$/,o=/^([^\?]*)(.*)$/,s=/^(([a-z]+:\/\/)?[^:\/]+(?::[0-9]+)?)?(\/?.*)$/i,a={buildAbsoluteURL:function(e,t){if(t=t.trim(),/^[a-z]+:/i.test(t))return t;var i=null,n=null,l=r.exec(t);l&&(n=l[2],t=l[1]);var u=o.exec(t);u&&(i=u[2],t=u[1]);var c=r.exec(e);c&&(e=c[1]);var d=o.exec(e);d&&(e=d[1]);var h=s.exec(e);if(!h)throw new Error("Error trying to parse base URL.");var p=h[2]||"",f=h[1]||"",m=h[3];0!==m.indexOf("/")&&""!==f&&(m="/"+m);var g=null;return g=/^\/\//.test(t)?p+a.buildAbsolutePath("",t.substring(2)):/^\//.test(t)?f+"/"+a.buildAbsolutePath("",t.substring(1)):a.buildAbsolutePath(f+m,t),i&&(g+=i),n&&(g+=n),g},buildAbsolutePath:function(e,t){for(var i,n,r=t,o="",s=e.replace(/[^\/]*$/,r.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),a=0;(n=s.indexOf("/../",a))>-1;a=n+i)i=/^\/(?:\.\.\/)*/.exec(s.slice(n))[0].length,o=(o+s.substring(a,n)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(i-1)/3+"}$"),"/");return o+s.substr(a)}};"object"==typeof n&&"object"==typeof i?i.exports=a:"function"==typeof e&&e.amd?e([],function(){return a}):"object"==typeof n?n.URLToolkit=a:t.URLToolkit=a}(this)},{}],3:[function(e,t,i){var n=arguments[3],r=arguments[4],o=arguments[5],s=JSON.stringify;t.exports=function(e,t){function i(e){g[e]=!0;for(var t in r[e][1]){var n=r[e][1][t];g[n]||i(n)}}for(var a,l=Object.keys(o),u=0,c=l.length;u<c;u++){var d=l[u],h=o[d].exports;if(h===e||h&&h.default===e){a=d;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},u=0,c=l.length;u<c;u++){var d=l[u];p[d]=d}r[a]=[Function(["require","module","exports"],"("+e+")(self)"),p]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[a]=a,r[f]=[Function(["require"],"var f = require("+s(a)+");(f.default ? f.default : f)(self);"),m];var g={};i(f);var y="("+n+")({"+Object.keys(g).map(function(e){return s(e)+":["+r[e][0]+","+s(r[e][1])+"]"}).join(",")+"},{},["+s(f)+"])",_=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([y],{type:"text/javascript"});if(t&&t.bare)return v;var b=_.createObjectURL(v),A=new Worker(b);return A.objectURL=b,A}},{}],4:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0}),i.hlsDefaultConfig=void 0;var r=e("./controller/abr-controller"),o=n(r),s=e("./controller/buffer-controller"),a=n(s),l=e("./controller/cap-level-controller"),u=n(l),c=e("./controller/fps-controller"),d=n(c),h=e("./utils/xhr-loader"),p=n(h);i.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:p.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:o.default,bufferController:a.default,capLevelController:u.default,fpsController:d.default,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}},{"./controller/abr-controller":5,"./controller/buffer-controller":6,"./controller/cap-level-controller":7,"./controller/fps-controller":9,"./utils/xhr-loader":44}],5:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../events"),u=n(l),c=e("../event-handler"),d=n(c),h=e("../helper/buffer-helper"),p=n(h),f=e("../errors"),m=e("../utils/logger"),g=e("./ewma-bandwidth-estimator"),y=n(g),_=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING,u.default.FRAG_LOADED,u.default.FRAG_BUFFERED,u.default.ERROR));return i.lastLoadedFragLevel=0,i._autoLevelCapping=-1,i._nextAutoLevel=-1,i.hls=e,i.onCheck=i.abandonRulesCheck.bind(i),i}return s(t,e),a(t,[{key:"destroy",value:function(){this.clearTimer(),d.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var i=this.hls,n=e.frag.level,r=i.levels[n].details.live,o=i.config,s=void 0,a=void 0;r?(s=o.abrEwmaFastLive,a=o.abrEwmaSlowLive):(s=o.abrEwmaFastVoD,a=o.abrEwmaSlowVoD),this.bwEstimator=new y.default(i,a,s,o.abrEwmaDefaultEstimate)}this.fragCurrent=t}}},{key:"abandonRulesCheck",value:function(){var e=this.hls,t=e.media,i=this.fragCurrent,n=i.loader,r=this.minAutoLevel;if(!n||n.stats&&n.stats.aborted)return m.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var o=n.stats;if(t&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&i.autoLevel&&i.level){var s=performance.now()-o.trequest,a=Math.abs(t.playbackRate);if(s>500*i.duration/a){var l=e.levels,c=Math.max(1,o.bw?o.bw/8:1e3*o.loaded/s),d=l[i.level],h=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,f=o.total?o.total:Math.max(o.loaded,Math.round(i.duration*h/8)),g=t.currentTime,y=(f-o.loaded)/c,_=(p.default.bufferInfo(t,g,e.config.maxBufferHole).end-g)/a;if(_<2*i.duration/a&&y>_){var v=void 0,b=void 0;for(b=i.level-1;b>r;b--){var A=l[b].realBitrate?Math.max(l[b].realBitrate,l[b].bitrate):l[b].bitrate;if((v=i.duration*A/(6.4*c))<_)break}v<y&&(m.logger.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+v.toFixed(1)+"<"+y.toFixed(1)+":"+_.toFixed(1)),e.nextLoadLevel=b,this.bwEstimator.sample(s,o.loaded),n.abort(),this.clearTimer(),e.trigger(u.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:o}))}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[t.level],n=(i.loaded?i.loaded.bytes:0)+e.stats.loaded,r=(i.loaded?i.loaded.duration:0)+e.frag.duration;i.loaded={bytes:n,duration:r},i.realBitrate=Math.round(8*n/r)}if(e.frag.bitrateTest){var o=e.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(e)}}}},{key:"onFragBuffered",value:function(e){var t=e.stats,i=e.frag;if(!(!0===t.aborted||1!==i.loadCounter||"main"!==i.type||isNaN(i.sn)||i.bitrateTest&&t.tload!==t.tbuffered)){var n=t.tparsed-t.trequest;m.logger.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this.bwEstimator.sample(n,t.loaded),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}}},{key:"onError",value:function(e){switch(e.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"findBestLevel",value:function(e,t,i,n,r,o,s,a,l){for(var u=r;u>=n;u--){var c=l[u],d=c.details,h=d?d.totalduration/d.fragments.length:t,p=!!d&&d.live,f=void 0;f=u<=e?s*i:a*i;var g=l[u].realBitrate?Math.max(l[u].realBitrate,l[u].bitrate):l[u].bitrate,y=g*h/f;if(m.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+u+"/"+Math.round(f)+"/"+g+"/"+h+"/"+o+"/"+y),f>g&&(!y||p||y<o))return u}return-1}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping=e}},{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator,i=this.hls,n=i.levels,r=i.config.minAutoBitrate;if(!(-1===e||t&&t.canEstimate()))return Math.min(e,this.maxAutoLevel);var o=this.nextABRAutoLevel;if(-1!==e&&(o=Math.min(e,o)),void 0!==r)for(var s=n[o].realBitrate?Math.max(n[o].realBitrate,n[o].bitrate):n[o].bitrate;s<r;)o++;return o},set:function(e){this._nextAutoLevel=e}},{key:"minAutoLevel",get:function(){for(var e=this.hls,t=e.levels,i=e.config.minAutoBitrate,n=t?t.length:0,r=0;r<n;r++)if((t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate)>i)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.hls.levels,t=this._autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextABRAutoLevel",get:function(){var e=this.hls,t=this.maxAutoLevel,i=e.levels,n=e.config,r=this.minAutoLevel,o=e.media,s=this.lastLoadedFragLevel,a=this.fragCurrent?this.fragCurrent.duration:0,l=o?o.currentTime:0,u=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,c=this.bwEstimator?this.bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,d=(p.default.bufferInfo(o,l,n.maxBufferHole).end-l)/u,h=this.findBestLevel(s,a,c,r,t,d,n.abrBandWidthFactor,n.abrBandWidthUpFactor,i);if(h>=0)return h;m.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var f=a?Math.min(a,n.maxStarvationDelay):n.maxStarvationDelay,g=n.abrBandWidthFactor,y=n.abrBandWidthUpFactor;if(0===d){var _=this.bitrateTestDelay;_&&(f=(a?Math.min(a,n.maxLoadingDelay):n.maxLoadingDelay)-_,m.logger.trace("bitrate test took "+Math.round(1e3*_)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*f)+" ms"),g=y=1)}return h=this.findBestLevel(s,a,c,r,t,d+f,g,y,i),Math.max(h,0)}}]),t}(d.default);i.default=_},{"../errors":25,"../event-handler":26,"../events":27,"../helper/buffer-helper":29,"../utils/logger":42,"./ewma-bandwidth-estimator":8}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../events"),u=n(l),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=e("../errors"),f=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING,u.default.MEDIA_DETACHING,u.default.MANIFEST_PARSED,u.default.BUFFER_RESET,u.default.BUFFER_APPENDING,u.default.BUFFER_CODECS,u.default.BUFFER_EOS,u.default.BUFFER_FLUSHING,u.default.LEVEL_PTS_UPDATED,u.default.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return s(t,e),a(t,[{key:"destroy",value:function(){d.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(e){var t=e.type,i=this.tracks.audio;if("audio"===t&&i&&"audio/mpeg"===i.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-e.start)>.1){var r=n.updating;try{n.abort()}catch(e){r=!0,h.logger.warn("can not abort audio buffer: "+e)}r?this.audioTimestampOffset=e.start:(h.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+e.start),n.timestampOffset=e.start)}}}},{key:"onManifestParsed",value:function(e){var t=e.audio,i=e.video,n=0;e.altAudio&&(t||i)&&(n=(t?1:0)+(i?1:0),h.logger.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n}},{key:"onMediaAttaching",value:function(e){var t=this.media=e.media;if(t){var i=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(i)}}},{key:"onMediaDetaching",value:function(){h.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){h.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(u.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){h.logger.log("media source opened"),this.hls.trigger(u.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){h.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){h.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;h.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,i=this.segments.reduce(function(e,i){return i.parent===t?e+1:e},0);this.hls.trigger(u.default.BUFFER_APPENDED,{parent:t,pending:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(e){h.logger.error("sourceBuffer error:"+e),this.hls.trigger(u.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var e=this.sourceBuffer;for(var t in e){var i=e[t];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var i=this.mediaSource;i&&"open"===i.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(e){var t=this.sourceBuffer,i=this.mediaSource;for(var n in e)if(!t[n]){var r=e[n],o=r.levelCodec||r.codec,s=r.container+";codecs="+o;h.logger.log("creating sourceBuffer("+s+")");try{var a=t[n]=i.addSourceBuffer(s);a.addEventListener("updateend",this.onsbue),a.addEventListener("error",this.onsbe),this.tracks[n]={codec:o,container:r.container},r.buffer=a}catch(e){h.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(u.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:s})}}this.hls.trigger(u.default.BUFFER_CREATED,{tracks:e})}},{key:"onBufferAppending",value:function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())}},{key:"onBufferAppendFail",value:function(e){h.logger.error("sourceBuffer error:",e.event),this.hls.trigger(u.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferEos",value:function(e){var t=this.sourceBuffer,i=e.type;for(var n in t)i&&n!==i||t[n].ended||(t[n].ended=!0,h.logger.log(n+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var i in e){var n=e[i];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}h.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){h.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}},{key:"onBufferFlushing",value:function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(e){var t=e.details;0!==t.fragments.length&&(this._levelDuration=t.totalduration+t.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var e=this.media,t=this.mediaSource,i=this.sourceBuffer,n=this._levelDuration;if(null!==n&&e&&t&&i&&0!==e.readyState&&"open"===t.readyState){for(var r in i)if(i[r].updating)return;null===this._msDuration&&(this._msDuration=t.duration);var o=e.duration;(n>this._msDuration&&n>o||o===1/0||isNaN(o))&&(h.logger.log("Updating mediasource duration to "+n.toFixed(3)),this._msDuration=t.duration=n)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,i=this.sourceBuffer;try{for(var n in i)t+=i[n].buffered.length}catch(e){h.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(u.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var e=this.hls,t=this.sourceBuffer,i=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void h.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(i&&i.length){var n=i.shift();try{var r=n.type,o=t[r];o?o.updating?i.unshift(n):(o.ended=!1,this.parent=n.parent,o.appendBuffer(n.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){h.logger.error("error while trying to append buffer:"+t.message),i.unshift(n);var s={type:p.ErrorTypes.MEDIA_ERROR,parent:n.parent};if(22===t.code)return this.segments=[],s.details=p.ErrorDetails.BUFFER_FULL_ERROR,s.fatal=!1,void e.trigger(u.default.ERROR,s);if(this.appendError?this.appendError++:this.appendError=1,s.details=p.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return h.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],s.fatal=!0,void e.trigger(u.default.ERROR,s);s.fatal=!1,e.trigger(u.default.ERROR,s)}}}}},{key:"flushBuffer",value:function(e,t,i){var n,r,o,s,a,l,u=this.sourceBuffer;if(Object.keys(u).length){if(h.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var c in u)if(!i||c===i){if(n=u[c],n.ended=!1,n.updating)return h.logger.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<n.buffered.length;r++)if(o=n.buffered.start(r),s=n.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(a=e,l=t):(a=Math.max(o,e),l=Math.min(s,t)),Math.min(l,s)-a>.5)return this.flushBufferCounter++,h.logger.log("flush "+c+" ["+a+","+l+"], of ["+o+","+s+"], pos:"+this.media.currentTime),n.remove(a,l),!1}catch(e){h.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else h.logger.warn("abort flushing too many retries");h.logger.log("buffer flushed")}return!0}}]),t}(d.default);i.default=f},{"../errors":25,"../event-handler":26,"../events":27,"../utils/logger":42}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../events"),u=n(l),c=e("../event-handler"),d=n(c),h=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FPS_DROP_LEVEL_CAPPING,u.default.MEDIA_ATTACHING,u.default.MANIFEST_PARSED))}return s(t,e),a(t,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(e){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(e.droppedLevel)||this.restrictedLevels.push(e.droppedLevel)}},{key:"onMediaAttaching",value:function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null}},{key:"onManifestParsed",value:function(e){var t=this.hls;t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}},{key:"getMaxLevel",value:function(e){var t=0,i=void 0,n=void 0,r=this.mediaWidth,o=this.mediaHeight,s=0,a=0;for(i=0;i<=e&&(n=this.levels[i],!this.isLevelRestricted(i))&&(t=i,s=n.width,a=n.height,!(r<=s||o<=a));i++);return t}},{key:"isLevelRestricted",value:function(e){return!(!this.restrictedLevels||-1===this.restrictedLevels.indexOf(e))}},{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}},{key:"mediaWidth",get:function(){var e=void 0,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=this.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=this.contentScaleFactor),e}}]),t}(d.default);i.default=h},{"../event-handler":26,"../events":27}],8:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/ewma"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t,i,r,o){n(this,e),this.hls=t,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new s.default(i),this.fast_=new s.default(r)}return r(e,[{key:"sample",value:function(e,t){e=Math.max(e,this.minDelayMs_);var i=8e3*t/e,n=e/1e3;this.fast_.sample(n,i),this.slow_.sample(n,i)}},{key:"canEstimate",value:function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),e}();i.default=a},{"../utils/ewma":41}],9:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../events"),u=n(l),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=function(e){function t(e){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MEDIA_ATTACHING))}return s(t,e),a(t,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))}},{key:"checkFPS",value:function(e,t,i){var n=performance.now();if(t){if(this.lastTime){var r=n-this.lastTime,o=i-this.lastDroppedFrames,s=t-this.lastDecodedFrames,a=1e3*o/r,l=this.hls;if(l.trigger(u.default.FPS_DROP,{currentDropped:o,currentDecoded:s,totalDroppedFrames:i}),a>0&&o>l.config.fpsDroppedMonitoringThreshold*s){var c=l.currentLevel;h.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=c)&&(c-=1,l.trigger(u.default.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:l.currentLevel}),l.autoLevelCapping=c,l.streamController.nextLevelSwitch())}}this.lastTime=n,this.lastDroppedFrames=i,this.lastDecodedFrames=t}}},{key:"checkFPSInterval",value:function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}]),t}(d.default);i.default=p},{"../event-handler":26,"../events":27,"../utils/logger":42}],10:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../events"),u=n(l),c=e("../event-handler"),d=n(c),h=e("../utils/logger"),p=e("../errors"),f=e("../helper/buffer-helper"),m=n(f),g=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.MANIFEST_LOADED,u.default.LEVEL_LOADED,u.default.FRAG_LOADED,u.default.ERROR));return i.ontick=i.tick.bind(i),i._manualLevel=i._autoLevelCapping=-1,i}return s(t,e),a(t,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0;var e=this._levels;e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(e){var t,i=[],n=[],r={},o=!1,s=!1,a=this.hls,l=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),c=function(e,t){return MediaSource.isTypeSupported(e+"/mp4;codecs="+t)};if(e.levels.forEach(function(e){e.videoCodec&&(o=!0),l&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(e.audioCodec||e.attrs&&e.attrs.AUDIO)&&(s=!0);var t=r[e.bitrate];void 0===t?(r[e.bitrate]=i.length,e.url=[e.url],e.urlId=0,i.push(e)):i[t].url.push(e.url)}),o&&s?i.forEach(function(e){e.videoCodec&&n.push(e)}):n=i,n=n.filter(function(e){var t=e.audioCodec,i=e.videoCodec;return(!t||c("audio",t))&&(!i||c("video",i))}),n.length){
t=n[0].bitrate,n.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=n;for(var d=0;d<n.length;d++)if(n[d].bitrate===t){this._firstLevel=d,h.logger.log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+t);break}a.trigger(u.default.MANIFEST_PARSED,{levels:n,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:o,altAudio:e.audioTracks.length>0})}else a.trigger(u.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,details:p.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:a.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(e){var t=this._levels;if(e>=0&&e<t.length){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==e){h.logger.log("switching to level "+e),this._level=e;var i=t[e];i.level=e,this.hls.trigger(u.default.LEVEL_SWITCH,i)}var n=t[e],r=n.details;if(!r||!0===r.live){var o=n.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:n.url[o],level:e,id:o})}}else this.hls.trigger(u.default.ERROR,{type:p.ErrorTypes.OTHER_ERROR,details:p.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(e){if(!e.fatal){var t=e.details,i=this.hls,n=void 0,r=void 0,o=!1,s=i.abrController,a=s.minAutoLevel;switch(t){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:n=e.frag.level;break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:n=e.context.level,o=!0;break;case p.ErrorDetails.REMUX_ALLOC_ERROR:n=e.level}if(void 0!==n){r=this._levels[n],r.loadError?r.loadError++:r.loadError=1;var l=r.url.length;if(l>1&&r.loadError<l)r.urlId=(r.urlId+1)%l,r.details=void 0,h.logger.warn("level controller,"+t+" for level "+n+": switching to redundant stream id "+r.urlId);else if(-1===this._manualLevel&&n)h.logger.warn("level controller,"+t+": switch-down for next fragment"),s.nextAutoLevel=Math.max(a,n-1);else if(r&&r.details&&r.details.live)h.logger.warn("level controller,"+t+" on live stream, discard"),o&&(this._level=void 0);else if(t===p.ErrorDetails.LEVEL_LOAD_ERROR||t===p.ErrorDetails.LEVEL_LOAD_TIMEOUT){var c=i.media,d=c&&m.default.isBuffered(c,c.currentTime)&&m.default.isBuffered(c,c.currentTime+.5);if(d){var f=i.config.levelLoadingRetryDelay;h.logger.warn("level controller,"+t+", but media buffered, retry in "+f+"ms"),this.timer=setTimeout(this.ontick,f)}else h.logger.error("cannot recover "+t+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),e.fatal=!0,i.trigger(u.default.ERROR,e)}}}}},{key:"onFragLoaded",value:function(e){var t=e.frag;if(t&&"main"===t.type){var i=this._levels[t.level];i&&(i.loadError=0)}}},{key:"onLevelLoaded",value:function(e){var t=e.level;if(t===this._level){var i=this._levels[t];i.loadError=0;var n=e.details;if(n.live){var r=1e3*(n.averagetargetduration?n.averagetargetduration:n.targetduration),o=i.details;o&&n.endSN===o.endSN&&(r/=2,h.logger.log("same live playlist, reload twice faster")),r-=performance.now()-e.stats.trequest,r=Math.max(1e3,Math.round(r)),h.logger.log("live playlist, reload in "+r+" ms"),this.timer=setTimeout(this.ontick,r)}else this.timer=null}}},{key:"tick",value:function(){var e=this._level;if(void 0!==e&&this.canload){var t=this._levels[e],i=t.urlId;this.hls.trigger(u.default.LEVEL_LOADING,{url:t.url[i],level:e,id:i})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(e){var t=this._levels;t&&t.length>e&&(this._level===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(e){this._manualLevel=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){-1!==e&&(e=Math.max(e,this.hls.abrController.minAutoLevel)),this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(e){this.level=e,-1===this._manualLevel&&(this.hls.abrController.nextAutoLevel=e)}}]),t}(d.default);i.default=g},{"../errors":25,"../event-handler":26,"../events":27,"../helper/buffer-helper":29,"../utils/logger":42}],11:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../utils/binary-search"),u=n(l),c=e("../helper/buffer-helper"),d=n(c),h=e("../demux/demuxer"),p=n(h),f=e("../events"),m=n(f),g=e("../event-handler"),y=n(g),_=e("../helper/level-helper"),v=n(_),b=e("../utils/timeRanges"),A=n(b),w=e("../errors"),E=e("../utils/logger"),k={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},C=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,m.default.MEDIA_ATTACHED,m.default.MEDIA_DETACHING,m.default.MANIFEST_LOADING,m.default.MANIFEST_PARSED,m.default.LEVEL_LOADED,m.default.KEY_LOADED,m.default.FRAG_LOADED,m.default.FRAG_LOAD_EMERGENCY_ABORTED,m.default.FRAG_PARSING_INIT_SEGMENT,m.default.FRAG_PARSING_DATA,m.default.FRAG_PARSED,m.default.ERROR,m.default.AUDIO_TRACK_SWITCHING,m.default.AUDIO_TRACK_SWITCHED,m.default.BUFFER_CREATED,m.default.BUFFER_APPENDED,m.default.BUFFER_FLUSHED));return i.config=e.config,i.audioCodecSwap=!1,i.ticks=0,i._state=k.STOPPED,i.ontick=i.tick.bind(i),i}return s(t,e),a(t,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),y.default.prototype.destroy.call(this),this.state=k.STOPPED}},{key:"startLoad",value:function(e){if(this.levels){var t=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=i.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}t>0&&-1===e&&(E.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=k.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else E.logger.warn("cannot start loading as manifest not parsed yet"),this.state=k.STOPPED}},{key:"stopLoad",value:function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=k.STOPPED}},{key:"tick",value:function(){1==++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case k.ERROR:break;case k.BUFFER_FLUSHING:this.fragLoadError=0;break;case k.IDLE:if(!this._doTickIdle())return;break;case k.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=k.IDLE);break;case k.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),i=this.retryDate;(!i||t>=i||this.media&&this.media.seeking)&&(E.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=k.IDLE);break;case k.ERROR:case k.STOPPED:case k.FRAG_LOADING:case k.PARSING:case k.PARSED:case k.ENDED:}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var e=this.hls,t=e.config,i=this.media;if(void 0!==this.levelLastLoaded&&!i&&(this.startFragRequested||!t.startFragPrefetch))return!0;var n=void 0;n=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var r=e.nextLoadLevel,o=this.levels[r],s=o.bitrate,a=void 0;a=s?Math.max(8*t.maxBufferSize/s,t.maxBufferLength):t.maxBufferLength,a=Math.min(a,t.maxMaxBufferLength);var l=d.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,n,t.maxBufferHole),u=l.len;if(u>=a)return!0;E.logger.trace("buffer length of "+u.toFixed(3)+" is below max of "+a.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=r;var c=o.details;if(void 0===c||c.live&&this.levelLastLoaded!==r)return this.state=k.WAITING_LEVEL,!0;var h=this.fragPrevious;if(!c.live&&h&&h.sn===c.endSN&&i.duration-Math.max(l.end,h.start)<=Math.max(.2,h.duration/2)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(m.default.BUFFER_EOS,p),this.state=k.ENDED,!0}return this._fetchPayloadOrEos(n,l,c)}},{key:"_fetchPayloadOrEos",value:function(e,t,i){var n=this.fragPrevious,r=this.level,o=i.fragments,s=o.length;if(0===s)return!1;var a=o[0].start,l=o[s-1].start+o[s-1].duration,u=t.end,c=void 0;if(i.initSegment&&!i.initSegment.data)c=i.initSegment;else if(i.live){var d=this.config.initialLiveManifestSize;if(s<d)return E.logger.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+d),!1;if(null===(c=this._ensureFragmentAtLivePoint(i,u,a,l,n,o,s)))return!1}else u<a&&(c=o[0]);return c||(c=this._findFragment(a,n,s,o,u,l,i)),!c||this._loadFragmentOrKey(c,r,i,e,u)}},{key:"_ensureFragmentAtLivePoint",value:function(e,t,i,n,r,o,s){var a=this.hls.config,l=this.media,u=void 0,c=void 0!==a.liveMaxLatencyDuration?a.liveMaxLatencyDuration:a.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(i-a.maxFragLookUpTolerance,n-c)){var d=this.liveSyncPosition=this.computeLivePosition(i,e);E.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+d.toFixed(3)),t=d,l&&l.readyState&&l.duration>d&&(l.currentTime=d)}if(e.PTSKnown&&t>n&&l&&l.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(r){var h=r.sn+1;h>=e.startSN&&h<=e.endSN&&(u=o[h-e.startSN],E.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=o[Math.min(s-1,Math.round(s/2))],E.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u}},{key:"_findFragment",value:function(e,t,i,n,r,o,s){var a=this.hls.config,l=void 0,c=void 0,d=a.maxFragLookUpTolerance,h=t?n[t.sn-n[0].sn+1]:void 0,p=function(e){var t=Math.min(d,e.duration);return e.start+e.duration-t<=r?1:e.start-t>r&&e.start?-1:0};if(r<o?(r>o-d&&(d=0),c=h&&!p(h)?h:u.default.search(n,p)):c=n[i-1],c){l=c;var f=l.sn-s.startSN,m=t&&l.level===t.level,g=n[f-1],y=n[f+1];if(m&&l.sn===t.sn)if(l.sn<s.endSN){var _=t.deltaPTS;_&&_>a.maxBufferHole&&t.dropped&&f?(l=g,E.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(l=y,E.logger.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.dropped&&!m&&(y&&y.backtracked?(E.logger.warn("Already backtracked from fragment "+(f+1)+", will not backtrack to fragment "+f+". Loading fragment "+(f+1)),l=y):(E.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,g&&g.loadCounter?(g.loadCounter--,l=g):l=null))}return l}},{key:"_loadFragmentOrKey",value:function(e,t,i,n,r){var o=this.hls,s=o.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(E.logger.log("Loading "+e.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+t+", currentTime:"+n.toFixed(3)+",bufferEnd:"+r.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var a=s.fragLoadingLoopThreshold;if(e.loadCounter>a&&Math.abs(this.fragLoadIdx-e.loadIdx)<a)return o.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e}),!1}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||(this.nextLoadPosition=e.start+e.duration),e.autoLevel=o.autoLevelEnabled,e.bitrateTest=this.bitrateTest,o.trigger(m.default.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new p.default(o,"main")),this.state=k.FRAG_LOADING,!0}E.logger.log("Loading key for "+e.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+t),this.state=k.KEY_LOADING,o.trigger(m.default.KEY_LOADING,{frag:e})}},{key:"getBufferRange",value:function(e){return u.default.search(this.bufferRange,function(t){return e<t.start?-1:e>t.end?1:0})}},{key:"followingBufferRange",value:function(e){return e?this.getBufferRange(e.end+.5):null}},{key:"_checkFragmentChanged",value:function(){var e,t,i=this.media;if(i&&i.readyState&&!1===i.seeking&&(t=i.currentTime,t>i.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),d.default.isBuffered(i,t)?e=this.getBufferRange(t):d.default.isBuffered(i,t+.1)&&(e=this.getBufferRange(t+.1)),e)){var n=e.frag;n!==this.fragPlaying&&(this.fragPlaying=n,this.hls.trigger(m.default.FRAG_CHANGED,{frag:n}))}}},{key:"immediateLevelSwitch",value:function(){if(E.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,d.default.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())}},{key:"nextLevelSwitch",value:function(){var e=this.media;if(e&&e.readyState){var t=void 0,i=void 0,n=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,i=this.getBufferRange(e.currentTime),i&&i.start>1&&this.flushMainBuffer(0,i.start-1),e.paused)t=0;else{var r=this.hls.nextLoadLevel,o=this.levels[r],s=this.fragLastKbps;t=s&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*s)+1:0}if((n=this.getBufferRange(e.currentTime+t))&&(n=this.followingBufferRange(n))){var a=this.fragCurrent;a&&a.loader&&a.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.start,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(e,t){this.state=k.BUFFER_FLUSHING;var i={startOffset:e,endOffset:t};this.altAudio&&(i.type="video"),this.hls.trigger(m.default.BUFFER_FLUSHING,i)}},{key:"onMediaAttached",value:function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition)}},{key:"onMediaDetaching",value:function(){var e=this.media;e&&e.ended&&(E.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var e=this.media,t=e?e.currentTime:void 0,i=this.config;if(E.logger.log("media seeking to "+t.toFixed(3)),this.state===k.FRAG_LOADING){var n=this.mediaBuffer?this.mediaBuffer:e,r=d.default.bufferInfo(n,t,this.config.maxBufferHole),o=this.fragCurrent;if(0===r.len&&o){var s=i.maxFragLookUpTolerance,a=o.start-s,l=o.start+o.duration+s;t<a||t>l?(o.loader&&(E.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=k.IDLE):E.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===k.ENDED&&(this.state=k.IDLE);e&&(this.lastCurrentTime=t),this.state!==k.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*i.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()}},{key:"onMediaSeeked",value:function(){E.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){E.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){E.logger.log("trigger BUFFER_RESET"),this.hls.trigger(m.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(e){var t,i=!1,n=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(i=!0),-1!==t.indexOf("mp4a.40.5")&&(n=!0))}),this.audioCodecSwitch=i&&n,this.audioCodecSwitch&&E.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var r=this.config;r.autoStartLoad&&this.hls.startLoad(r.startPosition)}},{key:"onLevelLoaded",value:function(e){var t=e.details,i=e.level,n=this.levels[i],r=t.totalduration,o=0;if(E.logger.log("level "+i+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),this.levelLastLoaded=i,t.live){var s=n.details;s&&t.fragments.length>0?(v.default.mergeDetails(s,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),t.PTSKnown?E.logger.log("live playlist sliding:"+o.toFixed(3)):E.logger.log("live playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,E.logger.log("live playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(n.details=t,this.hls.trigger(m.default.LEVEL_UPDATED,{details:t,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var a=t.startTimeOffset;isNaN(a)?t.live?(this.startPosition=this.computeLivePosition(o,t),E.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(a<0&&(E.logger.log("negative start time offset "+a+", count from end of last fragment"),a=o+r+a),E.logger.log("start time offset found in playlist, adjust startPosition to "+a),this.startPosition=a),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===k.WAITING_LEVEL&&(this.state=k.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===k.KEY_LOADING&&(this.state=k.IDLE,this.tick())}},{key:"onFragLoaded",value:function(e){var t=this.fragCurrent,i=e.frag;if(this.state===k.FRAG_LOADING&&t&&"main"===i.type&&i.level===t.level&&i.sn===t.sn){var n=e.stats,r=this.levels[t.level],o=r.details;if(E.logger.log("Loaded  "+t.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=n,!0===i.bitrateTest&&this.hls.nextLoadLevel)this.state=k.IDLE,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(m.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=k.IDLE,n.tparsed=n.tbuffered=performance.now(),o.initSegment.data=e.payload,this.hls.trigger(m.default.FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.tick();else{this.state=k.PARSING;var s=o.totalduration,a=isNaN(t.startDTS)?t.start:t.startDTS,l=t.level,u=t.sn,c=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(E.logger.log("swapping playlist audio codec"),void 0===c&&(c=this.lastAudioCodec),c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,E.logger.log("Parsing "+u+" of ["+o.startSN+" ,"+o.endSN+"],level "+l+", cc "+t.cc);var d=this.demuxer;d||(d=this.demuxer=new p.default(this.hls,"main"));var h=this.media,f=h&&h.seeking,g=!f&&(o.PTSKnown||!o.live),y=o.initSegment?o.initSegment.data:[];d.push(e.payload,y,c,r.videoCodec,a,t.cc,l,u,s,t.decryptdata,g,void 0)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(e){var t=this.fragCurrent;if(t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===k.PARSING){var i,n,r=e.tracks;if(r.audio&&this.altAudio&&delete r.audio,n=r.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(E.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==n.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==n.container&&(o="mp4a.40.2",E.logger.log("Android: force audio codec to "+o)),n.levelCodec=o,n.id=e.id}if(n=r.video,n&&(n.levelCodec=this.levels[this.level].videoCodec,n.id=e.id),e.unique){var a={codec:"",levelCodec:""};for(i in e.tracks)n=r[i],a.container=n.container,a.codec&&(a.codec+=",",a.levelCodec+=","),n.codec&&(a.codec+=n.codec),n.levelCodec&&(a.levelCodec+=n.levelCodec);r={audiovideo:a}}this.hls.trigger(m.default.BUFFER_CODECS,r);for(i in r){n=r[i],E.logger.log("main track:"+i+",container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var l=n.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(m.default.BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(e){var t=this,i=this.fragCurrent;if(i&&"main"===e.id&&e.sn===i.sn&&e.level===i.level&&("audio"!==e.type||!this.altAudio)&&this.state===k.PARSING){var n=this.levels[this.level],r=this.fragCurrent;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+i.duration,e.endDTS=e.startDTS+i.duration),E.logger.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(r.dropped=e.dropped,r.dropped){if(!r.backtracked)return r.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=k.IDLE,void this.tick();E.logger.warn("Already backtracked on this fragment, appending with the gap")}else r.backtracked=!1;var o=v.default.updateFragPTSDTS(n.details,r.sn,e.startPTS,e.endPTS,e.startDTS,e.endDTS),s=this.hls;s.trigger(m.default.LEVEL_PTS_UPDATED,{details:n.details,level:this.level,drift:o,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(i){i&&i.length&&t.state===k.PARSING&&(t.appended=!0,t.pendingBuffering=!0,s.trigger(m.default.BUFFER_APPENDING,{type:e.type,data:i,parent:"main",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(e){var t=this.fragCurrent;t&&"main"===e.id&&e.sn===t.sn&&e.level===t.level&&this.state===k.PARSING&&(this.stats.tparsed=performance.now(),this.state=k.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(e){var t=!!e.url,i=e.id;if(!t){if(this.mediaBuffer!==this.media){E.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(E.logger.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=k.IDLE}var r=this.hls;r.trigger(m.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(m.default.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(e){var t=e.id,i=!!this.hls.audioTracks[t].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(E.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()}},{key:"onBufferCreated",value:function(e){var t=e.tracks,i=void 0,n=void 0,r=!1;for(var o in t){var s=t[o];"main"===s.id?(n=o,i=s,"video"===o&&(this.videoBuffer=t[o].buffer)):r=!0}r&&i?(E.logger.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(e){if("main"===e.parent){var t=this.state;t!==k.PARSING&&t!==k.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==k.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;E.logger.log("main buffered : "+A.default.toString(t.buffered));var i=this.bufferRange.filter(function(e){return d.default.isBuffered(t,(e.start+e.end)/2)});i.push({type:e.type,start:e.startPTS,end:e.endPTS,frag:e}),this.bufferRange=i.sort(function(e,t){return e.start-t.start}),this.fragPrevious=e;var n=this.stats;n.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(m.default.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.state=k.IDLE}this.tick()}}},{key:"onError",value:function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var i=this.media,n=i&&d.default.isBuffered(i,i.currentTime)&&d.default.isBuffered(i,i.currentTime+.5);switch(e.details){case w.ErrorDetails.FRAG_LOAD_ERROR:case w.ErrorDetails.FRAG_LOAD_TIMEOUT:case w.ErrorDetails.KEY_LOAD_ERROR:case w.ErrorDetails.KEY_LOAD_TIMEOUT:if(!e.fatal){var r=this.fragLoadError;r?r++:r=1;var o=this.config;if(r<=o.fragLoadingMaxRetry||n||t.autoLevel&&t.level){this.fragLoadError=r,t.loadCounter=0;var s=Math.min(Math.pow(2,r-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);E.logger.warn("mediaController: frag loading failed, retry in "+s+" ms"),this.retryDate=performance.now()+s,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=k.FRAG_LOADING_WAITING_RETRY}else E.logger.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.hls.trigger(m.default.ERROR,e),this.state=k.ERROR}break;case w.ErrorDetails.FRAG_LOOP_LOADING_ERROR:e.fatal||(n?(this._reduceMaxBufferLength(t.duration),this.state=k.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.hls.trigger(m.default.ERROR,e),this.state=k.ERROR));break;case w.ErrorDetails.LEVEL_LOAD_ERROR:case w.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==k.ERROR&&(e.fatal?(this.state=k.ERROR,E.logger.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):this.state===k.WAITING_LEVEL&&(this.state=k.IDLE));break;case w.ErrorDetails.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==k.PARSING&&this.state!==k.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=k.IDLE):(E.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,E.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*t.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var e=this.media;if(e&&e.readyState){var t=e.currentTime,i=this.mediaBuffer?this.mediaBuffer:e,n=i.buffered;if(this.loadedmetadata||!n.length||e.seeking)if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var r=d.default.bufferInfo(e,t,0),o=!(e.paused||e.ended||0===e.buffered.length),s=t!==this.lastCurrentTime,a=this.config;if(s)this.stallReported&&(E.logger.warn("playback not stuck anymore @"+t+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(o){var l=performance.now(),u=this.hls;if(this.stalled){var c=l-this.stalled,h=r.len,p=this.nudgeRetry||0;if(h<=.5&&c>1e3*a.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,E.logger.warn("playback stalling in low buffer @"+t),u.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:h}));var f=r.nextStart,g=f-t;if(f&&g<a.maxSeekHole&&g>0){this.nudgeRetry=++p;var y=p*a.nudgeOffset;E.logger.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+f+" + nudge "+y),e.currentTime=f+y,this.stalled=void 0,u.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:f+y-t})}}else if(h>.5&&c>1e3*a.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,E.logger.warn("playback stalling in high buffer @"+t),u.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:h})),this.stalled=void 0,this.nudgeRetry=++p,p<a.nudgeMaxRetry){var _=e.currentTime,v=_+p*a.nudgeOffset;E.logger.log("adjust currentTime from "+_+" to "+v),e.currentTime=v,u.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else E.logger.error("still stuck in high buffer @"+t+" after "+a.nudgeMaxRetry+", raise fatal error"),u.trigger(m.default.ERROR,{type:w.ErrorTypes.MEDIA_ERROR,details:w.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=l,this.stallReported=!1}}else{this.loadedmetadata=!0;var b=this.startPosition,A=d.default.isBuffered(i,b);t===b&&A||(E.logger.log("target start position:"+b),A||(b=n.start(0),E.logger.log("target start position not buffered, seek to buffered.start(0) "+b)),E.logger.log("adjust currentTime from "+t+" to "+b),e.currentTime=b)}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=k.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferRange=this.bufferRange.filter(function(t){return d.default.isBuffered(e,(t.start+t.end)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=k.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(e,t){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-i)}},{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,E.logger.log("main stream:"+t+"->"+e),this.hls.trigger(m.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferRange(e.currentTime);if(t)return t.frag.level}return-1}},{key:"nextBufferRange",get:function(){var e=this.media;return e?this.followingBufferRange(this.getBufferRange(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferRange;return e?e.frag.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(y.default);i.default=C},{"../demux/demuxer":20,"../errors":25,"../event-handler":26,"../events":27,"../helper/buffer-helper":29,"../helper/level-helper":30,"../utils/binary-search":40,"../utils/logger":42,"../utils/timeRanges":43}],12:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,i){n(this,e),this.subtle=t,this.aesIV=i}return r(e,[{key:"decrypt",value:function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}]),e}();i.default=o},{}],13:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return r(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),i=new Uint32Array(4),n=0;n<i.length;n++)i[n]=t.getUint32(4*n);return i}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,i=this.subMix[0],n=this.subMix[1],r=this.subMix[2],o=this.subMix[3],s=this.invSubMix[0],a=this.invSubMix[1],l=this.invSubMix[2],u=this.invSubMix[3],c=new Uint32Array(256),d=0,h=0,p=0;for(p=0;p<256;p++)c[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){var f=h^h<<1^h<<2^h<<3^h<<4;f=f>>>8^255&f^99,e[d]=f,t[f]=d;var m=c[d],g=c[m],y=c[g],_=257*c[f]^16843008*f;i[d]=_<<24|_>>>8,n[d]=_<<16|_>>>16,r[d]=_<<8|_>>>24,o[d]=_,_=16843009*y^65537*g^257*m^16843008*d,s[f]=_<<24|_>>>8,a[f]=_<<16|_>>>16,l[f]=_<<8|_>>>24,u[f]=_,d?(d=m^c[c[c[y^m]]],h^=c[c[h]]):d=h=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),i=!0,n=0;n<t.length&&i;)i=t[n]===this.key[n],n++;if(!i){this.key=t;var r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o=this.ksRows=4*(r+6+1),s=void 0,a=void 0,l=this.keySchedule=new Uint32Array(this.ksRows),u=this.invKeySchedule=new Uint32Array(this.ksRows),c=this.sBox,d=this.rcon,h=this.invSubMix[0],p=this.invSubMix[1],f=this.invSubMix[2],m=this.invSubMix[3],g=void 0,y=void 0;for(s=0;s<o;s++)s<r?g=l[s]=t[s]:(y=g,s%r==0?(y=y<<8|y>>>24,y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y],y^=d[s/r|0]<<24):r>6&&s%r==4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y]),l[s]=g=(l[s-r]^y)>>>0);for(a=0;a<o;a++)s=o-a,y=3&a?l[s]:l[s-4],u[a]=a<4||s<=4?y:h[c[y>>>24]]^p[c[y>>>16&255]]^f[c[y>>>8&255]]^m[c[255&y]],u[a]=u[a]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,i){for(var n,r,o=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,l=this.invSubMix[0],u=this.invSubMix[1],c=this.invSubMix[2],d=this.invSubMix[3],h=this.uint8ArrayToUint32Array_(i),p=h[0],f=h[1],m=h[2],g=h[3],y=new Int32Array(e),_=new Int32Array(y.length),v=void 0,b=void 0,A=void 0,w=void 0,E=void 0,k=void 0,C=void 0,x=void 0,T=void 0,S=void 0,O=void 0,P=void 0;t<y.length;){for(T=this.networkToHostOrderSwap(y[t]),S=this.networkToHostOrderSwap(y[t+1]),O=this.networkToHostOrderSwap(y[t+2]),P=this.networkToHostOrderSwap(y[t+3]),E=T^s[0],k=P^s[1],C=O^s[2],x=S^s[3],n=4,r=1;r<o;r++)v=l[E>>>24]^u[k>>16&255]^c[C>>8&255]^d[255&x]^s[n],b=l[k>>>24]^u[C>>16&255]^c[x>>8&255]^d[255&E]^s[n+1],A=l[C>>>24]^u[x>>16&255]^c[E>>8&255]^d[255&k]^s[n+2],w=l[x>>>24]^u[E>>16&255]^c[k>>8&255]^d[255&C]^s[n+3],E=v,k=b,C=A,x=w,n+=4;v=a[E>>>24]<<24^a[k>>16&255]<<16^a[C>>8&255]<<8^a[255&x]^s[n],b=a[k>>>24]<<24^a[C>>16&255]<<16^a[x>>8&255]<<8^a[255&E]^s[n+1],A=a[C>>>24]<<24^a[x>>16&255]<<16^a[E>>8&255]<<8^a[255&k]^s[n+2],w=a[x>>>24]<<24^a[E>>16&255]<<16^a[k>>8&255]<<8^a[255&C]^s[n+3],n+=3,_[t]=this.networkToHostOrderSwap(v^p),_[t+1]=this.networkToHostOrderSwap(w^f),_[t+2]=this.networkToHostOrderSwap(A^m),_[t+3]=this.networkToHostOrderSwap(b^g),p=T,f=S,m=O,g=P,t+=4}return _.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}();i.default=o},{}],14:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./aes-crypto"),a=n(s),l=e("./fast-aes-key"),u=n(l),c=e("./aes-decryptor"),d=n(c),h=e("../errors"),p=e("../utils/logger"),f=function(){function e(t,i){r(this,e),this.observer=t,this.config=i;try{var n=crypto||self.crypto;this.subtle=n.subtle||n.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return o(e,[{key:"decrypt",value:function(e,t,i,n){var r=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){p.logger.log("JS AES decrypt");var o=this.decryptor;o||(this.decryptor=o=new d.default),o.expandKey(t),n(o.decrypt(e,0,i))}else{p.logger.log("WebCrypto AES decrypt");var s=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new u.default(s,t)),this.fastAesKey.expandKey().then(function(t){new a.default(s,i).decrypt(e,t).then(function(e){n(e)})}).catch(function(o){r.onWebCryptoError(o,e,t,i,n)})}}},{key:"onWebCryptoError",value:function(e,t,i,n,r){this.config.enableSoftwareAES?(p.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.decrypt(t,i,n,r)):(p.logger.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))}},{key:"destroy",value:function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)}}]),e}();i.default=f},{"../errors":25,"../utils/logger":42,"./aes-crypto":12,"./aes-decryptor":13,"./fast-aes-key":15}],15:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t,i){n(this,e),this.subtle=t,this.key=i}return r(e,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),e}();i.default=o},{}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./adts"),a=n(s),l=e("../utils/logger"),u=e("../demux/id3"),c=n(u),d=function(){function e(t,i,n,o){r(this,e),this.observer=t,this.id=i,this.config=o,this.remuxer=n}return o(e,[{key:"resetInitSegment",value:function(e,t,i,n,r,o){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:n,duration:o}}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,i,n,r,o,s){var u,d,h,p,f,m,g,y,_,v,b=new c.default(e),A=90*b.timeStamp;for(u=this._aacTrack,m=b.length,_=e.length;m<_-1&&(255!==e[m]||240!=(240&e[m+1]));m++);for(u.audiosamplerate||(d=a.default.getAudioConfig(this.observer,e,m,u.manifestCodec),u.config=d.config,u.audiosamplerate=d.samplerate,u.channelCount=d.channelCount,u.codec=d.codec,l.logger.log("parsed codec:"+u.codec+",rate:"+d.samplerate+",nb channel:"+d.channelCount)),f=0,p=9216e4/u.audiosamplerate;m+5<_&&(g=1&e[m+1]?7:9,h=(3&e[m+3])<<11|e[m+4]<<3|(224&e[m+5])>>>5,(h-=g)>0&&m+g+h<=_);)for(y=A+f*p,v={unit:e.subarray(m+g,m+g+h),pts:y,dts:y},u.samples.push(v),u.len+=h,m+=h+g,f++;m<_-1&&(255!==e[m]||240!=(240&e[m+1]));m++);this.remuxer.remux(n,r,i,u,{samples:[]},{samples:[{pts:A,dts:A,unit:b.payload}]},{samples:[]},t,o,s)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(e){var t,i,n=new c.default(e);if(n.hasTimeStamp)for(t=n.length,i=e.length;t<i-1;t++)if(255===e[t]&&240==(240&e[t+1]))return!0;return!1}}]),e}();i.default=d},{"../demux/id3":22,"../utils/logger":42,"./adts":17}],17:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=e("../errors"),a=function(){function e(){n(this,e)}return r(e,null,[{key:"getAudioConfig",value:function(e,t,i,n){var r,a,l,u,c,d=navigator.userAgent.toLowerCase(),h=n,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return r=1+((192&t[i+2])>>>6),(a=(60&t[i+2])>>>2)>p.length-1?void e.trigger(Event.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a}):(u=(1&t[i+2])<<2,u|=(192&t[i+3])>>>6,o.logger.log("manifest codec:"+n+",ADTS data:type:"+r+",sampleingIndex:"+a+"["+p[a]+"Hz],channelConfig:"+u),/firefox/i.test(d)?a>=6?(r=5,c=new Array(4),l=a-3):(r=2,c=new Array(2),l=a):-1!==d.indexOf("android")?(r=2,c=new Array(2),l=a):(r=5,c=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&a>=6?l=a-3:((n&&-1!==n.indexOf("mp4a.40.2")&&a>=6&&1===u||!n&&1===u)&&(r=2,c=new Array(2)),l=a)),c[0]=r<<3,c[0]|=(14&a)>>1,c[1]|=(1&a)<<7,c[1]|=u<<3,5===r&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[a],channelCount:u,codec:"mp4a.40."+r,manifestCodec:h})}}]),e}();i.default=a},{"../errors":25,"../utils/logger":42}],18:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../events"),a=n(s),l=e("../errors"),u=e("../utils/logger"),c=e("../crypt/decrypter"),d=n(c),h=e("../demux/aacdemuxer"),p=n(h),f=e("../demux/mp4demuxer"),m=n(f),g=e("../demux/tsdemuxer"),y=n(g),_=e("../remux/mp4-remuxer"),v=n(_),b=e("../remux/passthrough-remuxer"),A=n(b),w=function(){function e(t,i,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,e),this.hls=t,this.id=i,this.config=this.hls.config||o,this.typeSupported=n}return o(e,[{key:"destroy",value:function(){var e=this.demuxer;e&&e.destroy()}},{key:"push",value:function(e,t,i,n,r,o,s,l,u,c,h,p){if(e.byteLength>0&&null!=c&&null!=c.key&&"AES-128"===c.method){null==this.decrypter&&(this.decrypter=new d.default(this.hls,this.config));var f,m=this;try{f=performance.now()}catch(e){f=Date.now()}this.decrypter.decrypt(e,c.key.buffer,c.iv.buffer,function(e){var c;try{c=performance.now()}catch(e){c=Date.now()}m.hls.trigger(a.default.FRAG_DECRYPTED,{level:s,sn:l,stats:{tstart:f,tdecrypt:c}}),m.pushDecrypted(new Uint8Array(e),new Uint8Array(t),i,n,r,o,s,l,u,h,p)})}else this.pushDecrypted(new Uint8Array(e),new Uint8Array(t),i,n,r,o,s,l,u,h,p)}},{key:"pushDecrypted",value:function(e,t,i,n,r,o,s,c,d,h,f){var g=this.demuxer,_=this.id;if(!g||o!==this.cc&&!this.probe(e)){var b=this.hls,w=[{demux:y.default,remux:v.default},{demux:p.default,remux:v.default},{demux:m.default,remux:A.default}];for(var E in w){var k=w[E],C=k.demux.probe;if(C(e)){var x=this.remuxer=new k.remux(b,_,this.config,this.typeSupported);g=new k.demux(b,_,x,this.config,this.typeSupported),this.probe=C;break}}if(!g)return void b.trigger(a.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,id:_,details:l.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=g,this.lastCC=0}var T=!1,S=this.remuxer;o!==this.lastCC&&(u.logger.log(_+":discontinuity detected"),g.resetInitSegment(t,s,c,i,n,d),S.resetInitSegment(),g.resetTimeStamp(),S.resetTimeStamp(f),this.lastCC=o),s!==this.lastLevel?(u.logger.log(_+":switch detected"),g.resetInitSegment(t,s,c,i,n,d),S.resetInitSegment(),this.lastLevel=s):c===this.lastSN+1&&(T=!0),this.lastSN=c,this.cc=o,g.append(e,r,o,s,c,T,h)}}]),e}();i.default=w},{"../crypt/decrypter":14,"../demux/aacdemuxer":16,"../demux/mp4demuxer":23,"../demux/tsdemuxer":24,"../errors":25,"../events":27,"../remux/mp4-remuxer":37,"../remux/passthrough-remuxer":38,"../utils/logger":42}],19:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"__esModule",{value:!0});var r=e("../demux/demuxer-inline"),o=n(r),s=e("../events"),a=n(s),l=e("../utils/logger"),u=e("events"),c=n(u),d=function(e){var t=new c.default;t.trigger=function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t.emit.apply(t,[e,e].concat(n))},t.off=function(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];t.removeListener.apply(t,[e].concat(n))};var i=function(t,i){e.postMessage({event:t,data:i})};e.addEventListener("message",function(n){var r=n.data;switch(r.cmd){case"init":var s=JSON.parse(r.config);e.demuxer=new o.default(t,r.id,r.typeSupported,s);try{(0,l.enableLogs)(!0===s.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":e.demuxer.push(r.data,r.initSegment,r.audioCodec,r.videoCodec,r.timeOffset,r.cc,r.level,r.sn,r.duration,r.decryptdata,r.accurateTimeOffset,r.defaultInitPTS)}}),t.on(a.default.FRAG_DECRYPTED,i),t.on(a.default.FRAG_PARSING_INIT_SEGMENT,i),t.on(a.default.FRAG_PARSED,i),t.on(a.default.ERROR,i),t.on(a.default.FRAG_PARSING_METADATA,i),t.on(a.default.FRAG_PARSING_USERDATA,i),t.on(a.default.INIT_PTS_FOUND,i),t.on(a.default.FRAG_PARSING_DATA,function(t,i){var n=[],r={event:t,data:i};i.data1&&(r.data1=i.data1.buffer,n.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,n.push(i.data2.buffer),delete i.data2),e.postMessage(r,n)})};i.default=d},{"../demux/demuxer-inline":18,"../events":27,"../utils/logger":42,events:1}],20:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../events"),a=n(s),l=e("../demux/demuxer-inline"),u=n(l),c=e("../demux/demuxer-worker"),d=n(c),h=e("../utils/logger"),p=e("../errors"),f=function(){function t(i,n){r(this,t),this.hls=i,this.id=n;var o={mp4:MediaSource.isTypeSupported("video/mp4"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};if(i.config.enableWorker&&"undefined"!=typeof Worker){h.logger.log("demuxing in webworker");var s=void 0;try{var l=e("webworkify");s=this.w=l(d.default),this.onwmsg=this.onWorkerMessage.bind(this),s.addEventListener("message",this.onwmsg),s.onerror=function(e){i.trigger(a.default.ERROR,{type:p.ErrorTypes.OTHER_ERROR,details:p.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},s.postMessage({cmd:"init",typeSupported:o,id:n,config:JSON.stringify(i.config)})}catch(e){h.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),s&&URL.revokeObjectURL(s.objectURL),this.demuxer=new u.default(i,n,o),this.w=void 0}}else this.demuxer=new u.default(i,n,o)}return o(t,[{key:"destroy",value:function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}}},{key:"push",value:function(e,t,i,n,r,o,s,a,l,u,c,d){var h=this.w;if(h)h.postMessage({cmd:"demux",data:e,initSegment:t,audioCodec:i,videoCodec:n,timeOffset:r,cc:o,level:s,sn:a,duration:l,decryptdata:u,accurateTimeOffset:c,defaultInitPTS:d},[e]);else{var p=this.demuxer;p&&p.push(e,t,i,n,r,o,s,a,l,u,c,d)}}},{key:"onWorkerMessage",value:function(e){var t=e.data,i=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case a.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:i.trigger(t.event,t.data)}}}]),t}();i.default=f},{"../demux/demuxer-inline":18,"../demux/demuxer-worker":19,"../errors":25,"../events":27,"../utils/logger":42,webworkify:3}],21:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=function(){function e(t){n(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return r(e,[{key:"loadWord",value:function(){var e=this.data,t=this.bytesAvailable,i=e.byteLength-t,n=new Uint8Array(4),r=Math.min(4,t);if(0===r)throw new Error("no bytes available");n.set(e.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r}},{key:"skipBits",value:function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}},{key:"readBits",value:function(e){var t=Math.min(this.bitsAvailable,e),i=this.word>>>32-t;return e>32&&o.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?i<<t|this.readBits(t):i}},{key:"skipLZ",value:function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var e=this.skipLZ();return this.readBits(e+1)-1}},{key:"readEG",value:function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(e){var t,i,n=8,r=8;for(t=0;t<e;t++)0!==r&&(i=this.readEG(),r=(n+i+256)%256),n=0===r?n:r}},{key:"readSPS",value:function(){var e,t,i,n,r,o,s,a=0,l=0,u=0,c=0,d=this.readUByte.bind(this),h=this.readBits.bind(this),p=this.readUEG.bind(this),f=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),y=this.skipUEG.bind(this),_=this.skipScalingList.bind(this);if(d(),e=d(),h(5),m(3),d(),y(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var v=p();if(3===v&&m(1),y(),y(),m(1),f())for(o=3!==v?8:12,s=0;s<o;s++)f()&&_(s<6?16:64)}y();var b=p();if(0===b)p();else if(1===b)for(m(1),g(),g(),t=p(),s=0;s<t;s++)g();y(),m(1),i=p(),n=p(),r=h(1),0===r&&m(1),m(1),f()&&(a=p(),l=p(),u=p(),c=p());var A=[1,1];if(f()&&f())switch(d()){case 1:A=[1,1];break;case 2:A=[12,11];break;case 3:A=[10,11];break;case 4:A=[16,11];break;case 5:A=[40,33];break;case 6:A=[24,11];break;case 7:A=[20,11];break;case 8:A=[32,11];break;case 9:A=[80,33];break;case 10:A=[18,11];break;case 11:A=[15,11];break;case 12:A=[64,33];break;case 13:A=[160,99];break;case 14:A=[4,3];break;case 15:A=[3,2];break;case 16:A=[2,1];break;case 255:A=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(i+1)-2*a-2*l),height:(2-r)*(n+1)*16-(r?2:4)*(u+c),pixelRatio:A}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),e}();i.default=s},{"../utils/logger":42}],22:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=function(){function e(t){n(this,e),this._hasTimeStamp=!1;for(var i,r,s,a,l,u,c,d,h=0;;)if(c=this.readUTF(t,h,3),h+=3,"ID3"===c)h+=3,i=127&t[h++],r=127&t[h++],s=127&t[h++],a=127&t[h++],l=(i<<21)+(r<<14)+(s<<7)+a,u=h+l,this._parseID3Frames(t,h,u),h=u;else{if("3DI"!==c)return h-=3,void((d=h)&&(this.hasTimeStamp||o.logger.warn("ID3 tag found, but no timestamp"),this._length=d,this._payload=t.subarray(0,d)));h+=7,o.logger.log("3DI footer found, end: "+h)}}return r(e,[{key:"readUTF",value:function(e,t,i){var n="",r=t,o=t+i;do{n+=String.fromCharCode(e[r++])}while(r<o);return n}},{key:"_parseID3Frames",value:function(e,t,i){for(var n,r;t+8<=i;)switch(n=this.readUTF(e,t,4),t+=4,e[t++],e[t++],e[t++],e[t++],e[t++],e[t++],n){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(e,t,44)){t+=44,t+=4;var s=1&e[t++];this._hasTimeStamp=!0,r=((e[t++]<<23)+(e[t++]<<15)+(e[t++]<<7)+e[t++])/45,s&&(r+=47721858.84),r=Math.round(r),o.logger.trace("ID3 timestamp found: "+r),this._timeStamp=r}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),e}();i.default=s},{"../utils/logger":42}],23:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../events"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t,i,r){n(this,e),this.observer=t,this.id=i,this.remuxer=r}return r(e,[{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(t,i,n,r,o,a){var l=this.initData=e.parseInitSegment(t),u={};l.audio&&(u.audio={container:"audio/mp4",codec:r,initSegment:t}),l.video&&(u.video={container:"video/mp4",codec:o,initSegment:t}),this.observer.trigger(s.default.FRAG_PARSING_INIT_SEGMENT,{id:this.id,level:i,sn:n,unique:!1,tracks:u})}},{key:"append",value:function(t,i,n,r,o,s,a){var l=this.initData,u=e.startDTS(l,t);this.remuxer.remux(r,o,n,l.audio,l.video,null,null,u,s,a,t)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){return t.length>=8&&["moof","ftyp","styp"].indexOf(e.bin2str(t.subarray(4,8)))>=0}},{key:"bin2str",value:function(e){return String.fromCharCode.apply(null,e)}},{key:"findBox",value:function(t,i){var n,r,o,s,a,l=[];if(!i.length)return null;for(n=0;n<t.byteLength;)r=t[n]<<24,r|=t[n+1]<<16,r|=t[n+2]<<8,r|=t[n+3],o=e.bin2str(t.subarray(n+4,n+8)),s=r>1?n+r:t.byteLength,o===i[0]&&(1===i.length?l.push(t.subarray(n+8,s)):(a=e.findBox(t.subarray(n+8,s),i.slice(1)),a.length&&(l=l.concat(a)))),n=s;return l}},{key:"parseInitSegment",value:function(t){var i=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var n=e.findBox(t,["tkhd"])[0];if(n){var r=n[0],o=0===r?12:20,s=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3];s=s<0?4294967296+s:s;var a=e.findBox(t,["mdia","mdhd"])[0];if(a){r=a[0],o=0===r?12:20;var l=a[o]<<24|a[o+1]<<16|a[o+2]<<8|a[o+3],u=e.findBox(t,["mdia","hdlr"])[0];if(u){var c=e.bin2str(u.subarray(8,12)),d={soun:"audio",vide:"video"}[c];d&&(i[s]={timescale:l,type:d},i[d]={timescale:l,id:s})}}}}),i}},{key:"startDTS",value:function(t,i){var n,r,o;return n=e.findBox(i,["moof","traf"]),r=[].concat.apply([],n.map(function(i){return e.findBox(i,["tfhd"]).map(function(n){var r,o,s;return r=n[4]<<24|n[5]<<16|n[6]<<8|n[7],o=t[r].timescale||9e4,s=e.findBox(i,["tfdt"]).map(function(e){var t,i;return t=e[0],i=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(i*=Math.pow(2,32),i+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),i})[0],(s=s||1/0)/o})})),o=Math.min.apply(null,r),isFinite(o)?o:0}}]),e}();i.default=a},{"../events":27}],24:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./adts"),a=n(s),l=e("../events"),u=n(l),c=e("./exp-golomb"),d=n(c),h=e("../utils/logger"),p=e("../errors"),f=function(){function e(t,i,n,o,s){r(this,e),this.observer=t,this.id=i,this.config=o,this.typeSupported=s,this.remuxer=n}return o(e,[{key:"resetInitSegment",value:function(e,t,i,n,r,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=o}},{key:"resetTimeStamp",value:function(){}},{key:"append",value:function(e,t,i,n,r,o,s){var a,l,c,d,f,m=e.length,g=!1;this.contiguous=o;var y=this.pmtParsed,_=this._avcTrack,v=this._audioTrack,b=this._id3Track,A=_.id,w=v.id,E=b.id,k=this._pmtId,C=_.pesData,x=v.pesData,T=b.pesData,S=this._parsePAT,O=this._parsePMT,P=this._parsePES,M=this._parseAVCPES.bind(this),I=this._parseAACPES.bind(this),B=this._parseMPEGPES.bind(this),D=this._parseID3PES.bind(this);for(m-=m%188,a=0;a<m;a+=188)if(71===e[a]){if(l=!!(64&e[a+1]),c=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((d=a+5+e[a+4])===a+188)continue}else d=a+4;switch(c){case A:l&&(C&&(f=P(C))&&M(f,!1),C={data:[],size:0}),C&&(C.data.push(e.subarray(d,a+188)),C.size+=a+188-d);break;case w:l&&(x&&(f=P(x))&&(v.isAAC?I(f):B(f)),x={data:[],size:0}),x&&(x.data.push(e.subarray(d,a+188)),x.size+=a+188-d);break;case E:l&&(T&&(f=P(T))&&D(f),T={data:[],size:0}),T&&(T.data.push(e.subarray(d,a+188)),T.size+=a+188-d);break;case 0:l&&(d+=e[d]+1),k=this._pmtId=S(e,d);break;case k:l&&(d+=e[d]+1);var F=O(e,d,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3);A=F.avc,A>0&&(_.id=A),w=F.audio,w>0&&(v.id=w,v.isAAC=F.isAAC),E=F.id3,E>0&&(b.id=E),g&&!y&&(h.logger.log("reparse from beginning"),g=!1,a=-188),y=this.pmtParsed=!0;break;case 17:case 8191:break;default:g=!0}}else this.observer.trigger(u.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,id:this.id,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});C&&(f=P(C))?(M(f,!0),_.pesData=null):_.pesData=C,x&&(f=P(x))?(v.isAAC?I(f):B(f),v.pesData=null):(x&&x.size&&h.logger.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=x),T&&(f=P(T))?(D(f),b.pesData=null):b.pesData=T,this.remuxer.remux(n,r,i,v,_,b,this._txtTrack,t,o,s)}},{key:"destroy",value:function(){this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(e,t){return(31&e[t+10])<<8|e[t+11]}},{key:"_parsePMT",value:function(e,t,i){var n,r,o,s,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(n=(15&e[t+1])<<8|e[t+2],r=t+3+n-4,o=(15&e[t+10])<<8|e[t+11],t+=12+o;t<r;){switch(s=(31&e[t+1])<<8|e[t+2],e[t]){case 15:-1===a.audio&&(a.audio=s);break;case 21:-1===a.id3&&(a.id3=s);break;case 27:-1===a.avc&&(a.avc=s);break;case 3:case 4:i?-1===a.audio&&(a.audio=s,a.isAAC=!1):h.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:h.logger.warn("HEVC stream type found, not supported for now");break;default:h.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return a}},{key:"_parsePES",value:function(e){var t,i,n,r,o,s,a,l,u=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var d=new Uint8Array(c[0].length+c[1].length);d.set(c[0]),d.set(c[1],c[0].length),c[0]=d,c.splice(1,1)}if(t=c[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;i=t[7],192&i&&(s=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,s>4294967295&&(s-=8589934592),64&i?(a=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,a>4294967295&&(a-=8589934592),s-a>54e5&&(h.logger.warn(Math.round((s-a)/9e4)+"s delta between PTS and DTS, align them"),s=a)):a=s),r=t[8],l=r+9,e.size-=l,o=new Uint8Array(e.size);for(var p=0,f=c.length;p<f;p++){t=c[p];var m=t.byteLength;if(l){if(l>m){l-=m;continue}t=t.subarray(l),m-=l,l=0}o.set(t,u),u+=m}return n&&(n-=r+3),{data:o,pts:s,dts:a,len:n}}return null}},{key:"pushAccesUnit",value:function(e,t){e.units.units.length&&e.frame&&(!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(t.samples.length||this.contiguous)?t.samples.push(e):t.dropped++),e.debug.length&&h.logger.log(e.pts+"/"+e.dts+":"+e.debug+","+e.units.length)}},{key:"_parseAVCPES",value:function(e,t){var i,n,r,o=this,s=this._avcTrack,a=this._parseAVCNALu(e.data),l=this.avcSample;e.data=null,a.forEach(function(t){switch(t.type){case 1:n=!0,l.frame=!0;var a=t.data;if(a.length>4){var u=new d.default(a).readSliceType();2!==u&&4!==u&&7!==u&&9!==u||(l.key=!0)}break;case 5:n=!0,l||(l=o.avcSample=o._createAVCSample(!0,e.pts,e.dts,"")),l.key=!0,l.frame=!0;break;case 6:n=!0,i=new d.default(o.discardEPB(t.data)),i.readUByte();for(var c=0,h=0,p=!1,f=0;!p&&i.bytesAvailable>1;){c=0;do{f=i.readUByte(),c+=f}while(255===f);h=0;do{f=i.readUByte(),h+=f}while(255===f);if(4===c&&0!==i.bytesAvailable){if(p=!0,181===i.readUByte()&&49===i.readUShort()&&1195456820===i.readUInt()&&3===i.readUByte()){var m=i.readUByte(),g=i.readUByte(),y=31&m,_=[m,g];for(r=0;r<y;r++)_.push(i.readUByte()),_.push(i.readUByte()),_.push(i.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}else if(h<i.bytesAvailable)for(r=0;r<h;r++)i.readUByte()}break;case 7:if(n=!0,!s.sps){i=new d.default(t.data);var v=i.readSPS();s.width=v.width,
s.height=v.height,s.pixelRatio=v.pixelRatio,s.sps=[t.data],s.duration=o._duration;var b=t.data.subarray(1,4),A="avc1.";for(r=0;r<3;r++){var w=b[r].toString(16);w.length<2&&(w="0"+w),A+=w}s.codec=A}break;case 8:n=!0,s.pps||(s.pps=[t.data]);break;case 9:n=!1,l&&o.pushAccesUnit(l,s),l=o.avcSample=o._createAVCSample(!1,e.pts,e.dts,"");break;case 12:n=!1;break;default:n=!1,l&&(l.debug+="unknown NAL "+t.type+" ")}l&&n&&l.units.units.push(t)}),t&&l&&(this.pushAccesUnit(l,s),this.avcSample=null)}},{key:"_createAVCSample",value:function(e,t,i,n){return{key:e,pts:t,dts:i,units:{units:[],length:0},debug:n}}},{key:"_insertSampleInOrder",value:function(e,t){var i=e.length;if(i>0){if(t.pts>=e[i-1].pts)e.push(t);else for(var n=i-1;n>=0;n--)if(t.pts<e[n].pts){e.splice(n,0,t);break}}else e.push(t)}},{key:"_getLastNalUnit",value:function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.units.length){var i=this._avcTrack,n=i.samples;e=n[n.length-1]}if(e){var r=e.units.units;t=r[r.length-1]}return t}},{key:"_parseAVCNALu",value:function(e){var t,i,n,r,o,s=0,a=e.byteLength,l=this._avcTrack,u=l.naluState||0,c=u,d=[],h=-1;for(-1===u&&(h=0,o=31&e[0],u=0,s=1);s<a;)if(t=e[s++],u)if(1!==u)if(t)if(1===t){if(h>=0)n={data:e.subarray(h,s-u-1),type:o},d.push(n);else{var p=this._getLastNalUnit();if(p&&(c&&s<=4-c&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-c)),(i=s-u-1)>0)){var f=new Uint8Array(p.data.byteLength+i);f.set(p.data,0),f.set(e.subarray(0,i),p.data.byteLength),p.data=f}}s<a?(r=31&e[s],h=s,o=r,u=0):u=-1}else u=0;else u=3;else u=t?0:2;else u=t?0:1;if(h>=0&&u>=0&&(n={data:e.subarray(h,a),type:o,state:u},d.push(n)),0===d.length){var m=this._getLastNalUnit();if(m){var g=new Uint8Array(m.data.byteLength+e.byteLength);g.set(m.data,0),g.set(e,m.data.byteLength),m.data=g}}return l.naluState=u,d}},{key:"discardEPB",value:function(e){for(var t,i,n=e.byteLength,r=[],o=1;o<n-2;)0===e[o]&&0===e[o+1]&&3===e[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var s=0;for(o=0;o<t;s++,o++)s===r[0]&&(s++,r.shift()),i[o]=e[s];return i}},{key:"_parseAACPES",value:function(e){var t,i,n,r,o,s,l,c,d,f=this._audioTrack,m=e.data,g=e.pts,y=this.aacOverFlow,_=this.aacLastPTS;if(y){var v=new Uint8Array(y.byteLength+m.byteLength);v.set(y,0),v.set(m,y.byteLength),m=v}for(o=0,c=m.length;o<c-1&&(255!==m[o]||240!=(240&m[o+1]));o++);if(o){var b,A;if(o<c-1?(b="AAC PES did not start with ADTS header,offset:"+o,A=!1):(b="no ADTS header found in AAC PES",A=!0),h.logger.warn("parsing error:"+b),this.observer.trigger(u.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,id:this.id,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:A,reason:b}),A)return}if(!f.audiosamplerate){var w=this.audioCodec;t=a.default.getAudioConfig(this.observer,m,o,w),f.config=t.config,f.audiosamplerate=t.samplerate,f.channelCount=t.channelCount,f.codec=t.codec,f.manifestCodec=t.manifestCodec,f.duration=this._duration,h.logger.log("parsed codec:"+f.codec+",rate:"+t.samplerate+",nb channel:"+t.channelCount)}if(r=0,n=9216e4/f.audiosamplerate,y&&_){var E=_+n;Math.abs(E-g)>1&&(h.logger.log("AAC: align PTS for overlapping frames by "+Math.round((E-g)/90)),g=E)}for(;o+5<c&&(s=1&m[o+1]?7:9,i=(3&m[o+3])<<11|m[o+4]<<3|(224&m[o+5])>>>5,(i-=s)>0&&o+s+i<=c);)for(l=g+r*n,d={unit:m.subarray(o+s,o+s+i),pts:l,dts:l},f.samples.push(d),f.len+=i,o+=i+s,r++;o<c-1&&(255!==m[o]||240!=(240&m[o+1]));o++);y=o<c?m.subarray(o,c):null,this.aacOverFlow=y,this.aacLastPTS=l}},{key:"_parseMPEGPES",value:function(e){for(var t,i=e.data,n=e.pts,r=i.length,o=0,s=0;s<r&&(t=this._parseMpeg(i,s,r,o++,n))>0;)s+=t}},{key:"_onMpegFrame",value:function(e,t,i,n,r,o){var s=1152/i*1e3,a=o+r*s,l=this._audioTrack;l.config=[],l.channelCount=n,l.audiosamplerate=i,l.duration=this._duration,l.samples.push({unit:e,pts:a,dts:a}),l.len+=e.length}},{key:"_onMpegNoise",value:function(e){h.logger.warn("mpeg audio has noise: "+e.length+" bytes")}},{key:"_parseMpeg",value:function(e,t,i,n,r){var o=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],s=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];if(t+2>i)return-1;if(255===e[t]||224==(224&e[t+1])){if(t+24>i)return-1;var a=e[t+1]>>3&3,l=e[t+1]>>1&3,u=e[t+2]>>4&15,c=e[t+2]>>2&3,d=!!(2&e[t+2]);if(1!==a&&0!==u&&15!==u&&3!==c){var h=3===a?3-l:3===l?3:4,p=1e3*o[14*h+u-1],f=3===a?0:2===a?1:2,m=s[3*f+c],g=d?1:0,y=e[t+3]>>6==3?1:2,_=3===l?(3===a?12:6)*p/m+g<<2:(3===a?144:72)*p/m+g|0;return t+_>i?-1:(this._onMpegFrame&&this._onMpegFrame(e.subarray(t,t+_),p,m,y,n,r),_)}}for(var v=t+2;v<i;){if(255===e[v-1]&&224==(224&e[v]))return this._onMpegNoise&&this._onMpegNoise(e.subarray(t,v-1)),v-t-1;v++}return-1}},{key:"_parseID3PES",value:function(e){this._id3Track.samples.push(e)}}],[{key:"probe",value:function(e){return e.length>=564&&71===e[0]&&71===e[188]&&71===e[376]}}]),e}();i.default=f},{"../errors":25,"../events":27,"../utils/logger":42,"./adts":17,"./exp-golomb":21}],25:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},i.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException",WEBVTT_EXCEPTION:"webVTTException"}},{}],26:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./utils/logger"),a=e("./errors"),l=e("./events"),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=function(){function e(t){n(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return o(e,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===r(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(e,t){this.onEventGeneric(e,t)}},{key:"onEventGeneric",value:function(e,t){var i=function(e,t){var i="on"+e.replace("hls","");if("function"!=typeof this[i])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,t)};try{i.call(this,e,t).call()}catch(t){s.logger.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(u.default.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}}}]),e}();i.default=c},{"./errors":25,"./events":27,"./utils/logger":42}],27:[function(e,t,i){"use strict";t.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],28:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"getSilentFrame",value:function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),e}();i.default=o},{}],29:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"isBuffered",value:function(e,t){if(e)for(var i=e.buffered,n=0;n<i.length;n++)if(t>=i.start(n)&&t<=i.end(n))return!0;return!1}},{key:"bufferInfo",value:function(e,t,i){if(e){var n,r=e.buffered,o=[];for(n=0;n<r.length;n++)o.push({start:r.start(n),end:r.end(n)});return this.bufferedInfo(o,t,i)}return{len:0,start:t,end:t,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,i){var n,r,o,s,a,l=[];for(e.sort(function(e,t){return e.start-t.start||t.end-e.end}),a=0;a<e.length;a++){var u=l.length;if(u){var c=l[u-1].end;e[a].start-c<i?e[a].end>c&&(l[u-1].end=e[a].end):l.push(e[a])}else l.push(e[a])}for(a=0,n=0,r=o=t;a<l.length;a++){var d=l[a].start,h=l[a].end;if(t+i>=d&&t<h)r=d,o=h,n=o-t;else if(t+i<d){s=d;break}}return{len:n,start:r,end:o,nextStart:s}}}]),e}();i.default=o},{}],30:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=function(){function e(){n(this,e)}return r(e,null,[{key:"mergeDetails",value:function(t,i){var n,r=Math.max(t.startSN,i.startSN)-i.startSN,s=Math.min(t.endSN,i.endSN)-i.startSN,a=i.startSN-t.startSN,l=t.fragments,u=i.fragments,c=0;if(s<r)return void(i.PTSKnown=!1);for(var d=r;d<=s;d++){var h=l[a+d],p=u[d];p&&h&&(c=h.cc-p.cc,isNaN(h.startPTS)||(p.start=p.startPTS=h.startPTS,p.endPTS=h.endPTS,p.duration=h.duration,n=p))}if(c)for(o.logger.log("discontinuity sliding from playlist, take drift into account"),d=0;d<u.length;d++)u[d].cc+=c;if(n)e.updateFragPTSDTS(i,n.sn,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(a>=0&&a<l.length){var f=l[a].start;for(d=0;d<u.length;d++)u[d].start+=f}i.PTSKnown=t.PTSKnown}},{key:"updateFragPTSDTS",value:function(t,i,n,r,o,s){var a,l,u,c;if(!t||i<t.startSN||i>t.endSN)return 0;if(a=i-t.startSN,l=t.fragments,u=l[a],!isNaN(u.startPTS)){var d=Math.abs(u.startPTS-n);isNaN(u.deltaPTS)?u.deltaPTS=d:u.deltaPTS=Math.max(d,u.deltaPTS),n=Math.min(n,u.startPTS),r=Math.max(r,u.endPTS),o=Math.min(o,u.startDTS),s=Math.max(s,u.endDTS)}var h=n-u.start;for(u.start=u.startPTS=n,u.endPTS=r,u.startDTS=o,u.endDTS=s,u.duration=r-n,c=a;c>0;c--)e.updatePTS(l,c,c-1);for(c=a;c<l.length-1;c++)e.updatePTS(l,c,c+1);return t.PTSKnown=!0,h}},{key:"updatePTS",value:function(e,t,i){var n=e[t],r=e[i],s=r.startPTS;isNaN(s)?r.start=i>t?n.start+n.duration:n.start-r.duration:i>t?(n.duration=s-n.start,n.duration<0&&o.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(r.duration=n.start-s,r.duration<0&&o.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}}]),e}();i.default=s},{"../utils/logger":42}],31:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./events"),a=n(s),l=e("./errors"),u=e("./loader/playlist-loader"),c=n(u),d=e("./loader/fragment-loader"),h=n(d),p=e("./utils/xhr-loader"),f=n(p),m=e("./loader/key-loader"),g=n(m),y=e("./controller/stream-controller"),_=n(y),v=e("./controller/level-controller"),b=n(v),A=e("./utils/logger"),w=e("events"),E=n(w),k=e("./config"),C=function(){function e(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,e);var n=e.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in n)o in i||(i[o]=n[o]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,A.enableLogs)(i.debug),this.config=i;var s=this.observer=new E.default;s.trigger=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];s.emit.apply(s,[e,e].concat(i))},s.off=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];s.removeListener.apply(s,[e].concat(i))},this.on=s.on.bind(s),this.off=s.off.bind(s),this.trigger=s.trigger.bind(s);var a=this.levelController=new b.default(this),l=this.streamController=new _.default(this),u=[a,l],d=i.audioStreamController;d&&u.push(new d(this)),this.networkControllers=u;var p=this.abrController=new i.abrController(this),f=new i.bufferController(this),m=new i.capLevelController(this),y=new i.fpsController(this),v=new c.default(this),w=new h.default(this),k=new g.default(this),C=[v,w,k,p,f,m,y];if(d=i.audioTrackController){var x=new d(this);this.audioTrackController=x,C.push(x)}if(d=i.subtitleTrackController){var T=new d(this);this.subtitleTrackController=T,C.push(T)}[i.subtitleStreamController,i.timelineController].forEach(function(e){e&&C.push(new e(t))}),this.coreComponents=C}return o(e,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"__VERSION__"}},{key:"Events",get:function(){return a.default}},{key:"ErrorTypes",get:function(){return l.ErrorTypes}},{key:"ErrorDetails",get:function(){return l.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:k.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}]),o(e,[{key:"destroy",value:function(){A.logger.log("destroy"),this.trigger(a.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(e){A.logger.log("attachMedia"),this.media=e,this.trigger(a.default.MEDIA_ATTACHING,{media:e})}},{key:"detachMedia",value:function(){A.logger.log("detachMedia"),this.trigger(a.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(e){A.logger.log("loadSource:"+e),this.url=e,this.trigger(a.default.MANIFEST_LOADING,{url:e})}},{key:"startLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;A.logger.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})}},{key:"stopLoad",value:function(){A.logger.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})}},{key:"swapAudioCodec",value:function(){A.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){A.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){A.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){A.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){A.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.abrController.minAutoLevel)},set:function(e){A.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){A.logger.log("set startLevel:"+e),this.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(e){A.logger.log("set autoLevelCapping:"+e),this.abrController.autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}}]),e}();C.PlaylistLoader=c.default,C.FragmentLoader=h.default,C.XhrLoader=f.default,i.default=C},{"./config":4,"./controller/level-controller":10,"./controller/stream-controller":11,"./errors":25,"./events":27,"./loader/fragment-loader":33,"./loader/key-loader":34,"./loader/playlist-loader":35,"./utils/logger":42,"./utils/xhr-loader":44,events:1}],32:[function(e,t,i){"use strict";t.exports=e("./hls.js").default},{"./hls.js":31}],33:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../events"),u=n(l),c=e("../event-handler"),d=n(c),h=e("../errors"),p=e("../utils/logger"),f=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.FRAG_LOADING));return i.loaders={},i}return s(t,e),a(t,[{key:"destroy",value:function(){var e=this.loaders;for(var t in e){var i=e[t];i&&i.destroy()}this.loaders={},d.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(e){var t=e.frag,i=t.type,n=this.loaders[i],r=this.hls.config;t.loaded=0,n&&(p.logger.warn("abort previous fragment loader for type:"+i),n.abort()),n=this.loaders[i]=t.loader=void 0!==r.fLoader?new r.fLoader(r):new r.loader(r);var o=void 0,s=void 0,a=void 0;o={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var l=t.byteRangeStartOffset,u=t.byteRangeEndOffset;isNaN(l)||isNaN(u)||(o.rangeStart=l,o.rangeEnd=u),s={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},a={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},n.load(o,s,a)}},{key:"loadsuccess",value:function(e,t,i){var n=e.data,r=i.frag;r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(u.default.FRAG_LOADED,{payload:n,frag:r,stats:t})}},{key:"loaderror",value:function(e,t){var i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e})}},{key:"loadtimeout",value:function(e,t){var i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag})}},{key:"loadprogress",value:function(e,t,i){var n=t.frag;n.loaded=e.loaded,this.hls.trigger(u.default.FRAG_LOAD_PROGRESS,{frag:n,stats:e})}}]),t}(d.default);i.default=f},{"../errors":25,"../event-handler":26,"../events":27,"../utils/logger":42}],34:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../events"),u=n(l),c=e("../event-handler"),d=n(c),h=e("../errors"),p=e("../utils/logger"),f=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,u.default.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return s(t,e),a(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},d.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(e){var t=e.frag,i=t.type,n=this.loaders[i],r=t.decryptdata,o=r.uri;if(o!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;n&&(p.logger.warn("abort previous key loader for type:"+i),n.abort()),t.loader=this.loaders[i]=new s.loader(s),this.decrypturl=o,this.decryptkey=null;var a=void 0,l=void 0,c=void 0;a={url:o,frag:t,responseType:"arraybuffer"},l={timeout:s.fragLoadingTimeOut,maxRetry:s.fragLoadingMaxRetry,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(a,l,c)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(u.default.KEY_LOADED,{frag:t}))}},{key:"loadsuccess",value:function(e,t,i){var n=i.frag;this.decryptkey=n.decryptdata.key=new Uint8Array(e.data),n.loader=void 0,this.loaders[n.type]=void 0,this.hls.trigger(u.default.KEY_LOADED,{frag:n})}},{key:"loaderror",value:function(e,t){var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:i,response:e})}},{key:"loadtimeout",value:function(e,t){var i=t.frag,n=i.loader;n&&n.abort(),this.loaders[t.type]=void 0,this.hls.trigger(u.default.ERROR,{type:h.ErrorTypes.NETWORK_ERROR,details:h.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})}}]),t}(d.default);i.default=f},{"../errors":25,"../event-handler":26,"../events":27,"../utils/logger":42}],35:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("url-toolkit"),u=n(l),c=e("../events"),d=n(c),h=e("../event-handler"),p=n(h),f=e("../errors"),m=e("../utils/attr-list"),g=n(m),y=e("../utils/logger"),_=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,v=/#EXT-X-MEDIA:(.*)/g,b=/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*))?|(?!#)(\S.+)|#EXT-X-BYTERANGE: *(.+)|#EXT-X-PROGRAM-DATE-TIME:(.+)|#.*/g,A=function(){function e(){s(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return a(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=u.default.buildAbsoluteURL(this.baseuri,this.reluri)),this._uri}}]),e}(),w=function(){function e(){s(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return a(e,[{key:"createInitializationVector",value:function(e){for(var t=new Uint8Array(16),i=12;i<16;i++)t[i]=e>>8*(15-i)&255;return t}},{key:"fragmentDecryptdataFromLevelkey",value:function(e,t){var i=e;return e&&e.method&&e.uri&&!e.iv&&(i=new A,i.method=e.method,i.baseuri=e.baseuri,i.reluri=e.reluri,i.iv=this.createInitializationVector(t)),i}},{key:"cloneObj",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=u.default.buildAbsoluteURL(this.baseurl,this.relurl)),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var i=this.lastByteRangeEndOffset;e[0]=i||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),E=function(e){function t(e){s(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,d.default.MANIFEST_LOADING,d.default.LEVEL_LOADING,d.default.AUDIO_TRACK_LOADING,d.default.SUBTITLE_TRACK_LOADING));return i.loaders={},i}
return o(t,e),a(t,[{key:"destroy",value:function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},p.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(e){this.load(e.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})}},{key:"onAudioTrackLoading",value:function(e){this.load(e.url,{type:"audioTrack",id:e.id})}},{key:"onSubtitleTrackLoading",value:function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})}},{key:"load",value:function(e,t){var i=this.loaders[t.type];if(i){var n=i.context;if(n&&n.url===e)return void y.logger.trace("playlist request ongoing");y.logger.warn("abort previous loader for type:"+t.type),i.abort()}var r=this.hls.config,o=void 0,s=void 0,a=void 0,l=void 0;"manifest"===t.type?(o=r.manifestLoadingMaxRetry,s=r.manifestLoadingTimeOut,a=r.manifestLoadingRetryDelay,l=r.manifestLoadingMaxRetryTimeout):(o=r.levelLoadingMaxRetry,s=r.levelLoadingTimeOut,a=r.levelLoadingRetryDelay,l=r.levelLoadingMaxRetryTimeout,y.logger.log("loading playlist for "+t.type+" "+(t.level||t.id))),i=this.loaders[t.type]=t.loader=void 0!==r.pLoader?new r.pLoader(r):new r.loader(r),t.url=e,t.responseType="";var u=void 0,c=void 0;u={timeout:s,maxRetry:o,retryDelay:a,maxRetryDelay:l},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},i.load(t,u,c)}},{key:"resolve",value:function(e,t){return u.default.buildAbsoluteURL(t,e)}},{key:"parseMasterPlaylist",value:function(e,t){var i=[],n=void 0;for(_.lastIndex=0;null!=(n=_.exec(e));){var r={},o=r.attrs=new g.default(n[1]);r.url=this.resolve(n[2],t);var s=o.decimalResolution("RESOLUTION");s&&(r.width=s.width,r.height=s.height),r.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),r.name=o.NAME;var a=o.CODECS;if(a){a=a.split(/[ ,]+/);for(var l=0;l<a.length;l++){var u=a[l];-1!==u.indexOf("avc1")?r.videoCodec=this.avc1toavcoti(u):r.audioCodec=u}}i.push(r)}return i}},{key:"parseMasterPlaylistMedia",value:function(e,t,i){var n=void 0,r=[],o=0;for(v.lastIndex=0;null!=(n=v.exec(e));){var s={},a=new g.default(n[1]);a.TYPE===i&&(s.groupId=a["GROUP-ID"],s.name=a.NAME,s.type=i,s.default="YES"===a.DEFAULT,s.autoselect="YES"===a.AUTOSELECT,s.forced="YES"===a.FORCED,a.URI&&(s.url=this.resolve(a.URI,t)),s.lang=a.LANGUAGE,s.name||(s.name=s.lang),s.id=o++,r.push(s))}return r}},{key:"avc1toavcoti",value:function(e){var t,i=e.split(".");return i.length>2?(t=i.shift()+".",t+=parseInt(i.shift()).toString(16),t+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):t=e,t}},{key:"parseLevelPlaylist",value:function(e,t,i,n){var r,o,s=0,a=0,l={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},u=new A,c=0,d=null,h=new w;for(b.lastIndex=0;null!==(r=b.exec(e));){var p=r[1];if(p){h.duration=parseFloat(p);var f=(" "+r[2]).slice(1);h.title=f||null,h.tagList.push(f?["INF",p,f]:["INF",p])}else if(r[3]){if(!isNaN(h.duration)){var m=s++;h.type=n,h.start=a,h.levelkey=u,h.sn=m,h.level=i,h.cc=c,h.baseurl=t,h.relurl=(" "+r[3]).slice(1),l.fragments.push(h),d=h,a+=h.duration,h=new w}}else if(r[4]){if(h.rawByteRange=(" "+r[4]).slice(1),d){var _=d.byteRangeEndOffset;_&&(h.lastByteRangeEndOffset=_)}}else if(r[5])h.rawProgramDateTime=(" "+r[5]).slice(1),h.tagList.push(["PROGRAM-DATE-TIME",h.rawProgramDateTime]);else{for(r=r[0].match(/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/),o=1;o<r.length&&void 0===r[o];o++);var v=(" "+r[o+1]).slice(1),E=(" "+r[o+2]).slice(1);switch(r[o]){case"#":h.tagList.push(E?[v,E]:[v]);break;case"PLAYLIST-TYPE":l.type=v.toUpperCase();break;case"MEDIA-SEQUENCE":s=l.startSN=parseInt(v);break;case"TARGETDURATION":l.targetduration=parseFloat(v);break;case"VERSION":l.version=parseInt(v);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":c++,h.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(v);break;case"KEY":var k=v,C=new g.default(k),x=C.enumeratedString("METHOD"),T=C.URI,S=C.hexadecimalInteger("IV");x&&(u=new A,T&&"AES-128"===x&&(u.method=x,u.baseuri=t,u.reluri=T,u.key=null,u.iv=S));break;case"START":var O=v,P=new g.default(O),M=P.decimalFloatingPoint("TIME-OFFSET");isNaN(M)||(l.startTimeOffset=M);break;case"MAP":var I=new g.default(v);h.relurl=I.URI,h.rawByteRange=I.BYTERANGE,h.baseurl=t,h.level=i,h.type=n,h.sn="initSegment",l.initSegment=h,h=new w;break;default:y.logger.warn("line parsed but not handled: "+r)}}}return h=d,h&&!h.relurl&&(l.fragments.pop(),a-=h.duration),l.totalduration=a,l.averagetargetduration=a/l.fragments.length,l.endSN=s-1,l}},{key:"loadsuccess",value:function(e,t,i){var n=e.data,r=e.url,o=i.type,s=i.id,a=i.level,l=this.hls;if(this.loaders[o]=void 0,void 0!==r&&0!==r.indexOf("data:")||(r=i.url),t.tload=performance.now(),0===n.indexOf("#EXTM3U"))if(n.indexOf("#EXTINF:")>0){var u="audioTrack"!==o&&"subtitleTrack"!==o,c=this.parseLevelPlaylist(n,r,a||s||0,"audioTrack"===o?"audio":"subtitleTrack"===o?"subtitle":"main");c.tload=t.tload,"manifest"===o&&l.trigger(d.default.MANIFEST_LOADED,{levels:[{url:r,details:c}],audioTracks:[],url:r,stats:t}),t.tparsed=performance.now(),c.targetduration?u?l.trigger(d.default.LEVEL_LOADED,{details:c,level:a||0,id:s||0,stats:t}):"audioTrack"===o?l.trigger(d.default.AUDIO_TRACK_LOADED,{details:c,id:s,stats:t}):"subtitleTrack"===o&&l.trigger(d.default.SUBTITLE_TRACK_LOADED,{details:c,id:s,stats:t}):l.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"invalid targetduration"})}else{var h=this.parseMasterPlaylist(n,r);if(h.length){var p=this.parseMasterPlaylistMedia(n,r,"AUDIO"),m=this.parseMasterPlaylistMedia(n,r,"SUBTITLES");if(p.length){var g=!1;p.forEach(function(e){e.url||(g=!0)}),!1===g&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(y.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main"}))}l.trigger(d.default.MANIFEST_LOADED,{levels:h,audioTracks:p,subtitles:m,url:r,stats:t})}else l.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"no level found in manifest"})}else l.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:f.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:r,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(e,t){var i,n,r=t.loader;switch(t.type){case"manifest":i=f.ErrorDetails.MANIFEST_LOAD_ERROR,n=!0;break;case"level":i=f.ErrorDetails.LEVEL_LOAD_ERROR,n=!1;break;case"audioTrack":i=f.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,n=!1}r&&(r.abort(),this.loaders[t.type]=void 0),this.hls.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:i,fatal:n,url:r.url,loader:r,response:e,context:t})}},{key:"loadtimeout",value:function(e,t){var i,n,r=t.loader;switch(t.type){case"manifest":i=f.ErrorDetails.MANIFEST_LOAD_TIMEOUT,n=!0;break;case"level":i=f.ErrorDetails.LEVEL_LOAD_TIMEOUT,n=!1;break;case"audioTrack":i=f.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,n=!1}r&&(r.abort(),this.loaders[t.type]=void 0),this.hls.trigger(d.default.ERROR,{type:f.ErrorTypes.NETWORK_ERROR,details:i,fatal:n,url:r.url,loader:r,context:t})}}]),t}(p.default);i.default=E},{"../errors":25,"../event-handler":26,"../events":27,"../utils/attr-list":39,"../utils/logger":42,"url-toolkit":2}],36:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"init",value:function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,a),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,r))}},{key:"box",value:function(e){for(var t,i=Array.prototype.slice.call(arguments,1),n=8,r=i.length,o=r;r--;)n+=i[r].byteLength;for(t=new Uint8Array(n),t[0]=n>>24&255,t[1]=n>>16&255,t[2]=n>>8&255,t[3]=255&n,t.set(e,4),r=0,n=8;r<o;r++)t.set(i[r],n),n+=i[r].byteLength;return t}},{key:"hdlr",value:function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])}},{key:"mdat",value:function(t){return e.box(e.types.mdat,t)}},{key:"mdhd",value:function(t,i){return i*=t,e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,85,196,0,0]))}},{key:"mdia",value:function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))}},{key:"mfhd",value:function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}},{key:"minf",value:function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))}},{key:"moof",value:function(t,i,n){return e.box(e.types.moof,e.mfhd(t),e.traf(n,i))}},{key:"moov",value:function(t){for(var i=t.length,n=[];i--;)n[i]=e.trak(t[i]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(e.mvex(t)))}},{key:"mvex",value:function(t){for(var i=t.length,n=[];i--;)n[i]=e.trex(t[i]);return e.box.apply(null,[e.types.mvex].concat(n))}},{key:"mvhd",value:function(t,i){i*=t;var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24&255,i>>16&255,i>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,n)}},{key:"sdtp",value:function(t){var i,n,r=t.samples||[],o=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,o[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e.box(e.types.sdtp,o)}},{key:"stbl",value:function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))}},{key:"avc1",value:function(t){var i,n,r,o=[],s=[];for(i=0;i<t.sps.length;i++)n=t.sps[i],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));for(i=0;i<t.pps.length;i++)n=t.pps[i],r=n.byteLength,s.push(r>>>8&255),s.push(255&r),s=s.concat(Array.prototype.slice.call(n));var a=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(s))),l=t.width,u=t.height,c=t.pixelRatio[0],d=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}},{key:"mp4a",value:function(t){var i=t.audiosamplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),e.box(e.types.esds,e.esds(t)))}},{key:"mp3",value:function(t){var i=t.audiosamplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))}},{key:"stsd",value:function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))}},{key:"tkhd",value:function(t){var i=t.id,n=t.duration*t.timescale,r=t.width,o=t.height;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(t,i){var n=e.sdtp(t),r=t.id;return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),e.trun(t,n.length+16+16+8+16+8+8),n)}},{key:"trak",value:function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))}},{key:"trex",value:function(t){var i=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(t,i){var n,r,o,s,a,l,u=t.samples||[],c=u.length,d=12+16*c,h=new Uint8Array(d);for(i+=8+d,h.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),n=0;n<c;n++)r=u[n],o=r.duration,s=r.size,a=r.flags,l=r.cts,h.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,s>>>24&255,s>>>16&255,s>>>8&255,255&s,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*n);return e.box(e.types.trun,h)}},{key:"initSegment",value:function(t){e.types||e.init();var i,n=e.moov(t);return i=new Uint8Array(e.FTYP.byteLength+n.byteLength),i.set(e.FTYP),i.set(n,e.FTYP.byteLength),i}}]),e}();i.default=o},{}],37:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("../helper/aac"),a=n(s),l=e("../events"),u=n(l),c=e("../utils/logger"),d=e("../remux/mp4-generator"),h=n(d),p=e("../errors"),f=function(){function e(t,i,n,o){r(this,e),this.observer=t,this.id=i,this.config=n,this.typeSupported=o,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return o(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(e){this._initPTS=this._initDTS=e}},{key:"resetInitSegment",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(e,t,i,n,r,o,s,a,l,c){if(this.level=e,this.sn=t,this.ISGenerated||this.generateIS(n,r,a,i),this.ISGenerated)if(n.samples.length){var d=this.remuxAudio(n,a,l,c);if(r.samples.length){var h=void 0;d&&(h=d.endPTS-d.startPTS),this.remuxVideo(r,a,l,h)}}else{var p=void 0;r.samples.length&&(p=this.remuxVideo(r,a,l)),p&&n.codec&&this.remuxEmptyAudio(n,a,l,p)}o.samples.length&&this.remuxID3(o,a),s.samples.length&&this.remuxText(s,a),this.observer.trigger(u.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(e,t,i,n){var r,o,s=this.observer,a=e.samples,l=t.samples,d=this.PES_TIMESCALE,f=this.typeSupported,m="audio/mp4",g={},y={id:this.id,level:this.level,sn:this.sn,tracks:g,unique:!1},_=void 0===this._initPTS;_&&(r=o=1/0),e.config&&a.length&&(e.timescale=e.audiosamplerate,e.timescale*e.duration>Math.pow(2,32)&&(e.timescale=e.audiosamplerate/function e(t,i){return i?e(i,t%i):t}(e.audiosamplerate,e.isAAC?1024:1152)),c.logger.log("audio mp4 timescale :"+e.timescale),e.isAAC||(f.mpeg?(m="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),g.audio={container:m,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:h.default.initSegment([e]),metadata:{channelCount:e.channelCount}},_&&(r=o=a[0].pts-d*i)),t.sps&&t.pps&&l.length&&(t.timescale=this.MP4_TIMESCALE,g.video={container:"video/mp4",codec:t.codec,initSegment:h.default.initSegment([t]),metadata:{width:t.width,height:t.height}},_&&(r=Math.min(r,l[0].pts-d*i),o=Math.min(o,l[0].dts-d*i),this.observer.trigger(u.default.INIT_PTS_FOUND,{id:this.id,initPTS:r,cc:n}))),Object.keys(g).length?(s.trigger(u.default.FRAG_PARSING_INIT_SEGMENT,y),this.ISGenerated=!0,_&&(this._initPTS=r,this._initDTS=o)):s.trigger(u.default.ERROR,{type:p.ErrorTypes.MEDIA_ERROR,id:this.id,details:p.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(e,t,i,n){var r,o,s,a,l,d,f,m=8,g=this.PES_TIMESCALE,y=this.PES2MP4SCALEFACTOR,_=e.samples,v=[],b=_.length,A=this._PTSNormalize,w=this._initDTS;_.sort(function(e,t){return e.dts-t.dts||e.pts-t.pts});var E=_.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(E<0){c.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(E/90)+" ms to overcome this issue");for(var k=0;k<_.length;k++)_[k].dts+=E}var C=void 0;C=i?this.nextAvcDts:t*g;var x=_[0];l=Math.max(A(x.dts-w,C),0),a=Math.max(A(x.pts-w,C),0);var T=Math.round((l-C)/90);i&&T&&(T>1?c.logger.log("AVC:"+T+" ms hole between fragments detected,filling it"):T<-1&&c.logger.log("AVC:"+-T+" ms overlapping between fragments detected"),l=C,_[0].dts=l+w,a=Math.max(a-T,C),_[0].pts=a+w,c.logger.log("Video/PTS/DTS adjusted: "+Math.round(a/90)+"/"+Math.round(l/90)+",delta:"+T+" ms")),x=_[_.length-1],f=Math.max(A(x.dts-w,C),0),d=Math.max(A(x.pts-w,C),0),d=Math.max(d,f);var S=navigator.vendor,O=navigator.userAgent,P=S&&S.indexOf("Apple")>-1&&O&&!O.match("CriOS");P&&(r=Math.round((f-l)/(y*(_.length-1))));for(var M=0,I=0,B=0;B<b;B++){for(var D=_[B],F=D.units.units,R=F.length,L=0,j=0;j<R;j++)L+=F[j].data.length;I+=L,M+=R,D.length=L,P?D.dts=l+B*y*r:(D.dts=Math.max(A(D.dts-w,C),l),D.dts=Math.round(D.dts/y)*y),D.pts=Math.max(A(D.pts-w,C),D.dts),D.pts=Math.round(D.pts/y)*y}var H=I+4*M+8;try{o=new Uint8Array(H)}catch(e){return void this.observer.trigger(u.default.ERROR,{type:p.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:p.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating video mdat "+H})}var N=new DataView(o.buffer);N.setUint32(0,H),o.set(h.default.types.mdat,4);for(var V=0;V<b;V++){for(var U=_[V],W=U.units.units,z=0,Q=void 0,G=0,Y=W.length;G<Y;G++){var K=W[G],q=K.data,J=K.data.byteLength;N.setUint32(m,J),m+=4,o.set(q,m),m+=J,z+=4+J}if(P)Q=Math.max(0,r*Math.round((U.pts-U.dts)/(y*r)));else{if(V<b-1)r=_[V+1].dts-U.dts;else{var $=this.config,X=U.dts-_[V>0?V-1:V].dts;if($.stretchShortVideoTrack){var Z=$.maxBufferHole,ee=$.maxSeekHole,te=Math.floor(Math.min(Z,ee)*g),ie=(n?a+n*g:this.nextAudioPts)-U.pts;ie>te?(r=ie-X,r<0&&(r=X),c.logger.log("It is approximately "+ie/90+" ms to the next segment; using duration "+r/90+" ms for the last video frame.")):r=X}else r=X}r/=y,Q=Math.round((U.pts-U.dts)/y)}v.push({size:z,duration:r,cts:Q,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:U.key?2:1,isNonSync:U.key?0:1}})}this.nextAvcDts=f+r*y;var ne=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,v.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var re=v[0].flags;re.dependsOn=2,re.isNonSync=0}e.samples=v,s=h.default.moof(e.sequenceNumber++,l/y,e),e.samples=[];var oe={id:this.id,level:this.level,sn:this.sn,data1:s,data2:o,startPTS:a/g,endPTS:(d+y*r)/g,startDTS:l/g,endDTS:this.nextAvcDts/g,type:"video",nb:v.length,dropped:ne};return this.observer.trigger(u.default.FRAG_PARSING_DATA,oe),oe}},{key:"remuxAudio",value:function(e,t,i,n){var r,o,s,l,d,f,m,g,y,_,v,b,A,w,E,k,C=this.PES_TIMESCALE,x=e.timescale,T=C/x,S=e.timescale*(e.isAAC?1024:1152)/e.audiosamplerate,O=S*T,P=this._PTSNormalize,M=this._initDTS,I=!e.isAAC&&this.typeSupported.mpeg,B=I?0:8,D=[],F=[];if(e.samples.sort(function(e,t){return e.pts-t.pts}),F=e.samples,k=this.nextAudioPts,i|=F.length&&k&&(Math.abs(t-k/C)<.1||Math.abs(F[0].pts-k-this._initDTS)<20*O),i||(k=t*C),n&&e.isAAC)for(var R=0,L=k;R<F.length;){var j=F[R],H=P(j.pts-M,k),N=H-L;if(N<=-O)c.logger.warn("Dropping 1 audio frame @ "+Math.round(L/90)/1e3+"s due to "+Math.round(Math.abs(N/90))+" ms overlap."),F.splice(R,1),e.len-=j.unit.length;else if(N>=O&&L){var V=Math.round(N/O);c.logger.warn("Injecting "+V+" audio frame @ "+Math.round(L/90)/1e3+"s due to "+Math.round(N/90)+" ms gap.");for(var U=0;U<V;U++)E=L+M,E=Math.max(E,M),w=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),w||(c.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),w=j.unit.subarray()),F.splice(R,0,{unit:w,pts:E,dts:E}),e.len+=w.length,L+=O,R+=1;j.pts=j.dts=L+M,L+=O,R+=1}else Math.abs(N),L+=O,j.pts=j.dts=0===R?M+k:F[R-1].pts+O,R+=1}for(var W=0,z=F.length;W<z;W++){if(o=F[W],l=o.unit,_=o.pts-M,v=o.dts-M,void 0!==y)b=P(_,y),A=P(v,y),s.duration=Math.round((A-y)/T);else{b=P(_,k),A=P(v,k);var Q=Math.round(1e3*(b-k)/C),G=0;if(i&&e.isAAC&&Q){if(Q>0)G=Math.round((b-k)/O),c.logger.log(Q+" ms hole between AAC samples detected,filling it"),G>0&&(w=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),w||(w=l.subarray()),e.len+=G*w.length);else if(Q<-12){c.logger.log(-Q+" ms overlapping between AAC samples detected, drop frame"),e.len-=l.byteLength;continue}b=A=k}if(m=Math.max(0,b),g=Math.max(0,A),!(e.len>0))return;var Y=I?e.len:e.len+8;try{d=new Uint8Array(Y)}catch(e){return void this.observer.trigger(u.default.ERROR,{type:p.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:p.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Y,reason:"fail allocating audio mdat "+Y})}I||(r=new DataView(d.buffer),r.setUint32(0,Y),d.set(h.default.types.mdat,4));for(var K=0;K<G;K++)E=b-(G-K)*O,w=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),w||(c.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),w=l.subarray()),d.set(w,B),B+=w.byteLength,s={size:w.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},D.push(s)}d.set(l,B);var q=l.byteLength;B+=q,s={size:q,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},D.push(s),y=A}var J=0,$=D.length;if($>=2&&(J=D[$-2].duration,s.duration=J),$){this.nextAudioPts=b+T*J,e.len=0,e.samples=D,f=I?new Uint8Array:h.default.moof(e.sequenceNumber++,g/T,e),e.samples=[];var X={id:this.id,level:this.level,sn:this.sn,data1:f,data2:d,startPTS:m/C,endPTS:this.nextAudioPts/C,startDTS:g/C,endDTS:(A+T*J)/C,type:"audio",nb:$};return this.observer.trigger(u.default.FRAG_PARSING_DATA,X),X}return null}},{key:"remuxEmptyAudio",value:function(e,t,i,n){var r=this.PES_TIMESCALE,o=e.timescale?e.timescale:e.audiosamplerate,s=r/o,l=this.nextAudioPts,u=(void 0!==l?l:n.startDTS*r)+this._initDTS,d=n.endDTS*r+this._initDTS,h=1024*s,p=Math.ceil((d-u)/h),f=a.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(c.logger.warn("remux empty Audio"),!f)return void c.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var m=[],g=0;g<p;g++){var y=u+g*h;m.push({unit:f,pts:y,dts:y}),e.len+=f.length}e.samples=m,this.remuxAudio(e,t,i)}},{key:"remuxID3",value:function(e,t){var i,n=e.samples.length;if(n){for(var r=0;r<n;r++)i=e.samples[r],i.pts=(i.pts-this._initPTS)/this.PES_TIMESCALE,i.dts=(i.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"remuxText",value:function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var i,n=e.samples.length;if(n){for(var r=0;r<n;r++)i=e.samples[r],i.pts=(i.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(u.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:e.samples})}e.samples=[],t=t}},{key:"_PTSNormalize",value:function(e,t){var i;if(void 0===t)return e;for(i=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=i;return e}}]),e}();i.default=f},{"../errors":25,"../events":27,"../helper/aac":28,"../remux/mp4-generator":36,"../utils/logger":42}],38:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../events"),s=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function(){function e(t,i){n(this,e),this.observer=t,this.id=i}return r(e,[{key:"destroy",value:function(){}},{key:"resetTimeStamp",value:function(){}},{key:"resetInitSegment",value:function(){}},{key:"remux",value:function(e,t,i,n,r,o,a,l,u,c,d){var h=this.observer,p="";n&&(p+="audio"),r&&(p+="video"),h.trigger(s.default.FRAG_PARSING_DATA,{id:this.id,level:e,sn:t,data1:d,startPTS:l,startDTS:l,type:p,nb:1,dropped:0}),h.trigger(s.default.FRAG_PARSED,{id:this.id,level:e,sn:t})}}]),e}();i.default=a},{"../events":27}],39:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=/^(\d+)x(\d+)$/,s=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function e(t){n(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i])}return r(e,[{key:"decimalInteger",value:function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"hexadecimalInteger",value:function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var i=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)i[n]=parseInt(t.slice(2*n,2*n+2),16);return i}return null}},{key:"hexadecimalIntegerAsNumber",value:function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}},{key:"decimalFloatingPoint",value:function(e){return parseFloat(this[e])}},{key:"enumeratedString",value:function(e){return this[e]}},{key:"decimalResolution",value:function(e){var t=o.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}}],[{key:"parseAttrList",value:function(e){var t,i={};for(s.lastIndex=0;null!==(t=s.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),i[t[1]]=n}return i}}]),e}();i.default=a},{}],40:[function(e,t,i){"use strict";var n={search:function(e,t){for(var i=0,n=e.length-1,r=null,o=null;i<=n;){r=(i+n)/2|0,o=e[r];var s=t(o);if(s>0)i=r+1;else{if(!(s<0))return o;n=r-1}}return null}};t.exports=n},{}],41:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return r(e,[{key:"sample",value:function(e,t){var i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();i.default=o},{}],42:[function(e,t,i){"use strict";function n(){}function r(e,t){return t="["+e+"] > "+t}function o(e){var t=self.console[e];return t?function(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];n[0]&&(n[0]=r(e,n[0])),t.apply(self.console,n)}:n}function s(e){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];i.forEach(function(t){u[t]=e[t]?e[t].bind(e):o(t)})}Object.defineProperty(i,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={trace:n,debug:n,log:n,warn:n,info:n,error:n},u=l;i.enableLogs=function(e){if(!0===e||"object"===(void 0===e?"undefined":a(e))){s(e,"debug","log","info","warn","error");try{u.log()}catch(e){u=l}}else u=l},i.logger=u},{}],43:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=function(){function e(){n(this,e)}return r(e,null,[{key:"toString",value:function(e){for(var t="",i=e.length,n=0;n<i;n++)t+="["+e.start(n).toFixed(3)+","+e.end(n).toFixed(3)+"]";return t}}]),e}();i.default=o},{}],44:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("../utils/logger"),s=function(){function e(t){n(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return r(e,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(e,t,i){this.context=e,this.config=t,this.callbacks=i,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var e,t=this.context;e="undefined"!=typeof XDomainRequest?this.loader=new XDomainRequest:this.loader=new XMLHttpRequest,e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.open("GET",t.url,!0),
t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.responseType=t.responseType;var i=this.stats;i.tfirst=0,i.loaded=0,this.xhrSetup&&this.xhrSetup(e,t.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()}},{key:"readystatechange",value:function(e){var t=e.currentTarget,i=t.readyState,n=this.stats,r=this.context,s=this.config;if(!n.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(performance.now(),n.trequest)),4===i){var a=t.status;if(a>=200&&a<300){n.tload=Math.max(n.tfirst,performance.now());var l=void 0,u=void 0;"arraybuffer"===r.responseType?(l=t.response,u=l.byteLength):(l=t.responseText,u=l.length),n.loaded=n.total=u;var c={url:t.responseURL,data:l};this.callbacks.onSuccess(c,n,r)}else n.retry>=s.maxRetry||a>=400&&a<499?(o.logger.error(a+" while loading "+r.url),this.callbacks.onError({code:a,text:t.statusText},r)):(o.logger.warn(a+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,s.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),s.timeout)}},{key:"loadtimeout",value:function(){o.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total);var i=this.callbacks.onProgress;i&&i(t,this.context,null)}}]),e}();i.default=s},{"../utils/logger":42}]},{},[32])(32)})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="PLAYBAR__";t.default={setWidth:"PLAYBAR__SET_WIDTH",setIsDragging:"PLAYBAR__SET_IS_DRAGGING",setPlaybarPositionPercentage:"PLAYBAR__SET_PLAYBAR_POSITION_PERCENTAGE"}},function(e,t,i){var n=i(15),r=Object.create,o=function(){function e(){}return function(t){if(!n(t))return{};if(r)return r(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();e.exports=o},function(e,t,i){function n(e){return s(o(e,void 0,r),e+"")}var r=i(354),o=i(101),s=i(102);e.exports=n},function(e,t,i){var n=i(351),r=i(88),o=n?function(e){return n.get(e)}:r;e.exports=o},function(e,t,i){function n(e){for(var t=e.name+"",i=r[t],n=s.call(r,t)?i.length:0;n--;){var o=i[n],a=o.func;if(null==a||a==e)return o.name}return t}var r=i(352),o=Object.prototype,s=o.hasOwnProperty;e.exports=n},function(e,t,i){function n(e){if(!s(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var i=d.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&c.call(i)==h}var r=i(19),o=i(348),s=i(17),a="[object Object]",l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,h=c.call(Object);e.exports=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.repeat=function(e,t){return new Array(t+1).join(e)},n=t.pad=function(e,t){return i("0",t-e.toString().length)+e},r=t.formatTime=function(e){return n(e.getHours(),2)+":"+n(e.getMinutes(),2)+":"+n(e.getSeconds(),2)+"."+n(e.getMilliseconds(),3)},o=t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t){"use strict";function i(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var n=t[t.length-1],r=t.slice(0,-1);return function(){return r.reduceRight(function(e,t){return t(e)},n.apply(void 0,arguments))}}t.__esModule=!0,t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){function n(){y===g&&(y=g.slice())}function o(){return m}function a(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return n(),y.push(e),function(){if(t){t=!1,n();var i=y.indexOf(e);y.splice(i,1)}}}function c(e){if(!(0,s.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(_)throw new Error("Reducers may not dispatch actions.");try{_=!0,m=f(m,e)}finally{_=!1}for(var t=g=y,i=0;i<t.length;i++)t[i]();return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");f=e,c({type:u.INIT})}function h(){var e,t=a;return e={subscribe:function(e){function i(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return i(),{unsubscribe:t(i)}}},e[l.default]=function(){return this},e}var p;if("function"==typeof t&&void 0===i&&(i=t,t=void 0),void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(r)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var f=e,m=t,g=[],y=g,_=!1;return c({type:u.INIT}),p={dispatch:c,subscribe:a,getState:o,replaceReducer:d},p[l.default]=h,p}t.__esModule=!0,t.ActionTypes=void 0,t.default=r;var o=i(305),s=n(o),a=i(365),l=n(a),u=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function i(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="CHAPTERS_";t.default={setIsVisible:i+"SET_IS_VISIBLE",setIsVisibleOnLoad:i+"SET_IS_VISIBLE_ON_LOAD",setIsMenuOpen:i+"SET_IS_MENU_OPEN",addChapter:i+"ADD_CHAPTER",removeChapter:i+"REMOVE_CHAPTER",setChapters:i+"SET_CHAPTERS",setLastChapterActivated:i+"SET_LAST_ACTIVE_CHAPTER",setCurrentlyHoveredChapter:i+"SET_CURRENTLY_HOVERED_CHAPTER",setChapterTitleLeftOffset:i+"SET_CHAPTER_TITLE_LEFT_OFFSET",setMenuWidth:i+"SET_MENU_WIDTH",setHasControlBeenClicked:i+"SET_HAS_CONTROL_BEEN_CLICKED"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.formatList=t.chapterConversionData=t.ensureChapterId=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(355),a=n(s),l=i(46),u=n(l),c=function(e){var t=e.time;return o({},e,{time:parseFloat(t)})},d=function(e){return e||[]},h=function(e){return e.reduce(function(t,i){var n=e.concat(t);return t.push(g(i,n)),t},[])},p=function(e){return e.map(function(e){return c(e)})},f=function(e){return[].concat(r(e)).sort(function(e,t){return e.time-t.time})},m=function(e){return e.filter(function(e){return"true"!==e.deleted&&!0!==e.deleted})},g=t.ensureChapterId=function(e,t){return void 0!=e.id?e:o({},e,{id:y(t)})},y=function(e){var t=e.map(function(e){return e.id}),i=(0,u.default)(t,function(e){return void 0!=e});return i.length?Math.max.apply(Math,r(i))+1:0},_=t.chapterConversionData=function(e){return{co_key:e.conversionOpportunityKey,co_type:"ChapterConversionOpportunity",time:e.time}},v=t.formatList=(0,a.default)([d,h,m,p,f])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="SETTINGS__";t.default={setIsMenuOpen:i+"SET_IS_MENU_OPEN",setIsVisible:i+"SET_IS_VISIBLE",setIsOpenFor:i+"SET_IS_OPEN_FOR",setValueFor:i+"SET_VALUE_FOR",setVideoQualityOptions:i+"SET_VIDEO_QUALITY"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="VULCAN__";t.default={setIsKeyboardFocus:i+"SET_KEYBOARD_FOCUS",setEmbedOptionsFor:i+"SET_EMBED_OPTION_FOR",setMediaDataFor:i+"SET_MEDIA_DATA_FOR",setHashedId:i+"SET_HASHED_ID",setHost:i+"SET_HOST",setIsEmbeddedInCustomize:i+"SET_IS_EMBEDDED_IN_CUSTOMIZE",setEmbedHeight:i+"SET_EMBED_HEIGHT",setEmbedWidth:i+"SET_EMBED_WIDTH",setEmbedAspectRatio:i+"SET_EMBED_ASPECT_RATIO",setVideoHeight:i+"SET_VIDEO_HEIGHT",setVideoWidth:i+"SET_VIDEO_WIDTH",setIsUIReady:i+"SET_IS_UI_READY",setVideoLength:i+"SET_VIDEO_LENGTH",setVideoProgress:i+"SET_VIDEO_PROGRESS",setIsPlayInitiated:i+"SET_IS_PLAY_INITIATED",setPlayerColor:i+"SET_PLAYER_COLOR",setCustomerLogoImageUrl:i+"SET_CUSTOMER_LOGO_IMAGE_URL",setCustomerLogoTargetUrl:i+"SET_CUSTOMER_LOGO_TARGET_URL",setUUID:i+"SET_UUID",setHasBeenClicked:i+"SET_HAS_BEEN_CLICKED",setIsInFullscreen:i+"SET_IS_IN_FULLSCREEN",setAreControlsVisible:i+"SET_ARE_CONTROLS_VISIBLE"}},function(e,t){var i;i="CAPTIONS__",e.exports={setIsMenuOpen:i+"SET_IS_MENU_OPEN",setMultipleProperties:i+"SET_MULTIPLE_PROPERTIES",setCurrentLanguage:i+"SET_CURRENT_LANGUAGE"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(288),o=n(r);t.default={setIsMenuOpen:function(e){return{type:o.default.setIsMenuOpen,payload:e}}}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(373),s=r(o),a=i(315),l=n(a),u=i(291),c=n(u),d=i(288),h=n(d);t.default={mount:s.default,actions:l,accessors:c,types:h}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(28),c=n(u),d=i(56),h=n(d),p=i(25),f=n(p),m=i(97),g=n(m),y=i(22),_=i(2),v=n(_),b=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e}return s(t,e),a(t,[{key:"defaultKeySorter",value:function(e){return(0,c.default)(e)}},{key:"sortedOptionsKeys",value:function(){return(this.props.keySorter||this.defaultKeySorter)(this.props.options)}},{key:"onTitleClick",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.onTitleClick()}},{key:"onItemClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.target.getAttribute("data-optionkey");this.props.onItemClick(t)}},{key:"classNamesForListItem",value:function(e){return f.default.classListToString(["w-menu__list-link","w-menu__list-link--checkable",this.isSelected(e)?"is-checked":""])}},{key:"isSelected",value:function(e){return this.props.selectedOption?String(this.props.selectedOption)==String(e):String(this.props.currentOption)==String(e)}},{key:"classNamesForList",value:function(){return f.default.classListToString(["w-menu__list","w-menu__list--collapsable","w-is-transitioned"])}},{key:"getListHeight",value:function(){var e=this.props.isOpen;return this.state.fullListHeight&&e?this.state.fullListHeight:0}},{key:"listWrapperStyles",value:function(){return{height:this.getListHeight()+"px"}}},{key:"onSectionClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props,i=t.isPlaybackRateOpen;(0,t.setIsOpenFor)(e.currentTarget.dataset.section,!i)}},{key:"componentDidMount",value:function(){this.updateListHeight()}},{key:"componentWillUnmount",value:function(){this.optionsRefs=[],this.list=null}},{key:"listHeightChanged",value:function(){return this.state.fullListHeight!=this.list.clientHeight}},{key:"componentDidUpdate",value:function(){this.listHeightChanged()&&this.updateListHeight();var e=void 0;this.props.isOpenJustChanged&&(e=this.optionsRefs[0])&&e.focus()}},{key:"updateListHeight",value:function(){this.setState({fullListHeight:this.list&&this.list.clientHeight||0})}},{key:"getIsTabbable",value:function(){return this.props.isOpen?0:-1}},{key:"renderList",value:function(){var e=this,t=this.props,i=t.options;t.currentOption,t.title,this.optionsRefs=[];var n=this.sortedOptionsKeys().map(function(t){var n=i[t];return(0,l.h)("li",{class:"w-menu__list-item"},(0,l.h)("button",{ref:function(t){e.optionsRefs.push(t)},tabindex:e.getIsTabbable(),class:e.classNamesForListItem(t),style:e.listLinkStyles(),"data-optionKey":t,onClick:e.onItemClick.bind(e),title:n,alt:n,"aria-label":n},n))});return this.props.lastItem&&n.push(this.props.lastItem()),n}},{key:"tabIndex",value:function(){var e=this.props.tabindex;return(0,h.default)(e)?e():0}},{key:"resizedFontStyles",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen;return{fontSize:14*(0,y.fontSizeMultiplierForVideo)(t,i,n)+"px"}}},{key:"resizedItemHeightStyles",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,y.fontSizeMultiplierForVideo)(t,i,n),o=34*r;return{height:o+"px",lineHeight:o+"px"}}},{key:"titleLabelStyles",value:function(){return this.resizedFontStyles()}},{key:"titleValueStyles",value:function(){return this.resizedFontStyles()}},{key:"listLinkStyles",value:function(){return v.default.assign(this.resizedFontStyles(),this.resizedItemHeightStyles())}},{key:"buttonStyles",value:function(){return this.resizedItemHeightStyles()}},{key:"render",value:function(){var e=this,t=this.props,i=t.options,n=t.currentOption,r=t.title,o=i[n],s="w-menu__list-item w-menu__list-item--"+r;return(0,l.h)("li",{class:s},(0,l.h)("button",{tabindex:this.tabIndex(),onClick:this.onTitleClick.bind(this),class:"w-menu__section-title",style:this.buttonStyles(),title:r,alt:r,"aria-label":r},(0,l.h)("div",{class:"w-menu__section-title_label",style:this.titleLabelStyles()},r),(0,l.h)("div",{class:"w-menu__section-title_value",style:this.titleValueStyles()},o)),(0,l.h)("div",{style:this.listWrapperStyles(),class:"w-menu__collapsable-wrapper"},(0,l.h)("ul",{ref:function(t){e.list=t},class:this.classNamesForList()},this.renderList())))}}]),t}(l.Component),A=(0,g.default)(b,"isOpen");t.default=A},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.statusBar},n={getStatusMessage:function(e){return i(e).message},getIsVisible:function(e){return i(e).isVisible}};t.default=n},,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(313),o=n(r),s=i(204),a=i(322),l=n(a);t.default={setIsKeyboardFocus:function(e){return{type:o.default.setIsKeyboardFocus,payload:e}},setEmbedOptionFor:function(e,t){var i={};return i[e]=t,{type:o.default.setEmbedOptionsFor,payload:i}},setMediaDataFor:function(e,t){var i={};return i[e]=t,{type:o.default.setMediaDataFor,payload:i}},setHashedId:function(e){return{type:o.default.setHashedId,payload:e}},setHost:function(e){return{type:o.default.setHost,payload:e}},setEmbedHeight:function(e){return{type:o.default.setEmbedHeight,payload:e}},setEmbedWidth:function(e){return{type:o.default.setEmbedWidth,payload:e}},setEmbedAspectRatio:function(e){return{type:o.default.setEmbedAspectRatio,payload:e}},setVideoHeight:function(e){return{type:o.default.setVideoHeight,payload:e}},setVideoWidth:function(e){return{type:o.default.setVideoWidth,payload:e}},setIsUIReady:function(e){return{type:o.default.setIsUIReady,payload:e}},setVideoLength:function(e){return{type:o.default.setVideoLength,payload:e}},setVideoProgress:function(e){return{type:o.default.setVideoProgress,payload:e}},setIsPlayInitiated:function(e){return{type:o.default.setIsPlayInitiated,payload:e}},setPlayerColor:function(e){return{type:o.default.setPlayerColor,payload:e}},setCustomerLogoImageUrl:function(e){return{type:o.default.setCustomerLogoImageUrl,payload:e}},setCustomerLogoTargetUrl:function(e){return{type:o.default.setCustomerLogoTargetUrl,payload:e}},startPlay:function(e){return function(){l.default.trigger(e+":startPlay")}},stopPlay:function(e){return function(){l.default.trigger(e+":stopPlay")}},setHasBeenClicked:function(e){return{type:o.default.setHasBeenClicked,payload:e}},setUUID:function(e){return{type:o.default.setUUID,payload:e}},setIsEmbeddedInCustomize:function(e){return{type:o.default.setIsEmbeddedInCustomize,payload:e}},setIsInFullscreen:function(e){return{type:o.default.setIsInFullscreen,payload:e}},setAreControlsVisible:function(e){return{type:o.default.setAreControlsVisible,payload:e}}}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.destroyBus=void 0;var r=i(79),o=function e(){n(this,e)},s=function(){if(!window.__wistiaEventBus){var e=new o;window.__wistiaEventBus=(0,r.bindify)(e)}return window.__wistiaEventBus},a=t.destroyBus=function(){window.__wistiaEventBus=null};t.default=s()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="REPORT_A_PROBLEM__",n=[i+"SET_IS_OPEN",i+"SET_IS_HIDDEN",i+"SET_FORM_FEEDBACK",i+"SUBMIT_FORM_DATA_PHASE",i+"SET_DESCRIPTION",i+"SET_CATEGORY"];t.default=n},function(e,t,i){var n=i(343),r=i(302),o=r(function(e,t){return null==e?{}:n(e,t)});e.exports=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="PASSWORD_PROTECT__";t.default={setVisibility:i+"SET_VISIBILITY",setChallenge:i+"SET_CHALLENGE",setPassword:i+"SET_PASSWORD",setTempPassword:i+"SET_TEMP_PASSWORD",removeError:i+"REMOVE_ERROR",showError:i+"SHOW_ERROR",passwordSubmitted:i+"PASSWORD_SUBMITTED"}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(377),s=r(o),a=i(292),l=n(a),u=i(207),c=n(u);t.default={accessors:l,actions:c,mount:s.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(50),o=n(r),s=i(288),a=n(s),l={isMenuOpen:!1},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.default.setIsMenuOpen:return(0,o.default)({},e,{isMenuOpen:t.payload});default:return e}};t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var o=i(50),s=n(o),a=i(46),l=n(a),u=i(310),c=n(u),d=i(311),h={isVisible:!1,isVisibleOnLoad:!1,isMenuOpen:!1,menuWidth:null,chapters:[],lastChapterActivated:null,currentlyHoveredChapter:null,chapterTitleLeftOffset:0,hasControlBeenClicked:!1},p=function(e,t){var i=(0,d.ensureChapterId)(t,e),n=f(e,i.id);return(0,d.formatList)([].concat(r(n),[i]))},f=function(e,t){var i=m(e,t);return i?(0,d.formatList)((0,l.default)(e,function(e){return e.id!=i.id})):e},m=function(e,t){return(0,l.default)(e,function(e){return e.id==t})[0]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments[1];switch(t.type){case c.default.setIsVisible:return(0,s.default)({},e,{isVisible:t.payload});case c.default.setIsMenuOpen:return(0,s.default)({},e,{isMenuOpen:t.payload});case c.default.addChapter:return(0,s.default)({},e,{chapters:p(e.chapters,t.payload)});case c.default.removeChapter:return(0,s.default)({},e,{chapters:f(e.chapters,t.payload)});case c.default.setChapters:return(0,s.default)({},e,{chapters:(0,d.formatList)(t.payload)});case c.default.setLastChapterActivated:return(0,s.default)({},e,{lastChapterActivated:t.payload});case c.default.setCurrentlyHoveredChapter:return(0,s.default)({},e,{currentlyHoveredChapter:t.payload});case c.default.setChapterTitleLeftOffset:return(0,s.default)({},e,{chapterTitleLeftOffset:t.payload});case c.default.setMenuWidth:return(0,s.default)({},e,{menuWidth:t.payload});case c.default.setIsVisibleOnLoad:return(0,s.default)({},e,{isVisibleOnLoad:t.payload});case c.default.setHasControlBeenClicked:return(0,s.default)({},e,{hasControlBeenClicked:t.payload});default:return e}};t.initialState=h,t.default=g},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(50),o=n(r),s=i(325),a=n(s),l={isVisible:!1,challenge:"",password:"",tempPassword:"",errorMessage:"",isErrorShowing:!1,passwordSubmitted:""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.default.setVisibility:return(0,o.default)({},e,{isVisible:t.payload});case a.default.setChallenge:return(0,o.default)({},e,{challenge:t.payload});case a.default.setPassword:return(0,o.default)({},e,{password:t.payload});case a.default.setTempPassword:return(0,o.default)({},e,{tempPassword:t.payload});case a.default.showError:return(0,o.default)({},e,{isErrorShowing:!0,errorMessage:t.payload});case a.default.removeError:return(0,o.default)({},e,{isErrorShowing:!1,errorMessage:""});case a.default.passwordSubmitted:return(0,o.default)({},e,{passwordSubmitted:t.payload});default:return e}};t.default=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e.playbar},n=t.getWidth=function(e){return i(e).width},r=t.getIsDragging=function(e){return i(e).isDragging},o=t.getPlaybarPositionPercentage=function(e){return i(e).playbarPositionPercentage}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setPlaybarPositionPercentage=t.setIsDragging=t.setWidth=void 0;var r=i(300),o=n(r),s=t.setWidth=function(e){return{type:o.default.setWidth,payload:e}},a=t.setIsDragging=function(e){return{type:o.default.setIsDragging,payload:e}},l=t.setPlaybarPositionPercentage=function(e){return{type:o.default.setPlaybarPositionPercentage,payload:e}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=i(50),o=n(r),s=i(300),a=n(s),l=t.initialState={width:0,isDragging:!1,playbarPositionPercentage:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.default.setWidth:return(0,o.default)({},e,{width:t.payload});case a.default.setIsDragging:return(0,o.default)({},e,{isDragging:t.payload});case a.default.setPlaybarPositionPercentage:return(0,o.default)({},e,{playbarPositionPercentage:t.payload});default:return(0,o.default)({},e)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.initialState=void 0;var r=i(324),o=n(r),s=i(61),a=n(s),l=i(323),u=n(l),c=t.initialState={isOpen:!1,isHidden:!0,submitFormDataPhase:"not-submitting",formFeedbackType:"blank",formFeedbackText:"",description:"",category:""},d=t.reducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case u.default.REPORT_A_PROBLEM__SET_IS_OPEN:return(0,a.default)(e,{isOpen:t.payload});case u.default.REPORT_A_PROBLEM__SET_IS_HIDDEN:return(0,a.default)(e,{isHidden:t.payload});case u.default.REPORT_A_PROBLEM__SET_FORM_FEEDBACK:return(0,a.default)(e,(0,o.default)(t.payload,["formFeedbackType","formFeedbackText"]));case u.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE:return(0,a.default)(e,{submitFormDataPhase:t.payload});case u.default.REPORT_A_PROBLEM__SET_CATEGORY:return(0,a.default)(e,{category:t.payload});case u.default.REPORT_A_PROBLEM__SET_DESCRIPTION:return(0,a.default)(e,{description:t.payload});default:return e}};t.default=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(50),o=n(r),s=i(312),a=n(s),l={isVisible:!1,isMenuOpen:!1,playbackRate:{value:"1",isOpen:!1},videoQuality:{value:"default",isOpen:!1},selectedVideoQuality:{value:"default"},videoQualityOptions:{default:""},playbackRateOptions:{.5:"0.5x",1:"1x",1.25:"1.25x",1.5:"1.5x",1.75:"1.75x",2:"2x"}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.default.setIsMenuOpen:return(0,o.default)({},e,{isMenuOpen:t.payload});case a.default.setIsVisible:return(0,o.default)({},e,{isVisible:t.payload});case a.default.setVideoQualityOptions:return(0,o.default)({},e,{videoQualityOptions:t.payload});case a.default.setIsOpenFor:var i=t.payload,n=i.key,r=i.isOpen,s={};return s[n]=(0,o.default)({},e[n],{isOpen:r}),(0,o.default)({},e,s);case a.default.setValueFor:var u=t.payload,n=u.key,c=u.value,s={};return s[n]=(0,o.default)({},e[n],{value:c}),(0,o.default)({},e,s);default:return e}};t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(50),o=n(r),s=i(289),a=n(s),l={sd_mp4:{url:"",ext:""},hd_mp4:{url:"",ext:""},original:{url:"",ext:""}},u={isVisible:!1,isMenuOpen:!1,isEmbedCodeCopierOpen:!1,activeChannels:"googlePlus-email-facebook-linkedIn-twitter-download-embed",pageTitle:"pagetitle",pageUrl:"pageurl",overrideUrl:!1,videoName:"vidname",ignoreQueryParams:!0,includeLinkback:!1,downloadType:"original",tweetText:"tweetText",assets:l,conversionOpportunityKey:null,conversionOpportunity:{},currentTime:0},c=function(e,t,i){switch(t){case a.default.setAsset:var n={};return n[i.quality]=i.assetHash,(0,o.default)({},e,n);default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case a.default.setMultipleProperties:return(0,o.default)({},e,t.payload);case a.default.setVisibility:return(0,o.default)({},e,{isVisible:t.payload});case a.default.setIsMenuOpen:return(0,o.default)({},e,{isMenuOpen:t.payload});case a.default.setIsEmbedCodeCopierOpen:return(0,o.default)({},e,{isEmbedCodeCopierOpen:t.payload});case a.default.setActiveChannels:return(0,o.default)({},e,{activeChannels:t.payload});case a.default.setPageTitle:return(0,o.default)({},e,{pageTitle:t.payload});case a.default.setPageUrl:return(0,o.default)({},e,{pageUrl:t.payload});case a.default.setVideoName:return(0,o.default)({},e,{videoName:t.payload});case a.default.setIgnoreQueryParams:return(0,o.default)({},e,{ignoreQueryParams:t.payload});case a.default.setTweetText:return(0,o.default)({},e,{tweetText:t.payload});case a.default.setDownloadType:return(0,o.default)({},e,{downloadType:t.payload});case a.default.setAsset:var i=c(e.assets,t.type,t.payload);return(0,o.default)({},e,{assets:i});case a.default.setConversionOpportunity:if(!e.conversionOpportunityKey)return e;var n=(0,o.default)({},{co_key:e.conversionOpportunityKey,co_type:"share",time:e.currentTime},t.payload);return(0,o.default)({},e,{conversionOpportunity:n});case a.default.setConversionOpportunityKey:return(0,o.default)({},e,{conversionOpportunityKey:t.payload});case a.default.setCurrentTime:return(0,o.default)({},e,{currentTime:t.payload});default:return e}};t.default=d},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(50),o=n(r),s=i(290),a=n(s),l={isVisible:!1,message:"message"},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.default.setMessage:return(0,o.default)({},e,{message:t.payload});case a.default.setVisibility:return(0,o.default)({},e,{isVisible:t.payload});default:return e}};t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=i(61),o=n(r),s=i(313),a=n(s),l=t.initialState={uuid:"initial",embedHeight:0,embedWidth:0,embedAspectRatio:0,videoHeight:0,videoWidth:0,videoLength:0,videoProgress:0,isPlayInitiated:!1,hashedId:"gtgmjh6xbc",host:"fast.wistia.dev",isEmbeddedInCustomize:!1,isKeyboardFocus:!1,isUIReady:!1,playerColor:"#000000",customerLogoImageUrl:"",customerLogoTargetUrl:"",hasBeenClicked:!1,embedOptions:{hasBranding:!1,isChromeless:!1,settingsControl:!1,playbackRateControl:!1,qualityControl:!1,bigPlayButtonControl:!1,autoPlay:!1,hasBigPlayButtonTime:!1,endVideoBehavior:null,showCustomerLogo:!1},mediaData:{hasBranding:!1,enableCustomerLogo:!1}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.default.setIsKeyboardFocus:return(0,o.default)({},e,{isKeyboardFocus:t.payload});case a.default.setEmbedOptionsFor:var i=(0,o.default)({},e.embedOptions,t.payload);return(0,o.default)({},e,{embedOptions:i});case a.default.setMediaDataFor:var n=(0,o.default)({},e.mediaData,t.payload);return(0,o.default)({},e,{mediaData:n});case a.default.setHashedId:return(0,o.default)({},e,{hashedId:t.payload});case a.default.setHost:return(0,o.default)({},e,{host:t.payload});case a.default.setEmbedHeight:return(0,o.default)({},e,{embedHeight:t.payload});case a.default.setEmbedWidth:return(0,o.default)({},e,{embedWidth:t.payload});case a.default.setEmbedAspectRatio:return(0,o.default)({},e,{embedAspectRatio:t.payload});case a.default.setVideoHeight:return(0,o.default)({},e,{videoHeight:t.payload});case a.default.setVideoWidth:return(0,o.default)({},e,{videoWidth:t.payload});case a.default.setIsUIReady:return(0,o.default)({},e,{isUIReady:t.payload});case a.default.setVideoLength:return(0,o.default)({},e,{videoLength:t.payload});case a.default.setVideoProgress:return(0,o.default)({},e,{videoProgress:t.payload});case a.default.setIsPlayInitiated:return(0,o.default)({},e,{isPlayInitiated:t.payload});case a.default.setPlayerColor:return(0,o.default)({},e,{playerColor:t.payload});case a.default.setCustomerLogoImageUrl:return(0,o.default)({},e,{customerLogoImageUrl:t.payload});case a.default.setCustomerLogoTargetUrl:return(0,o.default)({},e,{customerLogoTargetUrl:t.payload});case a.default.setUUID:return(0,o.default)({},e,{uuid:t.payload});case a.default.setIsEmbeddedInCustomize:return(0,o.default)({},e,{isEmbeddedInCustomize:t.payload});case a.default.setHasBeenClicked:return(0,o.default)({},e,{hasBeenClicked:t.payload});case a.default.setIsInFullscreen:return(0,o.default)({},e,{isInFullscreen:t.payload});case a.default.setAreControlsVisible:return(0,o.default)({},e,{areControlsVisible:t.payload});default:return e}};t.default=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={branding:l.default,captions:h.default,chapters:f.default,settings:g.default,shareMenu:_.default,statusBar:b.default,playbar:w.default.reducer,vulcan:k.default,passwordProtect:x.default,reportAProblem:c.default};return(0,r.combineReducers)((0,s.default)({},t,e))};var r=i(12),o=i(50),s=n(o),a=i(327),l=n(a),u=i(333),c=n(u),d=i(339),h=n(d),p=i(328),f=n(p),m=i(334),g=n(m),y=i(335),_=n(y),v=i(336),b=n(v),A=i(294),w=n(A),E=i(337),k=n(E),C=i(329),x=n(C)},function(e,t,i){var n,r,o,s,a,l,u,c;r=i(50),n=i(314),o=i(46),u={id:0,english_name:"Off",native_name:"Off",language:"off",key:"off"},s={isMenuOpen:!1,captions:[u],currentLanguage:0},a=function(e){var t;return t=0,o(e,function(e){return e.id===t})[0]?e:(e.unshift(u),e)},l=function(e){return e.captions?a(e.captions):e},c=function(e,t){
switch(null==e&&(e=s),t.type){case n.setMultipleProperties:return l(t.payload),r({},e,t.payload);case n.setIsMenuOpen:return r({},e,{isMenuOpen:t.payload});case n.setCurrentLanguage:return r({},e,{currentLanguage:t.payload});default:return e}},e.exports=c},function(e,t){var i,n,r,o;i={},r=function(e,t,n){var r,o;for(r=-1,o=[];-1!==(r=e.indexOf(t,r+1))&&n(r)!==i;)o.push(void 0);return o},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},o=function(e){return!0===e||"true"===e||"checked"===e||!1!==e&&"false"!==e&&"unchecked"!==e&&!!e},e.exports={eachIndexOf:r,breakIdentifier:i,capitalizeFirstLetter:n,forceBool:o}},function(e,t,i){var n,r;(function(i){!function(i,o){"use strict";n=[],void 0!==(r=function(){return o()}.apply(t,n))&&(e.exports=r)}(this,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function r(e,t,i){r.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:i,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function s(e,t){s.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,i){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:i,enumerable:!0})}function l(e,t,i){var n=e.slice((i||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function u(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":void 0!==e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(t,i,n,d,h,p,f){h=h||[];var m=h.slice(0);if(void 0!==p){if(d){if("function"==typeof d&&d(m,p))return;if("object"==typeof d){if(d.prefilter&&d.prefilter(m,p))return;if(d.normalize){var g=d.normalize(m,p,t,i);g&&(t=g[0],i=g[1])}}}m.push(p)}"regexp"===u(t)&&"regexp"===u(i)&&(t=t.toString(),i=i.toString());var y=typeof t,_=typeof i;if("undefined"===y)"undefined"!==_&&n(new o(m,i));else if("undefined"===_)n(new s(m,t));else if(u(t)!==u(i))n(new r(m,t,i));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(i)&&t-i!=0)n(new r(m,t,i));else if("object"===y&&null!==t&&null!==i){if(f=f||[],f.indexOf(t)<0){if(f.push(t),Array.isArray(t)){var v;for(t.length,v=0;v<t.length;v++)v>=i.length?n(new a(m,v,new s(e,t[v]))):c(t[v],i[v],n,d,m,v,f);for(;v<i.length;)n(new a(m,v,new o(e,i[v++])))}else{var b=Object.keys(t),A=Object.keys(i);b.forEach(function(r,o){var s=A.indexOf(r);s>=0?(c(t[r],i[r],n,d,m,r,f),A=l(A,s)):c(t[r],e,n,d,m,r,f)}),A.forEach(function(t){c(e,i[t],n,d,m,t,f)})}f.length=f.length-1}}else t!==i&&("number"===y&&isNaN(t)&&isNaN(i)||n(new r(m,t,i)))}function d(t,i,n,r){return r=r||[],c(t,i,function(e){e&&r.push(e)},n),r.length?r:e}function h(e,t,i){if(i.path&&i.path.length){var n,r=e[t],o=i.path.length-1;for(n=0;n<o;n++)r=r[i.path[n]];switch(i.kind){case"A":h(r[i.path[n]],i.index,i.item);break;case"D":delete r[i.path[n]];break;case"E":case"N":r[i.path[n]]=i.rhs}}else switch(i.kind){case"A":h(e[t],i.index,i.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=i.rhs}return e}function p(e,t,i){if(e&&t&&i&&i.kind){for(var n=e,r=-1,o=i.path?i.path.length-1:0;++r<o;)void 0===n[i.path[r]]&&(n[i.path[r]]="number"==typeof i.path[r]?[]:{}),n=n[i.path[r]];switch(i.kind){case"A":h(i.path?n[i.path[r]]:n,i.index,i.item);break;case"D":delete n[i.path[r]];break;case"E":case"N":n[i.path[r]]=i.rhs}}}function f(e,t,i){if(i.path&&i.path.length){var n,r=e[t],o=i.path.length-1;for(n=0;n<o;n++)r=r[i.path[n]];switch(i.kind){case"A":f(r[i.path[n]],i.index,i.item);break;case"D":case"E":r[i.path[n]]=i.lhs;break;case"N":delete r[i.path[n]]}}else switch(i.kind){case"A":f(e[t],i.index,i.item);break;case"D":case"E":e[t]=i.lhs;break;case"N":e=l(e,t)}return e}function m(e,t,i){if(e&&t&&i&&i.kind){var n,r,o=e;for(r=i.path.length-1,n=0;n<r;n++)void 0===o[i.path[n]]&&(o[i.path[n]]={}),o=o[i.path[n]];switch(i.kind){case"A":f(o[i.path[n]],i.index,i.item);break;case"D":case"E":o[i.path[n]]=i.lhs;break;case"N":delete o[i.path[n]]}}}function g(e,t,i){e&&t&&c(e,t,function(n){i&&!i(e,t,n)||p(e,t,n)})}var y,_,v=[];return y="object"==typeof i&&i?i:"undefined"!=typeof window?window:{},_=y.DeepDiff,_&&v.push(function(){void 0!==_&&y.DeepDiff===d&&(y.DeepDiff=_,_=e)}),t(r,n),t(o,n),t(s,n),t(a,n),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:g,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:m,enumerable:!0},isConflict:{value:function(){return void 0!==_},enumerable:!0},noConflict:{value:function(){return v&&(v.forEach(function(e){e()}),v=null),d},enumerable:!0}}),d})}).call(t,function(){return this}())},function(e,t,i){function n(e,t,i,s,a){var l=-1,u=e.length;for(i||(i=o),a||(a=[]);++l<u;){var c=e[l];t>0&&i(c)?t>1?n(c,t-1,i,s,a):r(a,c):s||(a[a.length]=c)}return a}var r=i(85),o=i(349);e.exports=n},function(e,t,i){function n(e,t){return r(e,t,function(t,i){return o(e,i)})}var r=i(344),o=i(87);e.exports=n},function(e,t,i){function n(e,t,i){for(var n=-1,a=t.length,l={};++n<a;){var u=t[n],c=r(e,u);i(c,u)&&o(l,s(u,e),c)}return l}var r=i(54),o=i(345),s=i(49);e.exports=n},function(e,t,i){function n(e,t,i,n){if(!a(e))return e;t=o(t,e);for(var u=-1,c=t.length,d=c-1,h=e;null!=h&&++u<c;){var p=l(t[u]),f=i;if(u!=d){var m=h[p];void 0===(f=n?n(m,p,h):void 0)&&(f=a(m)?m:s(t[u+1])?[]:{})}r(h,p,f),h=h[p]}return e}var r=i(75),o=i(49),s=i(38),a=i(15),l=i(27);e.exports=n},function(e,t){function i(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}e.exports=i},function(e,t,i){function n(e){return o(function(t){var i=t.length,n=i,o=r.prototype.thru;for(e&&t.reverse();n--;){var m=t[n];if("function"!=typeof m)throw new TypeError(c);if(o&&!g&&"wrapper"==a(m))var g=new r([],!0)}for(n=g?n:i;++n<i;){m=t[n];var y=a(m),_="wrapper"==y?s(m):void 0;g=_&&u(_[0])&&_[1]==(p|d|h|f)&&!_[4].length&&1==_[9]?g[a(_[0])].apply(g,_[3]):1==m.length&&u(m)?g[y]():g.thru(m)}return function(){var e=arguments,n=e[0];if(g&&1==e.length&&l(n))return g.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}})}var r=i(285),o=i(302),s=i(303),a=i(304),l=i(7),u=i(350),c="Expected a function",d=8,h=32,p=128,f=256;e.exports=n},function(e,t,i){var n=i(86),r=n(Object.getPrototypeOf,Object);e.exports=r},function(e,t,i){function n(e){return s(e)||o(e)||!!(a&&e&&e[a])}var r=i(26),o=i(55),s=i(7),a=r?r.isConcatSpreadable:void 0;e.exports=n},function(e,t,i){function n(e){var t=s(e),i=a[t];if("function"!=typeof i||!(t in r.prototype))return!1;if(e===i)return!0;var n=o(i);return!!n&&e===n[0]}var r=i(284),o=i(303),s=i(304),a=i(356);e.exports=n},function(e,t,i){var n=i(84),r=n&&new n;e.exports=r},function(e,t){var i={};e.exports=i},function(e,t,i){function n(e){if(e instanceof r)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=s(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var r=i(284),o=i(285),s=i(346);e.exports=n},function(e,t,i){function n(e){return(null==e?0:e.length)?r(e,1):[]}var r=i(342);e.exports=n},function(e,t,i){var n=i(347),r=n();e.exports=r},function(e,t,i){function n(e){if(l(e)&&!a(e)&&!(e instanceof r)){if(e instanceof o)return e;if(d.call(e,"__wrapped__"))return u(e)}return new o(e)}var r=i(284),o=i(285),s=i(286),a=i(7),l=i(17),u=i(353),c=Object.prototype,d=c.hasOwnProperty;n.prototype=s.prototype,n.prototype.constructor=n,e.exports=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e,t,i,n){switch(void 0===e?"undefined":l(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,r(i)):e[n];case"function":return e(t);default:return e}}function s(e){var t=e.timestamp,i=e.duration;return function(e,n,r){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+n),i&&o.push("%c(in "+r.toFixed(2)+" ms)"),o.join(" ")}}function a(e,t){var i=t.logger,n=t.actionTransformer,r=t.titleFormatter,a=void 0===r?s(t):r,l=t.collapsed,c=t.colors,h=t.level,p=t.diff;e.forEach(function(r,s){var f=r.started,m=r.startedTime,g=r.action,y=r.prevState,_=r.error,v=r.took,b=r.nextState,A=e[s+1];A&&(b=A.prevState,v=A.started-f);var w=n(g),E="function"==typeof l?l(function(){return b},g,r):l,k=(0,u.formatTime)(m),C=c.title?"color: "+c.title(w)+";":"",x=["color: gray; font-weight: lighter;"];x.push(C),t.timestamp&&x.push("color: gray; font-weight: lighter;"),t.duration&&x.push("color: gray; font-weight: lighter;");var T=a(w,k,v);try{E?c.title?i.groupCollapsed.apply(i,["%c "+T].concat(x)):i.groupCollapsed(T):c.title?i.group.apply(i,["%c "+T].concat(x)):i.group(T)}catch(e){i.log(T)}var S=o(h,w,[y],"prevState"),O=o(h,w,[w],"action"),P=o(h,w,[_,y],"error"),M=o(h,w,[b],"nextState");S&&(c.prevState?i[S]("%c prev state","color: "+c.prevState(y)+"; font-weight: bold",y):i[S]("prev state",y)),O&&(c.action?i[O]("%c action    ","color: "+c.action(w)+"; font-weight: bold",w):i[O]("action    ",w)),_&&P&&(c.error?i[P]("%c error     ","color: "+c.error(_,y)+"; font-weight: bold;",_):i[P]("error     ",_)),M&&(c.nextState?i[M]("%c next state","color: "+c.nextState(b)+"; font-weight: bold",b):i[M]("next state",b)),p&&(0,d.default)(y,b,i,E);try{i.groupEnd()}catch(e){i.log(" log end ")}})}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.printBuffer=a;var u=i(306),c=i(359),d=n(c)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function o(e){return"color: "+c[e].color+"; font-weight: bold"}function s(e){var t=e.kind,i=e.path,n=e.lhs,r=e.rhs,o=e.index,s=e.item;switch(t){case"E":return[i.join("."),n,"",r];case"N":return[i.join("."),r];case"D":return[i.join(".")];case"A":return[i.join(".")+"["+o+"]",s];default:return[]}}function a(e,t,i,n){var a=(0,u.default)(e,t);try{n?i.groupCollapsed("diff"):i.group("diff")}catch(e){i.log("diff")}a?a.forEach(function(e){var t=e.kind,n=s(e);i.log.apply(i,["%c "+c[t].text,o(t)].concat(r(n)))}):i.log(" no diff ");try{i.groupEnd()}catch(e){i.log(" diff end  ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var l=i(341),u=n(l),c={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=t.default},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},u.default,e),i=t.logger,n=t.transformer,r=t.stateTransformer,l=t.errorTransformer,c=t.predicate,d=t.logErrors,h=t.diffPredicate;if(void 0===i)return function(){return function(e){return function(t){return e(t)}}};if(n&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!"),e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n\n\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\n\nconst logger = createLogger({\n  // ...options\n});\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var p=[];return function(e){var i=e.getState;return function(e){return function(n){if("function"==typeof c&&!c(i,n))return e(n);var u={};p.push(u),u.started=a.timer.now(),u.startedTime=new Date,u.prevState=r(i()),u.action=n;var f=void 0;if(d)try{f=e(n)}catch(e){u.error=l(e)}else f=e(n);u.took=a.timer.now()-u.started,u.nextState=r(i());var m=t.diff&&"function"==typeof h?h(i,n):t.diff;if((0,s.printBuffer)(p,o({},t,{diff:m})),p.length=0,u.error)throw u.error;return f}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.logger=t.defaults=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(357),a=i(306),l=i(358),u=n(l),c=r();t.defaults=u.default,t.logger=c,t.default=r,e.exports=t.default},function(e,t){"use strict";function i(e){var t=e.dispatch,i=e.getState;return function(e){return function(n){return"function"==typeof n?n(t,i):e(n)}}}e.exports=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return function(i,n,r){var s=e(i,n,r),l=s.dispatch,u=[],c={getState:s.getState,dispatch:function(e){return l(e)}};return u=t.map(function(e){return e(c)}),l=a.default.apply(void 0,u)(s.dispatch),o({},s,{dispatch:l})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e};t.default=r;var s=i(307),a=n(s)},function(e,t){"use strict";function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function n(e,t){if("function"==typeof e)return i(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var s=n[o],a=e[s];"function"==typeof a&&(r[s]=i(a,t))}return r}t.__esModule=!0,t.default=n},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t&&t.type;return"Given action "+(i&&'"'+i.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e,t,i,n){var r=Object.keys(t),o=i&&i.type===l.ActionTypes.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!(0,c.default)(e))return"The "+o+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following keys: "'+r.join('", "')+'"';var s=Object.keys(e).filter(function(e){return!t.hasOwnProperty(e)&&!n[e]});return s.forEach(function(e){n[e]=!0}),s.length>0?"Unexpected "+(s.length>1?"keys":"key")+' "'+s.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: "'+r.join('", "')+'". Unexpected keys will be ignored.':void 0}function s(e){Object.keys(e).forEach(function(t){var i=e[t];if(void 0===i(void 0,{type:l.ActionTypes.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===i(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+l.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}function a(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++){var a=t[n];"function"==typeof e[a]&&(i[a]=e[a])}var l=Object.keys(i);if(!1)var u={};var c;try{s(i)}catch(e){c=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(c)throw c;if(!1){var n=o(e,i,t,u);n&&(0,h.default)(n)}for(var s=!1,a={},d=0;d<l.length;d++){var p=l[d],f=i[p],m=e[p],g=f(m,t);if(void 0===g){var y=r(p,t);throw new Error(y)}a[p]=g,s=s||g!==m}return s?a:e}}t.__esModule=!0,t.default=a;var l=i(308),u=i(305),c=n(u),d=i(309),h=n(d)},function(e,t,i){e.exports=i(366)},function(e,t,i){(function(e,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(367),s=r(o),a;a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var l=(0,s.default)(a);t.default=l}).call(t,function(){return this}(),i(24)(e))},function(e,t){"use strict";function i(e){var t,i=e.Symbol;return"function"==typeof i?i.observable?t=i.observable:(t=i("observable"),i.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(23),o=i(21),s=n(o),a=i(100),l=n(a),u=i(296),c=n(u),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Share",i=["height=450","width=550","top="+(window.innerHeight/2-275),"left="+(window.innerWidth/2-225),"toolbar=0","location=0","menubar=0","directories=0","scrollBars=0"];return window.open(e,t,i.join(","))},h=function(e){return window.location=e},p=function(e,t){switch(t){case"facebook":return g(e);case"linkedIn":return y(e);case"twitter":return v(e);case"email":return w(e);case"download":return E(e);case"googlePlus":return k(e);case"embed":return"#";default:return console.log("Don't know how to build a link for "+t+".")}},f=function(e){if(l.default.overrideUrl(e))var t=l.default.pageUrl(e);else var t=window.location.href;if(l.default.ignoreQueryParams(e))var i=t.replace(/\?.*/,"");else var i=t;return encodeURIComponent(i)},m=function(e){return l.default.overrideUrl(e)?l.default.pageTitle(e):document.title},g=function(e){return"https://www.facebook.com/sharer/sharer.php?"+["u="+f(e)].join("&")},y=function(e){return"https://www.linkedin.com/shareArticle?"+_(e)},_=function(e){return["mini=true","url="+f(e),"title="+encodeURIComponent(m(e)),"summary=","source="].join("&")},v=function(e){return"https://twitter.com/home?"+["status="+b(e)].join("&")},b=function(e){return encodeURIComponent(A(e))+" "+f(e)},A=function(e){return"{default}"===l.default.tweetText(e)?m(e):l.default.tweetText(e).replace("{video_name}",l.default.videoName(e)).replace("{page_title}",m(e))},w=function(e){return"mailto:?"+["subject="+encodeURIComponent(m(e)),"body="+f(e)].join("&")},E=function(e){var t=l.default.downloadAsset(e),i=t.url.replace("http://embed.wistia.com","https://embed-ssl.wistia.com").replace("http://embed-0.wistia.com","https://embed-ssl.wistia.com"),n=(0,r.unescapeHtml)(l.default.videoName(e))+"."+t.ext;return i+"?filename="+encodeURIComponent(n)+"&disposition=attachment"},k=function(e){return"https://plus.google.com/share?"+["url="+f(e)].join("&")},C=function(e){switch(e){case"facebook":return"Facebook";case"twitter":return"Twitter";case"email":return"Email";case"linkedIn":return"LinkedIn";case"googlePlus":return"Google+";case"embed":return"Embed";case"download":return"Download";default:return console.log("couldnt find a display name for "+e),""}},x=function(e){return shareIcons[e]},T=function(e){var t=(e||"").split("-");return 1===t.length&&""===t[0]?[]:t};t.default={openLinkInNewWindow:d,openLinkInSameWindow:h,generateLinkFor:p,channelToDisplayName:C,channelToIcon:x,channelsStrToArr:T}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=o.default,a=s.lib("player/lib/assets"),l=s.lib("utilities/obj"),u=s.lib("utilities/core"),c=u.base64Encode,d=function(e){var t=m3u8OrderedAssets(e,e.allAssets),i=v(t),n=y(i);return n.display_name="Auto",n.slug="Auto",n},h=function(e){return a.filter(e,{container:"m3u8",segment_duration:3,type:"hls_video",status:a.READY,metadata:function(e){return e&&e.max_bitrate}}).sort(function(e,t){return(e.metadata.max_bitrate||0)-(t.metadata.max_bitrate||0)})},p=function(e,t){return l.filter(t,function(e){return"Audio"!=e.display_name})},f=function(e,t){return a.one(t,{width:[601,Math.min(1279,w(e.attributes.width,e.attributes.devicePixelRatio))],sortBy:"width desc"})},m=function(e,t){return a.one(t,{sortBy:"width asc"})},g=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.one(t,{width:[601,Math.min(i.maxWidth||8192,w(e.attributes.width,e.attributes.devicePixelRatio))],sortBy:"width desc"})},y=function(e){return{bitrate:"variable",ext:"m3u8",height:"variable",public:!0,size:"variable",type:"hls_video",url:e,width:"variable",slug:"hls_master_m3u8_seg3s"}},_=function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],r=8*n.metadata.max_bitrate;t.push("#EXT-X-STREAM-INF:PROGRAM-ID=1,CLOSED-CAPTIONS=NONE,BANDWIDTH="+r+",NAME="+n.display_name+"\n"+n.url)}return"#EXTM3U\n"+t.join("\n")},v=function(e){return"data:application/x-mpegURL;base64,"+c(_(e))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return urlProto()+"//"+cdnFastWistiaNetHost()+"/embed/medias/"+e+".m3u8?segment_duration=3&exclude_audio="+!t},A=1.2,w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.devicePixelRatio||1;return e*(1.2*Math.max(1.25,t))},E=function(e,t){var i=l.filter(t,function(e){return e.width>640});return i.length>0?i:t};e.exports={adaptiveAsset:d,allHlsAssets:h,rejectAudioAsset:p,mediumQualityStartingAsset:f,anyViableAsset:m,bestAssetForCurrentSize:g,buildMasterM3u8Asset:y,masterM3u8ContentFromAssets:_,masterM3u8DataUri:v,masterM3u8Url:b,maxAssetWidthBasedOnVideoWidth:w,filterAssetsForScreencast:E}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(369),o=n(r),s=i(3),a=n(s),l=a.default,u=l.lib("player/lib/assets"),c=l.lib("utilities/obj"),d=l.lib("utilities/url"),h=d.proto,p=l.lib("player/lib/hosts"),f=p.cdnFastWistiaNetHost,m=l.lib("utilities/localstorage"),g=m.setOrGet,y=l.lib("utilities/core"),_=y.base64Encode,v=a.default.lib("utilities/cacheable"),b=v.makeCacheable,A=v.uncacheNamespace,w=v.makeNamespace,E=b("hls_utils"),k=w("level_to_asset"),C=w("asset_to_level"),x=16,T=6,S=99999999999,O=function(e,t){return u.isScreencast(e.allAssets)&&(t=o.default.filterAssetsForScreencast(e,t)),e.attributes.qualityMin>0&&(t=o.default.rejectAudioAsset(e,t)),t=D(e,t)},P=function(e,t){t=o.default.allHlsAssets(t),t=O(e,t);var i=M(e,t)||o.default.bestAssetForCurrentSize(e,t,{maxWidth:1280})||o.default.mediumQualityStartingAsset(e,t)||o.default.anyViableAsset(e,t);return t=I(e,t).concat(B(e,t)),u.moveToFront(t,i),t},M=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.attributes.bwEstimateOnInit;return i?u.one(t,{width:[0,o.default.maxAssetWidthBasedOnVideoWidth(e.attributes.width,e.attributes.devicePixelRatio)],metadata:function(t){if(!t)return!1;var n=j(e,t);return n<99999999999&&n<i*e.abrBandWidthUpFactor()},sortFn:function(e,t){return t.metadata.max_bitrate-e.metadata.max_bitrate}}):null},I=function(e,t){var i=c.filter(t,function(e){return e.metadata.max_bitrate<99999999999});return i.sort(function(e,t){return e.width-t.width}),i},B=function(e,t){var i=c.filter(t,function(e){return e.metadata.max_bitrate>=99999999999});return i.sort(function(e,t){return e.width-t.width}),i},D=function(e,t){for(var i=e.attributes,n=i.qualityMin,r=i.qualityMax,o=0,s=0;s<t.length;s++){var a=t[s],l=u.numericSizeSnapped(a.width,a.height);n<=l&&l<=r||(o+=1)}if(o<t.length){for(var c=0;c<t.length;c++){var d=t[c],h=u.numericSizeSnapped(d.width,d.height);n<=h&&h<=r||F(d,c),"Audio"===d.display_name&&n>0&&F(d,c)}return t}for(var p=u.nearestOutsideRange(t,n,r).map(function(e){return e.url}),f=0;f<t.length;f++){var m=t[f];-1===p.indexOf(m.url)&&F(m,f),"Audio"===m.display_name&&n>0&&F(m,f)}return t},F=function(e,t){var i=void 0;(i=e&&e.metadata)&&(i.real_early_max_bitrate||(i.real_early_max_bitrate=i.early_max_bitrate),i.real_average_bitrate||(i.real_average_bitrate=i.average_bitrate),i.real_max_bitrate||(i.real_max_bitrate=i.max_bitrate),i.early_max_bitrate=i.average_bitrate=i.max_bitrate=99999999999+t)},R=function(e){return 6},L=function(e){return 16},j=function(e,t){if(!t||!t.max_bitrate)return 99999999999;var i=8*t.max_bitrate,n=8*H(t),r=8*N(t),o=e.getPreload(),s=e.getCurrentTime(),a=e.timeBeforeEndOfBuffer();if(e.videoElem()&&e.videoElem().paused,s<=6&&r<n)return n;if(s<=6&&"none"!==o)return"auto"===o?n:.5*n+.5*i;if(a<=6)return i;if(!isPaused&&a<=16){var l=10,u=a-6,c=u/10;return c*n+(1-c)*i}return n},H=function(e){return null!=e.average_bitrate?e.average_bitrate:e.max_bitrate},N=function(e){return null!=e.early_max_bitrate?e.early_max_bitrate:e.max_bitrate},V=function(e,t){var i=void 0;return(i=z(e,t))?j(e,i.metadata):99999999999},U=function(e){return e.hls.abrController.getEstimate()*e.abrBandWidthUpFactor()},W=function(e,t){return t&&t.metadata&&U(e)>8*t.metadata.max_bitrate},z=function(e,t){var i=void 0;if(null!=(i=k(e)[t]))return i;var n=c.get(e.hls.levels,[t,"url",0]),r=u.one(e.allAssets,{url:n});return r&&(r.bitrate=G(r,t)),k(e)[t]=r,r},Q=function(e,t){var i=void 0;if(null!=(i=C(e)[t.url]))return i;var n=c.filter(e.hls.levels,function(e){return e.url[0]===t.url})[0],r=e.hls.levels.indexOf(n);return n&&(C(e)[n.url[0]]=r),r},G=function(e,t,i){if(e.hls){var n=null,r=c.get(e.hls.levels,[i,"details","fragments"]);return r&&(n=8*r[r.length-1].byteRangeEndOffset/e.getDuration()/1024),n}},Y=function(e){return!!/whlsmultifile=true/.test(location.href)||!!X(e)||a.default.mux.experimentEnabled("hlsmulti")},K=function(e){for(var t=new Uint8Array(e),i=t.length,n="",r=Math.pow(2,16)-1,o=0;o<i;o+=r)o+r>i&&(r=i-o),n+=String.fromCharCode.apply(null,t.subarray(o,o+r));return n},q=function(e,t){if(Y(e)){var i=function(e,t,i,n){return n+"-"+i+"-"+(parseInt(i)+parseInt(t))+".ts"};return t.replace(/#EXT-X-BYTERANGE:(\d+)@(\d+)\s+([a-zA-Z0-9]+)\.ts/g,i)}return t},J=1073741824,X=function(e){for(var t=e.allAssets,i=0;i<t.length;i++)if(Z(e,t[i]))return!0;return!1},Z=function(e,t){var i=ee(t);return!!(i&&i<99999999999&&i*e.getDuration()>1610612736)},ee=function(e){return e&&e.metadata?e.metadata.real_average_bitrate||e.metadata.average_bitrate:null},te=function(e){e.attributes.calledStartLoad||(e.hls.startLoad(),e.setAttributes({calledStartLoad:!0}))},ie=function(e){e.hls.stopLoad(),e.setAttributes({calledStartLoad:!1})},ne=function(e){A("level_to_asset",e),A("asset_to_level",e)};e.exports={levelToAsset:z,assetToLevel:Q,startingAssetBasedOnBandwidthEstimate:M,filteredHlsAssets:O,m3u8OrderedAssets:P,bitrateForLevel:V,weightedBwUpEstimate:U,shouldTransformPathToIncludeByteRange:Y,transformPlaylist:q,canSupportAsset:W,startLoadOnce:te,stopLoad:ie,arrayBufferToString:K,UNOBTAINABLE_BITRATE:99999999999,teardown:ne}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(204),c=i(61),d=n(c),h=function(e,t,i){return function(n,c,h){var p={origin:"left",shouldUpdateFunction:function(e){return!0}},f=(0,d.default)({},p,h);return function(t){function d(e){r(this,d);var t=o(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e));return t.cacheBoundingBox(),t.boudingBoxLeft=0,t.boundingBoxWidth=0,t.maxLeft=0,t.state={boundComponentWidth:0},t.boundComponentWidth=0,t.checkBoundingBox(e),t}return s(d,t),l(d,[{key:"cacheBoundingBox",value:function(){this.boundingComponent&&(0,u.inDom)(this.boundingComponent)||(this.boundingComponent=document.querySelector(c))}},{key:"shouldComponentUpdate",value:function(e){return f.shouldUpdateFunction(this.props,e)}},{key:"componentDidMount",value:function(){this.checkBoundingBox(this.props)}},{key:"componentDidUpdate",value:function(){if(this.boundComponent&&i(this.boundComponent)){var e=i(this.boundComponent).clientWidth;Math.abs(e-this.boundComponentWidth)>2&&this.checkBoundingBox(this.props)}}},{key:"componentWillReceiveProps",value:function(e){this.checkBoundingBox(e)}},{key:"cacheDomDimensions",value:function(){this.cacheBoundingBox(),this.boundingComponent&&(this.cacheBoundComponentWidth(),this.boundingBoxLeft=(0,u.offset)(this.boundingComponent).left,this.boundingBoxWidth=this.boundingComponent.clientWidth,this.maxLeft=this.boundingBoxWidth-this.boundComponentWidth)}},{key:"cacheBoundComponentWidth",value:function(){if(this.boundComponent&&i(this.boundComponent)){var e=i(this.boundComponent).clientWidth;this.setState({boundComponentWidth:e}),this.boundComponentWidth=e}}},{key:"checkBoundingBox",value:function(e){if(e&&void 0!=e.targetLeft){this.cacheDomDimensions();var t=this.factorAnchorIntoTargetLeft(e),i=Math.min(Math.max(0,t),this.maxLeft);this.boundLeft=i}}},{key:"factorAnchorIntoTargetLeft",value:function(e){if("center"==f.origin){var t=Math.floor(this.boundComponentWidth/2);return e.targetLeft-t-this.boundingBoxLeft}return e.targetLeft-this.boundingBoxLeft}},{key:"render",value:function(){var t=this;return e.createElement(n,a({},this.props,{boundLeft:this.boundLeft,ref:function(e){return t.boundComponent=e}}))}}]),d}(t)}};t.default=h},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){
for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(374),d=n(c),h=i(375),p=n(h),f=i(231),m=n(f),g=function(e){return{isVisible:m.default.getHasBranding(e)}},y=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"renderComponent",value:function(){return(0,l.h)("div",{class:"w-component w-component--branding"},(0,l.h)(p.default,null),(0,l.h)(d.default,null))}},{key:"render",value:function(){var e=this.props.isVisible;return(0,l.h)("div",null,e&&this.renderComponent())}}]),t}(l.Component);t.default=(0,u.connect)(g)(y)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,u.render)((0,u.h)(m,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var u=i(5),c=i(12),d=i(9),h=i(59),p=i(372),f=n(p),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,h.getStoreForPlayerInstance)(e);return(0,u.h)(d.Provider,{store:t},(0,u.h)(f.default,null))}}]),t}(u.Component)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(22),h=i(21),p=n(h),f=i(315),m=n(f),g=i(291),y=n(g),_=i(74),v=n(_),b=function(e){return{menuIsOpen:y.default.getIsMenuOpen(e),videoWidth:p.default.accessors.getVideoWidth(e),videoHeight:p.default.accessors.getVideoHeight(e),isInFullscreen:p.default.accessors.getIsInFullscreen(e),uuid:p.default.accessors.getUUID(e)}},A=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:m.default.setIsMenuOpen,closeAllMenus:v.default.closeAllMenus},e)},w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleMenu()}},{key:"toggleMenu",value:function(){var e=this.props,t=e.menuIsOpen,i=e.setIsMenuOpen;0==t?(this.props.closeAllMenus(),i(!0)):i(!1)}},{key:"inlineStyles",value:function(){var e=(0,d.controlDimensionsForVideo)(this.props.videoWidth,this.props.videoHeight,this.props.isInFullscreen,100,34);return{width:e.width+"px",height:e.height+"px"}}},{key:"classNames",value:function(){return"w-control w-control--branding w-is-visible"}},{key:"componentDidUpdate",value:function(e){e.videoWidth==this.props.videoWidth&&e.videoHeight==this.props.videoHeight||(0,d.tapIcon)(this.props.uuid+".branding",this.root)}},{key:"render",value:function(){var e=this;return(0,l.h)("button",{ref:function(t){return e.root=t},title:"Wistia Branding",style:this.inlineStyles(),class:this.classNames(),onClick:this.onClick.bind(this)})}}]),t}(l.Component);t.default=(0,u.connect)(b,A)(w)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(291),h=n(d),p=i(25),f=n(p),m=i(98),g=n(m),y=function(e){return{isMenuOpen:h.default.getIsMenuOpen(e)}},_=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return i=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.stopProp=function(e){e.stopPropagation()},s=i,o(n,s)}return s(t,e),a(t,[{key:"classNames",value:function(){var e=this.props,t=e.isOpen,i=e.isTransitioned;return f.default.classListToString(["w-hover-detail","w-hover-detail--branding",t?"w-is-visible":"",i?"w-is-transitioned":""])}},{key:"render",value:function(){return(0,l.h)("div",{class:this.classNames()},(0,l.h)("p",{class:"w-hover-detail__p"},"Hi! We're Wistia. We provide business video hosting to attract, engage, and delight"),(0,l.h)("div",{class:"w-align--right"},(0,l.h)("a",{class:"w-hover-detail__button",href:"https://wistia.com",target:"_blank",onClick:this.stopProp},"Learn More")))}}]),t}(l.Component),v=(0,g.default)(_,"isMenuOpen");t.default=(0,u.connect)(y)(v)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(378),h=n(d),p=i(380),f=n(p),m=i(21),g=n(m),y=i(207),_=n(y),v=i(25),b=n(v),A=function(e){return{isControlVisible:accessors.getIsControlVisible(e),isKeyboardFocus:g.default.accessors.getIsKeyboardFocus(e)}},w=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:_.default.setIsMenuOpen},e)},E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){return(0,l.h)("div",{class:"w-component w-component--captions"},(0,l.h)(f.default,null),(0,l.h)(h.default,null))}}]),t}(l.Component);t.default=E},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,u.render)((0,u.h)(m,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var u=i(5),c=i(12),d=i(9),h=i(59),p=i(376),f=n(p),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,h.getStoreForPlayerInstance)(e);return(0,u.h)(d.Provider,{store:t},(0,u.h)(f.default,null))}}]),t}(u.Component)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(74),h=n(d),p=i(207),f=n(p),m=i(292),g=n(m),y=i(21),_=n(y),v=i(379),b=n(v),A=i(3),w=n(A),E=i(22),k=function(e){return{menuIsOpen:g.default.getIsMenuOpen(e),videoWidth:_.default.accessors.getVideoWidth(e),videoHeight:_.default.accessors.getVideoHeight(e),isInFullscreen:_.default.accessors.getIsInFullscreen(e)}},C=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:f.default.setIsMenuOpen,closeAllMenus:h.default.closeAllMenus},e)},x=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"onClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,i=t.menuIsOpen,n=t.setIsMenuOpen;(0,t.closeAllMenus)(),n(!i)}},{key:"inlineStyles",value:function(){var e=(0,E.controlDimensionsForVideo)(this.props.videoWidth,this.props.videoHeight,this.props.isInFullscreen,40,34);return{width:e.width+"px",height:e.height+"px"}}},{key:"render",value:function(){var e=this;return(0,l.h)("button",{ref:function(t){return e.root=t},title:"Captions",tabIndex:"0","aria-label":"Closed Captions",class:"w-control w-control--captions w-is-visible",style:this.inlineStyles(),onClick:this.onClick.bind(this)},(0,l.h)("div",{class:"w-control--icon"},(0,l.h)(b.default,null)))}}]),t}(l.Component);t.default=(0,u.connect)(k,C)(x)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return(0,a.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 30.6 22.8","enable-background":"new 0 0 30.6 22.8",class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_captions"},(0,a.h)("path",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M13.5,13.7c-0.6,0.9-1.4,1.6-2.7,1.6c-1.7,0-3.1-1.5-3.1-3.6C7.7,9.5,9,8,10.8,8c1.3,0,2.1,0.7,2.6,1.6"}),(0,a.h)("path",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M22.5,13.7c-0.6,0.9-1.4,1.6-2.7,1.6c-1.7,0-3.1-1.5-3.1-3.6C16.7,9.5,18,8,19.8,8c1.3,0,2.1,0.7,2.6,1.6"}),(0,a.h)("path",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:"M29.7,16c0,3.3-2.7,6-6,6h-17c-3.3,0-6-2.7-6-6V7c0-3.3,2.7-6,6-6h17c3.3,0,6,2.7,6,6V16z"}))}}]),t}(a.Component);t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(21),h=n(d),p=i(74),f=n(p),m=i(292),g=n(m),y=i(207),_=n(y),v=i(25),b=n(v),A=i(98),w=n(A),E=i(97),k=n(E),C=i(3),x=n(C),T=i(22),S=i(2),O=n(S),P=function(e){return{isMenuOpen:g.default.getIsMenuOpen(e),captions:g.default.getCaptions(e),currentLanguage:g.default.getCurrentLanguage(e),isKeyboardFocus:h.default.accessors.getIsKeyboardFocus(e),videoWidth:h.default.accessors.getVideoWidth(e),videoHeight:h.default.accessors.getVideoHeight(e),isInFullscreen:h.default.accessors.getIsInFullscreen(e)}},M=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:_.default.setIsMenuOpen,closeAllMenus:f.default.closeAllMenus,setCurrentLanguage:_.default.setCurrentLanguage},e)},I=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.optionsRefs=[],e}return s(t,e),a(t,[{key:"resizedFontStyles",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen;return{fontSize:14*(0,T.fontSizeMultiplierForVideo)(t,i,n)+"px"}}},{key:"resizedItemHeightStyles",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,T.fontSizeMultiplierForVideo)(t,i,n),o=34*r;return{height:o+"px",lineHeight:o+"px"}}},{key:"listLinkStyles",value:function(){return O.default.merge(this.resizedItemHeightStyles(),this.resizedFontStyles())}},{key:"listLinkSpanStyles",value:function(){return this.resizedFontStyles()}},{key:"itemClassnamesFor",value:function(e){var t=this.props.currentLanguage==e.id;return b.default.classListToString(["w-menu__list-link","w-menu__list-link--checkable",t?"is-checked":""])}},{key:"classNames",value:function(){return this.props.isMenuOpen,b.default.classListToString(["w-menu","w-menu--captions",this.props.isOpen?"w-is-visible":"",this.props.isTransitioned?"w-is-transitioned":""])}},{key:"menuStyle",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,T.menuMultiplierForVideo)(t,i,n),o=120*r,s=b.default.leftValueToKeepMenuInsideVideo(t,this.menuComponent,o),a=(0,T.controlDimensionsForVideo)(t,i,n,100,34);return a._,{left:s+"px",bottom:a.height+"px",width:o+"px"}}},{key:"onOptionClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.dataset.id;(0,this.props.setCurrentLanguage)(parseInt(t))}},{key:"componentDidUpdate",value:function(){var e=void 0;this.props.isMenuOpenJustChanged&&(e=this.optionsRefs[0])&&e.focus()}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsMenuOpen)(!1)}},{key:"getIsTabbable",value:function(){return this.props.isMenuOpen?0:-1}},{key:"renderMenuCloseElement",value:function(){return(0,l.h)("li",{tabindex:this.getIsTabbable(),onFocus:this.onCloseMenuFocus.bind(this),"data-tabto":".w-control--captions",class:"w-menu__list-item"})}},{key:"renderOptions",value:function(){var e=this,t=this.props.captions;this.optionsRefs=[];var i=t.map(function(t){return(0,l.h)("li",{class:"w-menu__list-item"},(0,l.h)("button",{ref:function(t){e.optionsRefs.push(t)},"data-id":t.id,tabindex:e.getIsTabbable(),class:e.itemClassnamesFor(t),style:e.listLinkStyles(),onClick:e.onOptionClick.bind(e)},t.native_name))});return i.push(this.renderMenuCloseElement()),i}},{key:"render",value:function(){var e=this;return(0,l.h)("div",{ref:function(t){e.menuComponent=t},style:this.menuStyle(),class:this.classNames()},(0,l.h)("ul",{class:"w-menu__list"},this.renderOptions()))}}]),t}(l.Component),B=(0,w.default)(I,"isMenuOpen"),D=(0,k.default)(B,"isMenuOpen");t.default=(0,u.connect)(P,M)(D)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterIconBook=t.ChapterIcon=void 0;var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),l=t.ChapterIcon=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return(0,a.h)("svg",{class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_chapters",version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"283.469px",height:"227.562px",viewBox:"0 0 283.469 227.562","enable-background":"new 0 0 283.469 227.562"},(0,a.h)("g",null,(0,a.h)("g",null,(0,a.h)("circle",{fill:"#ffffff",cx:"21.5",cy:"21.5",r:"21.5"}),(0,a.h)("path",{fill:"#ffffff",d:"M283.465,21.501c0,8.109-6.572,14.687-14.684,14.687H93.156c-8.109,0-14.684-6.575-14.684-14.687l0,0 c0-8.108,6.574-14.686,14.684-14.686h175.625C276.893,6.815,283.465,13.391,283.465,21.501L283.465,21.501z"})),(0,a.h)("g",null,(0,a.h)("circle",{fill:"#ffffff",cx:"21.5",cy:"113.781",r:"21.5"}),(0,a.h)("path",{fill:"#ffffff",d:"M283.469,113.781c0,8.109-6.574,14.685-14.685,14.685H93.152c-8.109,0-14.684-6.572-14.684-14.685l0,0 c0-8.11,6.574-14.685,14.684-14.685h175.632C276.895,99.097,283.469,105.671,283.469,113.781L283.469,113.781z"})),(0,a.h)("g",null,(0,a.h)("circle",{fill:"#ffffff",cx:"21.5",cy:"206.062",r:"21.5"}),(0,a.h)("path",{fill:"#ffffff",d:"M283.469,206.062c0,8.106-6.574,14.686-14.685,14.686H93.152c-8.109,0-14.684-6.576-14.684-14.686l0,0 c0-8.108,6.574-14.687,14.684-14.687h175.632C276.895,191.378,283.469,197.953,283.469,206.062L283.469,206.062z"}))))}}]),t}(a.Component),u=t.ChapterIconBook=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return(0,a.h)("svg",{class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_chapters",xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",width:"20px",height:"20px",viewBox:"0 0 20 20","enable-background":"new 0 0 20 20"},(0,a.h)("path",{fill:"#ffffff",d:"M0.6,16.4l9.2,3.4c0.2,0.1,0.4,0.1,0.6,0l9.1-3.4c0.3-0.1,0.5-0.4,0.5-0.7V0.9c0-0.4-0.3-0.8-0.7-0.8  c-0.1,0-0.1,0-0.3,0.1L9.8,3.5L1.2,0.1C1.1,0.1,1,0.1,0.9,0.1C0.5,0.1,0,0.4,0,0.9v14.8C0,16,0.3,16.3,0.6,16.4z M10.8,4.9l7.8-3.1  v13.4L10.8,18V4.9z M1.4,1.8l7.8,3.1V18l-7.8-2.8V1.8z"}))}}]),t}(a.Component)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var i=(0,c.render)((0,c.h)(P,{instanceId:t}),e);return function(){(0,c.render)((0,c.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ChapterTitle=void 0;var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=l;var c=i(5),d=i(9),h=i(12),p=i(188),f=r(p),m=i(189),g=n(m),y=i(191),_=r(y),v=i(74),b=r(v),A=i(404),w=r(A),E=i(25),k=r(E),C=i(23),x=function(e){return{currentlyHoveredChapter:g.getCurrentlyHoveredChapter(e),targetLeft:g.getChapterTitleLeftOffset(e)}},T=t.ChapterTitle=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"style",value:function(){return{left:this.props.boundLeft}}},{key:"hasCurrentlyHoveredChapter",value:function(){return!!this.props.currentlyHoveredChapter}},{key:"classNames",value:function(){return k.default.classListToString(["w-chapter-title",this.hasCurrentlyHoveredChapter()?"w-is-visible":""])}},{key:"title",value:function(){return this.hasCurrentlyHoveredChapter()?""+this.props.currentlyHoveredChapter.title:""}},{key:"render",value:function(){return(0,c.h)("div",{style:this.style(),class:this.classNames()},(0,C.unescapeHtml)(this.title()))}}]),t}(c.Component),S=(0,w.default)(T,".w-control-bar__region--thumbscrubber",{origin:"center",shouldUpdateFunction:function(e,t){var i=!!e.currentlyHoveredChapter,n=!!t.currentlyHoveredChapter;return n||i!=n}}),O=(0,d.connect)(x)(S),P=(0,f.default)(O)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var i=(0,c.render)((0,c.h)(O,{instanceId:t}),e);return function(){(0,c.render)((0,c.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Chapters=void 0;var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=l;var c=i(5),d=i(9),h=i(12),p=i(188),f=r(p),m=i(381),g=i(189),y=n(g),_=i(191),v=r(_),b=i(21),A=r(b),w=i(74),E=r(w),k=i(22),C=function(e){return{isVisible:y.getIsVisible(e),isMenuOpen:y.getIsMenuOpen(e),videoWidth:A.default.accessors.getVideoWidth(e),videoHeight:A.default.accessors.getVideoHeight(e),isInFullscreen:A.default.accessors.getIsInFullscreen(e),uuid:A.default.accessors.getUUID(e)}},x=function(e){return(0,h.bindActionCreators)({setIsMenuOpen:v.default.setIsMenuOpen,closeAllMenus:E.default.closeAllMenus,setHasControlBeenClicked:v.default.setHasControlBeenClicked},e)},T=t.Chapters=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"onClick",value:function(e){e.stopPropagation();var t=this.props,i=t.isMenuOpen,n=t.setIsMenuOpen,r=t.closeAllMenus,o=t.setHasControlBeenClicked;r(),n(!i),o(!0)}},{key:"shouldShow",value:function(){return this.props.isVisible}},{key:"maybeRenderComponent",value:function(){return this.shouldShow()?this.renderComponent():this.renderNothing()}},{key:"renderTabToElement",value:function(){var e=this.props.isMenuOpen?"visible":"hidden";return(0,c.h)("div",{style:{visibility:e},"data-tabto":".w-chapters__chapter-item.first",tabindex:"0"})}},{key:"inlineStyles",value:function(){var e=(0,k.controlDimensionsForVideo)(this.props.videoWidth,this.props.videoHeight,this.props.isInFullscreen,40,34);return{width:e.width+"px",height:e.height+"px"}}},{key:"componentDidUpdate",value:function(e){!this.root||e.videoWidth==this.props.videoWidth&&e.videoHeight==this.props.videoHeight||(0,k.tapIcon)(this.props.uuid+".chapters",this.root)}},{key:"renderComponent",value:function(){var e=this;return(0,c.h)("div",{class:"w-control-bar__region w-control-bar__region--chaptering"},(0,c.h)("button",{ref:function(t){return e.root=t},title:"Chapters",onClick:this.onClick.bind(this),class:"w-control w-control--chapters w-is-visible",style:this.inlineStyles(),tabIndex:"0","aria-label":"Chaptering Menu Button"},(0,c.h)("div",{class:"w-control--icon"},(0,c.h)(m.ChapterIcon,null)),this.renderTabToElement()))}},{key:"renderNothing",value:function(){return(0,c.h)("nothing",null)}},{key:"render",value:function(){return(0,c.h)("div",null,this.maybeRenderComponent())}}]),t}(c.Component),S=(0,d.connect)(C,x)(T),O=(0,f.default)(S)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var i=(0,c.render)((0,c.h)(H,{instanceId:t}),e);return function(){(0,c.render)((0,c.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=l;var c=i(5),d=i(9),h=i(12),p=i(25),f=r(p),m=i(189),g=n(m),y=i(191),_=r(y),v=i(21),b=r(v),A=i(188),w=r(A),E=i(98),k=r(E),C=i(97),x=r(C),T=i(23),S=i(22),O=i(2),P=r(O),M=function(e){return 0!==g.getChapters(e).length},I=function(e){var t=b.default.accessors.getIsUIReady(e),i=g.getIsMenuOpen(e),n=g.getIsVisible(e);return t&&i&&n},B=function(e){return{isMenuOpen:I(e),isVisible:g.getIsVisible(e),isVisibleOnLoad:M(e),chapters:g.getChapters(e),videoWidth:b.default.accessors.getVideoWidth(e),videoHeight:b.default.accessors.getVideoHeight(e),isInFullscreen:b.default.accessors.getIsInFullscreen(e)}},D=function(e){return(0,h.bindActionCreators)({setIsMenuOpen:_.default.setIsMenuOpen,setHasControlBeenClicked:_.default.setHasControlBeenClicked,setLastChapterActivated:_.default.setLastChapterActivated,setMenuWidth:_.default.setMenuWidth,setCurrentlyHoveredChapter:_.default.setCurrentlyHoveredChapter},e)},F=function(e){function t(e){o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.openIfVisibleOnLoad(e),i.state={previousScrollbarWidth:0},i}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.root&&this.openIfVisibleOnLoad(this.props)}},{key:"openIfVisibleOnLoad",value:function(e){var t=e.isVisibleOnLoad,i=e.setIsMenuOpen;t&&i(!0)}},{key:"componentDidUpdate",value:function(){this.props.isVisibleJustChanged&&this.props.setIsMenuOpen(!0),this.root&&0!=this.root.clientWidth&&this.props.setMenuWidth(this.root.clientWidth),this.state.previousScrollbarWidth!==this.scrollbarWidth()&&this.setState({previousScrollbarWidth:this.scrollbarWidth()})}},{key:"classNames",value:function(){var e=this.props,t=e.isOpen,i=e.isTransitioned;return f.default.classListToString(["w-menu","w-menu--chapters","w-chapters",t?"w-is-visible":"",i?"w-is-transitioned":""])}},{key:"scrollbarWidth",value:function(){return this.scrollContainer?this.scrollContainer.offsetWidth-this.scrollContainer.clientWidth:25}},{key:"menuStyle",value:function(){return{"margin-right":"-"+this.scrollbarWidth()+"px"}}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsMenuOpen)(!1)}},{key:"onRootClick",value:function(e){e.stopPropagation()}},{key:"onItemClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-chapter-id"));(0,this.props.setLastChapterActivated)(t)}},{key:"onMouseEnterIndicator",value:function(e){var t=e.target.getAttribute("data-chapter-id");this.props.setCurrentlyHoveredChapter(parseInt(t))}},{key:"onMouseLeaveIndicator",value:function(e){this.props.setCurrentlyHoveredChapter(null)}},{key:"onMouseWheel",value:function(e){(0,T.preventOuterMouseWheel)(e,this.scrollContainer)}},{key:"renderTabToElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.props.isMenuOpen,(0,c.h)("li",{onFocus:e,class:"w-menu__list-item w-menu__list-item--close",tabindex:"0","data-tabto":".w-control--chapters"})}},{key:"classNamesForChapter",
value:function(e){return f.default.classListToString(["w-menu__list-link","w-menu__list-link--inline","w-chapters__chapter-item",0===e?"first":""])}},{key:"resizedFontStyles",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,S.fontSizeMultiplierForVideo)(t,i,n);return{fontSize:14*r+"px",lineHeight:22*r+"px"}}},{key:"stylesForChapterText",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,S.fontSizeMultiplierForVideo)(t,i,n),o=7*r;return P.default.assign(this.resizedFontStyles(),{paddingLeft:o+"px"})}},{key:"stylesForChapterNumber",value:function(){return this.resizedFontStyles()}},{key:"renderChaptersList",value:function(){var e=this;return this.props.chapters.map(function(t,i){var n=t.title||"";return(0,c.h)("li",{onMouseEnter:e.onMouseEnterIndicator.bind(e),onMouseLeave:e.onMouseLeaveIndicator.bind(e),onClick:e.onItemClick.bind(e),"data-chapter-id":t.id,class:"w-menu__list-item w-menu__list-item--ordered w-chapters__chapter w-menu__list-item-link"},(0,c.h)("div",{class:"w-chapters__chapter-number",style:e.stylesForChapterNumber()},i+1),(0,c.h)("button",{onClick:e.onItemClick.bind(e),onMouseEnter:e.onMouseEnterIndicator.bind(e),onMouseLeave:e.onMouseLeaveIndicator.bind(e),"aria-label":"Chapter Link: "+n,"data-chapter-id":t.id,style:e.stylesForChapterText(),class:e.classNamesForChapter(i),tabindex:"0"},(0,T.unescapeHtml)(n)))})}},{key:"renderComponent",value:function(){var e=this;return(0,c.h)("div",{onClick:this.onRootClick.bind(this),class:this.classNames(),style:this.menuStyle()},(0,c.h)("div",{ref:function(t){return e.scrollContainer=t},onMouseWheel:this.onMouseWheel.bind(this),onDOMMouseScroll:this.onMouseWheel,class:"w-chapters__scrollcontainer"},(0,c.h)("ol",{ref:function(t){return e.root=t},class:"w-menu__list w-menu__list--ordered w-menu__list--chapters"},this.renderTabToElement(),this.renderChaptersList(),this.renderTabToElement(this.onCloseMenuFocus.bind(this)))))}},{key:"render",value:function(){if(this.props.isVisible)return this.renderComponent()}}]),t}(c.Component),R=(0,k.default)(F,"isMenuOpen"),L=(0,x.default)(R,"isVisible"),j=(0,d.connect)(B,D)(L),H=(0,w.default)(j)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var i=(0,c.render)((0,c.h)(j,{instanceId:t}),e);return function(){(0,c.render)((0,c.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=l;var c=i(5),d=i(9),h=i(12),p=i(297),f=r(p),m=i(25),g=r(m),y=i(204),_=i(189),v=n(_),b=i(191),A=r(b),w=i(98),E=r(w),k=i(188),C=r(k),x=i(21),T=r(x),S=i(294),O=r(S),P=50,M=10,I=16,B=function(e){return{isVisible:v.getIsVisible(e),chapters:v.getChapters(e),videoLength:T.default.accessors.getVideoLength(e),playbarPosition:O.default.accessors.getPlaybarPositionPercentage(e),playbarWidth:O.default.accessors.getWidth(e),playbarIsBeingDragged:O.default.accessors.getIsDragging(e),chapterTitleLeftOffset:v.getChapterTitleLeftOffset(e),currentlyHoveredChapterId:v.getCurrentlyHoveredChapterId(e)}},D=function(e){return(0,h.bindActionCreators)({setCurrentlyHoveredChapter:A.default.setCurrentlyHoveredChapter,setLastChapterActivated:A.default.setLastChapterActivated,setChapterTitleLeftOffset:A.default.setChapterTitleLeftOffset},e)},F=function(e){return e?0:-1},R=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"indicatorStyle",value:function(e){var t=this.props.videoLength,i=16/t;return{left:Math.max(i,e.time/t*100)+"%"}}},{key:"indicatorClassnames",value:function(e){var t=this.indicatorPositionRelativeToPlayhead(e),i=t.playheadAfterIndicator,n=t.playheadOverIndicator,r=this.props,o=r.playbarIsBeingDragged,s=r.currentlyHoveredChapterId,a=s==e.id;return g.default.classListToString(["w-playbar-indicators__indicator",n?"is-hidden":"",i?"is-passed":"",o?"is-dragging":"",a?"is-hovering":""])}},{key:"indicatorPositionRelativeToPlayhead",value:function(e){var t=this.props,i=t.playbarWidth,n=t.videoLength,r=t.playbarPosition,o=parseFloat(50/i),s=parseFloat(10/i),a=parseFloat(e.time/n),l=[a-s,a+o],u=Math.max(r,o),c=u<l[0],d=u>l[1];return{playheadBeforeIndicator:c,playheadOverIndicator:!(c||d),playheadAfterIndicator:d}}},{key:"onIndicatorClick",value:function(e){var t=parseInt(e.target.getAttribute("data-chapter-id"));(0,this.props.setLastChapterActivated)(t)}},{key:"onIndicatorMousedown",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"onMouseEnterIndicator",value:function(e){var t=e.target.getAttribute("data-chapter-id");this.props.setCurrentlyHoveredChapter(parseInt(t))}},{key:"onMouseLeaveIndicator",value:function(e){this.props.setCurrentlyHoveredChapter(null)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.currentlyHoveredChapterId;if(e.setChapterTitleLeftOffset,void 0!=t&&null!=t){var i=this.indicators[t],n=(0,y.offset)(i).left;this.props.setChapterTitleLeftOffset(n+8)}}},{key:"renderComponent",value:function(){var e=this,t=this.props.chapters;return this.indicators={},(0,c.h)("div",{class:"w-playbar-indicators"},t.map(function(t){return(0,c.h)("button",{onMouseEnter:e.onMouseEnterIndicator.bind(e),onMouseLeave:e.onMouseLeaveIndicator.bind(e),onMouseDown:e.onIndicatorMousedown.bind(e),onClick:e.onIndicatorClick.bind(e),style:e.indicatorStyle(t),"data-chapter-id":t.id,ref:function(i){return e.indicators[t.id]=i},class:e.indicatorClassnames(t),"aria-label":t.title,tabIndex:"0"},(0,c.h)("div",{class:"w-playbar-indicators__indicator-dot"},String.fromCharCode(9679)," "))}))}},{key:"render",value:function(){if(this.props.isVisible)return this.renderComponent()}}]),t}(c.Component),L=(0,d.connect)(B,D)(R),j=(0,C.default)(L)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(22),h=i(21),p=n(h),f=i(74),m=n(f),g=i(192),y=n(g),_=i(99),v=n(_),b=i(387),A=n(b),w=function(e){return{menuIsOpen:v.default.getIsMenuOpen(e),videoWidth:p.default.accessors.getVideoWidth(e),videoHeight:p.default.accessors.getVideoHeight(e),isInFullscreen:p.default.accessors.getIsInFullscreen(e),uuid:p.default.accessors.getUUID(e)}},E=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:y.default.setIsMenuOpen,closeAllMenus:m.default.closeAllMenus},e)},k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"onButtonClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleMenu()}},{key:"toggleMenu",value:function(){var e=this.props,t=e.menuIsOpen,i=e.setIsMenuOpen;0==t?(this.props.closeAllMenus(),i(!0)):i(!1)}},{key:"classNames",value:function(){return"w-control w-control--settings w-is-visible"}},{key:"inlineStyles",value:function(){var e=(0,d.controlDimensionsForVideo)(this.props.videoWidth,this.props.videoHeight,this.props.isInFullscreen,40,34);return{width:e.width+"px",height:e.height+"px"}}},{key:"componentDidUpdate",value:function(e){e.videoWidth==this.props.videoWidth&&e.videoHeight==this.props.videoHeight||(0,d.tapIcon)(this.props.uuid+".settings",this.root)}},{key:"render",value:function(){var e=this;return(0,l.h)("button",{ref:function(t){return e.root=t},class:this.classNames(),style:this.inlineStyles(),onClick:this.onButtonClick.bind(this),title:"Settings",alt:"Settings",tabIndex:"0","aria-label":"Settings"},(0,l.h)("div",{class:"w-control--icon"},A.default.settingsControl()))}}]),t}(l.Component);t.default=(0,u.connect)(w,E)(k)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(5);t.default={settingsControl:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 19 19","enable-background":"new 0 0 19 19",class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_settings"},(0,n.h)("path",{d:"M17.8,8.8h-2c-0.2-1-0.5-2-1-2.7l1.4-1.5c0.5-0.5,0.5-1.3,0-1.7c-0.5-0.5-1.2-0.5-1.7,0l-1.5,1.4 c-0.7-0.5-1.5-0.8-2.5-1v-2c0-0.7-0.3-1.2-1-1.2s-1,0.5-1,1.2v2.1c-1,0.2-1.8,0.5-2.5,1L4.5,2.8c-0.5-0.5-1.2-0.5-1.7,0 S2.3,4,2.8,4.5l1.5,1.8c-0.5,0.7-0.8,1.6-1,2.6H1.2C0.5,8.8,0,9.2,0,9.8s0.5,1,1.2,1h2.1c0.2,1,0.5,1.6,1,2.3l-1.5,1.4 c-0.5,0.5-0.5,1.2,0,1.7c0.2,0.2,0.5,0.3,0.8,0.3s0.6-0.1,0.8-0.4l1.6-1.5c0.7,0.5,1.5,0.8,2.5,1v2.1c0,0.7,0.3,1.2,1,1.2 s1-0.5,1-1.2v-2c1-0.2,1.8-0.5,2.5-1l1.4,1.4c0.2,0.2,0.5,0.3,0.9,0.3s0.6-0.1,0.8-0.3c0.5-0.5,0.5-1.2,0-1.7l-1.4-1.3 c0.5-0.7,0.9-1.4,1-2.4h2c0.7,0,1.2-0.3,1.2-1S18.5,8.8,17.8,8.8z M9.6,14.1C7,14.1,5,12,5,9.5S7,4.9,9.6,4.9s4.6,2.1,4.6,4.6 S12.1,14.1,9.6,14.1z"}))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(25),h=n(d),p=i(192),f=n(p),m=i(99),g=n(m),y=i(389),_=n(y),v=i(392),b=n(v),A=i(98),w=n(A),E=i(97),k=n(E),C=i(21),x=n(C),T=i(22),S=function(e){return{isMenuOpen:g.default.getIsMenuOpen(e),isPlayrateVisible:x.default.accessors.getHasPlaybackRateControl(e),isQualityVisible:x.default.accessors.getHasQualityControl(e),videoWidth:x.default.accessors.getVideoWidth(e),videoHeight:x.default.accessors.getVideoHeight(e),isInFullscreen:x.default.accessors.getIsInFullscreen(e)}},O=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:f.default.setIsMenuOpen},e)},P=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"classNames",value:function(){var e=this.props,t=e.isOpen,i=e.isTransitioned;return h.default.classListToString(["w-menu","w-menu--share",t?"w-is-visible":"",i?"w-is-transitioned":""])}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isMenuOpenJustChanged,i=e.isMenuOpen,n=e.isPlayrateVisible,r=e.isQualityVisible;if(t&&i)if(n){var o=this.playrateMenu.base.getElementsByTagName("button")[0];o.focus()}else if(r){var s=this.qualityMenu.base.getElementsByTagName("button")[0];s.focus()}}},{key:"getIsTabbable",value:function(){return this.props.isMenuOpen?0:-1}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsMenuOpen)(!1)}},{key:"menuStyle",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,T.menuMultiplierForVideo)(t,i,n),o=120*r,s=h.default.leftValueToKeepMenuInsideVideo(t,this.menuComponent,o),a=(0,T.controlDimensionsForVideo)(t,i,n,100,34);return a._,{left:s+"px",bottom:a.height+"px",width:o+"px"}}},{key:"renderMenuCloseElement",value:function(){return(0,l.h)("li",{key:"MenuCloseElement",tabindex:this.getIsTabbable(),onFocus:this.onCloseMenuFocus.bind(this),"data-tabto":".w-control--settings",class:"w-menu__list-item w-menu__list-item--close-settings"})}},{key:"renderPlayrateMenu",value:function(){var e=this;if(this.props.isPlayrateVisible)return(0,l.h)(_.default,{ref:function(t){e.playrateMenu=t}})}},{key:"renderQualityMenu",value:function(){var e=this;if(this.props.isQualityVisible)return(0,l.h)(b.default,{ref:function(t){e.qualityMenu=t}})}},{key:"render",value:function(){var e=this;return(0,l.h)("div",{class:this.classNames(),ref:function(t){e.menuComponent=t},style:this.menuStyle()},(0,l.h)("ul",{class:"w-menu__list"},this.renderPlayrateMenu(),this.renderQualityMenu(),this.renderMenuCloseElement()))}}]),t}(l.Component),M=(0,w.default)(P,"isMenuOpen"),I=(0,k.default)(M,"isMenuOpen");t.default=(0,u.connect)(S,O)(I)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(317),h=n(d),p=i(192),f=n(p),m=i(99),g=n(m),y=i(97),_=n(y),v=i(21),b=n(v),A=function(e){return{isParentMenuOpen:g.default.getIsMenuOpen(e),playbackRateOptions:g.default.getPlaybackRateOptions(e),currentPlaybackRate:g.default.getPlaybackRateValue(e),isPlaybackRateOpen:g.default.getIsPlaybackRateOpen(e),videoWidth:b.default.accessors.getVideoWidth(e),videoHeight:b.default.accessors.getVideoHeight(e),isInFullscreen:b.default.accessors.getIsInFullscreen(e)}},w=function(e){return(0,c.bindActionCreators)({setValueFor:f.default.setValueFor,setIsOpenFor:f.default.setIsOpenFor},e)},E=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return i=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getIsTabbable=function(){return n.props.isParentMenuOpen?0:-1},s=i,o(n,s)}return s(t,e),a(t,[{key:"onItemClick",value:function(e){this.props.setValueFor("playbackRate",e)}},{key:"onTitleClick",value:function(){var e=this.props,t=e.isPlaybackRateOpen,i=e.setIsOpenFor;i("playbackRate",!t),i("videoQuality",!1)}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsOpenFor)("playbackRate",!1)}},{key:"keySorter",value:function(e){return Object.keys(e).sort(function(e,t){return parseInt(e)-parseInt(t)})}},{key:"getIsCloseElementTabbable",value:function(){return this.props.isPlaybackRateOpen?0:-1}},{key:"renderMenuCloseElement",value:function(){return(0,l.h)("li",{tabindex:this.getIsCloseElementTabbable(),onFocus:this.onCloseMenuFocus.bind(this),"data-tabto":".w-menu__list-item--Quality button",class:"w-menu__list-item"})}},{key:"render",value:function(){var e=this.props.playbackRateOptions,t=this.props.currentPlaybackRate,i=this.props.isPlaybackRateOpen;return e[t],(0,l.h)(h.default,{key:"playbackRateMenu",tabindex:this.getIsTabbable,isOpen:i,title:"Speed",options:e,currentOption:t,onItemClick:this.onItemClick.bind(this),onTitleClick:this.onTitleClick.bind(this),videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,isInFullscreen:this.props.isInFullscreen,keySorter:this.keySorter,lastItem:this.renderMenuCloseElement.bind(this)})}}]),t}(l.Component),k=(0,_.default)(E,"isMenuOpen");t.default=(0,u.connect)(A,w)(k)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(99),d=n(c),h=i(386),p=n(h),f=i(388),m=n(f),g=i(21),y=n(g),_=function(e){return{isVisible:y.default.accessors.getHasSettingsControl(e)}},v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"maybeRender",value:function(){return this.props.isVisible?this.renderComponent():this.renderNothing()}},{key:"renderComponent",value:function(){return(0,l.h)("div",null,(0,l.h)(m.default,null),(0,l.h)(p.default,null))}},{key:"renderNothing",value:function(){return(0,l.h)("nothing",null)}},{key:"render",value:function(){return(0,l.h)("div",{class:"w-component w-component--settings"},this.maybeRender())}}]),t}(l.Component);t.default=(0,u.connect)(_)(v)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,u.render)((0,u.h)(m,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var u=i(5),c=i(12),d=i(9),h=i(59),p=i(390),f=n(p),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,h.getStoreForPlayerInstance)(e);return(0,u.h)(d.Provider,{store:t},(0,u.h)(f.default,null))}}]),t}(u.Component)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(317),h=n(d),p=i(192),f=n(p),m=i(99),g=n(m),y=i(21),_=n(y),v=function(e){return{videoQualityOptions:g.default.getVideoQualityOptions(e),currentVideoQuality:g.default.getVideoQualityValue(e),selectedVideoQuality:g.default.getSelectedVideoQualityValue(e),isVideoQualityOpen:g.default.getIsVideoQualityOpen(e),isParentMenuOpen:g.default.getIsMenuOpen(e),videoWidth:_.default.accessors.getVideoWidth(e),videoHeight:_.default.accessors.getVideoHeight(e),isInFullscreen:_.default.accessors.getIsInFullscreen(e)}},b=function(e){return(0,c.bindActionCreators)({setValueFor:f.default.setValueFor,setIsOpenFor:f.default.setIsOpenFor,setIsMenuOpen:f.default.setIsMenuOpen},e)},A=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return i=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.getIsTabbable=function(){return n.props.isParentMenuOpen?0:-1},s=i,o(n,s)}return s(t,e),a(t,[{key:"onItemClick",value:function(e){this.props.setValueFor("selectedVideoQuality",e),this.props.setValueFor("videoQuality",e)}},{key:"onTitleClick",value:function(){var e=this.props,t=e.isVideoQualityOpen,i=e.setIsOpenFor;i("videoQuality",!t),i("playbackRate",!1)}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsOpenFor)("videoQuality",!1)}},{key:"getIsCloseElementTabbable",value:function(){return this.props.isVideoQualityOpen?0:-1}},{key:"renderMenuCloseElement",value:function(){return(0,l.h)("li",{tabindex:this.getIsCloseElementTabbable(),onFocus:this.onCloseMenuFocus.bind(this),"data-tabto":".w-menu__list-item--close-settings",class:"w-menu__list-item"})}},{key:"render",value:function(){var e=this.props,t=e.videoQualityOptions,i=e.currentVideoQuality,n=e.selectedVideoQuality,r=e.isVideoQualityOpen;return t[i],(0,l.h)(h.default,{key:"VideoQualityMenu",tabindex:this.getIsTabbable,isOpen:r,title:"Quality",options:t,currentOption:i,selectedOption:n,videoWidth:this.props.videoWidth,videoHeight:this.props.videoHeight,isInFullscreen:this.props.isInFullscreen,onItemClick:this.onItemClick.bind(this),onTitleClick:this.onTitleClick.bind(this),lastItem:this.renderMenuCloseElement.bind(this)})}}]),t}(l.Component);t.default=(0,u.connect)(v,b)(A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(208),h=n(d),p=i(100),f=n(p),m=i(394),g=n(m),y=i(74),_=n(y),v=i(25),b=n(v),A=i(21),w=n(A),E=i(3),k=n(E),C=i(22),x=function(e){return{menuIsOpen:f.default.getIsMenuOpen(e),isVisible:f.default.getIsVisible(e),videoWidth:w.default.accessors.getVideoWidth(e),videoHeight:w.default.accessors.getVideoHeight(e),isInFullscreen:w.default.accessors.getIsInFullscreen(e),uuid:w.default.accessors.getUUID(e)}},T=function(e){return(0,c.bindActionCreators)({setIsMenuOpen:h.default.setIsMenuOpen,closeAllMenus:_.default.closeAllMenus},e)},S=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.toggleMenu()}},{key:"toggleMenu",value:function(){var e=this.props,t=e.menuIsOpen,i=e.setIsMenuOpen;this.props.closeAllMenus(),i(!t)}},{key:"classNames",value:function(){return b.default.classListToString(["w-control","w-control--share",this.props.isVisible?"w-is-visible":""])}},{key:"inlineStyles",value:function(){var e=(0,C.controlDimensionsForVideo)(this.props.videoWidth,this.props.videoHeight,this.props.isInFullscreen,40,34);return{width:e.width+"px",height:e.height+"px"}}},{key:"componentDidUpdate",value:function(e){e.videoWidth==this.props.videoWidth&&e.videoHeight==this.props.videoHeight||(0,C.tapIcon)(this.props.uuid+".share",this.root)}},{key:"render",value:function(){var e=this;return(0,l.h)("button",{ref:function(t){return e.root=t},title:"Share Control","aria-label":"Share Control",class:this.classNames(),style:this.inlineStyles(),onClick:this.onClick.bind(this)},(0,l.h)(g.default,null))}}]),t}(l.Component);t.default=(0,u.connect)(x,T)(S)},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),a=i(5),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return(0,a.h)("div",{class:"w-control--icon"},(0,a.h)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 25 22.3","enable-background":"new 0 0 25 22.3",class:"wistia_vulcan_svg_icon wistia_vulcan_svg_icon_social"},(0,a.h)("g",null,(0,a.h)("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:" 10.8,6.5 0.8,6.5 0.8,21.5 23.8,21.5 23.8,12.6 \t"}),(0,a.h)("polyline",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:" 21.2,9.1 24.3,2.9 18,0.8 \t"}),(0,a.h)("path",{fill:"none",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",d:" M24,3.2c-7.5,2.1-12.2,6.6-12.2,13"}))))}}]),t}(a.Component);t.default=l},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(208),h=n(d),p=i(100),f=n(p),m=i(21),g=n(m),y=i(25),_=n(y),v=function(e){return{menuIsOpen:f.default.getIsMenuOpen(e),isEmbedCodeCopierOpen:f.default.getIsEmbedCodeCopierOpen(e),embedAspectRatio:g.default.accessors.getEmbedAspectRatio(e),embedWidth:g.default.accessors.getEmbedWidth(e),embedHeight:g.default.accessors.getEmbedHeight(e),videoWidth:g.default.accessors.getVideoWidth(e),videoHeight:g.default.accessors.getVideoHeight(e),host:g.default.accessors.getHost(e),hashedId:g.default.accessors.getHashedId(e)}},b=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.refs={},e}return s(t,e),a(t,[{key:"embedCodeProperties",value:function(){var e=this.props,t=e.embedAspectRatio,i=e.embedWidth,n=e.embedHeight,r=e.videoWidth,o=e.videoHeight,s=i-r,a=n-o,l=480+s;return{width:l,height:Math.round((l-s)/t+a),name:"wistia_embed",className:"wistia_embed",url:this.getEmbedCodeUrl()}}},{key:"getEmbedCodeUrl",value:function(){var e=this.props;return"https://"+e.host+"/embed/iframe/"+e.hashedId}},{key:"iframeString",value:function(){var e=this.embedCodeProperties(),t=e.width,i=e.height,n=e.name;return'<iframe allowtransparency="true" frameborder="0" scrolling="no" class="'+e.className+'" name="'+n+'" src="'+e.url+'" width="'+t+'" height="'+i+'"></iframe>'}},{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"classNames",value:function(){var e=this.props.isEmbedCodeCopierOpen;return _.default.classListToString(["embed-code-copier",e?"w-is-visible":""])}},{key:"style",value:function(){return this.refs.textarea?{height:this.refs.textarea.scrollHeight+"px"}:{}}},{key:"getIsTabbable",value:function(){return this.props.menuIsOpen?0:-1}},{key:"renderTextArea",value:function(){var e=this,t=this.props,i=t.isEmbedCodeCopierOpen,n=t.menuIsOpen;if(i||n)return(0,l.h)("textarea",{title:"Embed Code",tabindex:this.getIsTabbable(),resizable:!1,class:"embed-code-copier__textarea",style:this.style(),ref:function(t){e.refs.textarea=t}},this.iframeString())}},{key:"render",value:function(){return(0,l.h)("div",{class:this.classNames(),onClick:this.onClick.bind(this)},this.renderTextArea())}}]),t}(l.Component);t.default=(0,u.connect)(v)(b)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(5);t.default={email:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 18.6 13.5","enable-background":"new 0 0 18.6 13.5",class:"w-svg w-svg--menu w-svg--email"},(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"1.6",y1:"11.9",x2:"5.9",y2:"5.9"}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"12.8",y1:"5.9",x2:"17",y2:"11.9"}),(0,n.h)("rect",{x:"0.8",y:"0.8",
fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",width:"17.1",height:"12"}),(0,n.h)("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"17,1.6 9.3,9.3 1.6,1.6"}))},embed:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 21.7 13.3","enable-background":"new 0 0 21.7 13.3",class:"w-svg w-svg--menu s-svg--embed"},(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linejoin":"round",x1:"20.9",y1:"6.7",x2:"13.7",y2:"0.8"}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linejoin":"round",x1:"13.7",y1:"12.5",x2:"20.9",y2:"6.7"}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linejoin":"round",x1:"0.8",y1:"6.6",x2:"8",y2:"12.5"}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linejoin":"round",x1:"8",y1:"0.8",x2:"0.8",y2:"6.6"}))},download:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 19.4 15.4","enable-background":"new 0 0 19.4 15.4",class:"w-svg w-svg--menu w-svg--download"},(0,n.h)("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"0.8,6.2 0.8,14.7 18.6,14.7 18.6,6.2  "}),(0,n.h)("polyline",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",points:"13.5,7.3 9.7,11.1 5.9,7.3  "}),(0,n.h)("line",{fill:"none",stroke:"#ffffff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"10",x1:"9.7",y1:"11.1",x2:"9.7",y2:"0.8"}))},facebook:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 17 17","enable-background":"new 0 0 17 17",class:"w-svg w-svg--menu s-svg--facebook"},(0,n.h)("path",{fill:"#ffffff",d:"M16.1,0H0.9C0.4,0,0,0.4,0,0.9v15.1C0,16.6,0.4,17,0.9,17h8.1v-6.6H6.9V7.9h2.2V6c0-2.2,1.3-3.4,3.3-3.4  c0.9,0,1.7,0.1,2,0.1V5L13,5c-1.1,0-1.3,0.5-1.3,1.2v1.6h2.5l-0.3,2.6h-2.2V17h4.3c0.5,0,0.9-0.4,0.9-0.9V0.9C17,0.4,16.6,0,16.1,0z"}))},googlePlus:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 612 792","enable-background":"new 0 0 612 792",class:"w-svg w-svg--menu w-svg--googlePlus"},(0,n.h)("path",{fill:"#ffffff",d:"M593.6,649.3c0-170,0.2-339.9-0.1-509.9c2.2-18.6-14.7-35.6-33.4-33.3c-168.3-0.1-336.7,0.1-505-0.1 c-7.3,0.3-14.8-0.1-21.8,2.6c-10.8,6.2-17.5,18.3-16.4,30.8c-0.4,169.9-0.1,339.9-0.1,509.8c-2.2,18.9,14.7,35.7,33.5,33.9 c169.9,0,339.9,0,509.8,0C578.9,685,595.8,668.2,593.6,649.3z M330,503.2c-34,43.8-96.9,56.6-148,39.5 c-54.3-17.8-93.7-72.5-92.6-129.8c-2.7-70.8,59.3-136.2,130.2-137.1c36.1-3.1,71.3,10.9,98.6,33.8c-11.2,12.3-22.6,24.5-34.8,35.9 c-24.1-14.6-53-25.8-81.2-15.9c-45.4,12.9-72.8,66.5-56.1,110.9c13.9,46.3,70.3,71.8,114.5,52.3c22.9-8.2,38-29.3,44.6-52 c-26.2-0.5-52.4-0.2-78.7-0.9c-0.1-15.6-0.1-31.1-0.1-46.7c43.7-0.1,87.5-0.2,131.3,0.2C360.4,431.6,354.8,472.5,330,503.2z M523,432.4c-15,0.1-26.9,0.1-40,0.2c-0.1,13.1-0.6,26.2-0.6,39.3c-13-0.1-26.3,0-39.3,0c-0.1-13.1,0-26.2-0.1-39.2 c-13-0.1-25-0.2-39-0.3c0-13,0-26,0-39.1c14-0.1,25.8-0.6,38.9-0.7c0.1-13-0.1-25.6,0.1-39.6c13,0,26,0,39,0c0.1,14,1,26.6,1,39.6 c13,0.1,25,0.6,40,0.7C523,406.4,523,419.4,523,432.4z"}))},linkedIn:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 0 612 792","enable-background":"new 0 0 612 792",class:"w-svg w-svg--menu w-svg--linkedIn"},(0,n.h)("path",{fill:"#ffffff",d:"M541.6,107H66.1C43.4,107,26,124.2,26,146.3v477.5c0,22.2,17.4,41.1,40.1,41.1h475.5 c22.7,0,42.4-18.9,42.4-41.1V146.3C584,124.2,564.3,107,541.6,107z M191,583h-83V314h83V583z M149,278.9c-26.6,0-48-21.5-48-48 c0-26.5,21.4-48,48-48c26.5,0,48,21.5,48,48C197,257.4,175.5,278.9,149,278.9z M500,583h-83V452.1c0-30.9-0.8-70.6-43.2-70.6 c-43.1,0-49.8,33.6-49.8,68.4V583h-82V314h79v36h1.8c11-18,37.9-42.2,78.1-42.2c83.7,0,99,56,99,127.7V583z"}))},twitter:function(){return(0,n.h)("svg",{x:"0px",y:"0px",viewBox:"0 -1 19.1 17.9","enable-background":"new 0 0 19.1 17.9",class:"w-svg w-svg--menu w-svg--twitter"},(0,n.h)("path",{fill:"#ffffff",d:"M17.2,4c0,0.2,0,0.3,0,0.5c0,5.3-3.9,11.4-11.2,11.4c-2.2,0-4.3-0.7-6-1.8c0.3,0,0.6,0.1,0.9,0.1c1.8,0,3.5-0.6,4.9-1.7 c-1.7,0-3.2-1.2-3.7-2.8c0.2,0,0.5,0.1,0.7,0.1c0.4,0,0.4,0,0.8-0.1c-1.8-0.4-3.4-2-3.4-3.9c0,0,0,0,0-0.1c1.2,0.3,1.4,0.5,2.1,0.5 C1.2,5.4,0.7,4.1,0.7,2.7c0-0.7,0.3-1.4,0.6-2c1.9,2.4,4.9,4,8.1,4.2C9.3,4.6,9.3,4.3,9.3,4c0-2.2,1.8-4,3.9-4 c1.1,0,2.2,0.5,2.9,1.3c0.9-0.2,1.7-0.5,2.5-1c-0.3,0.9-0.9,1.7-1.7,2.2c0.8-0.1,1.5-0.3,2.3-0.6C18.6,2.7,17.9,3.4,17.2,4z"}))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(297),h=n(d),p=i(296),f=n(p),m=i(208),g=n(m),y=i(100),_=n(y),v=i(25),b=n(v),A=i(368),w=n(A),E=i(396),k=n(E),C=i(97),x=n(C),T=i(98),S=n(T),O=i(21),P=n(O),M=i(3),I=n(M),B=i(22),D=function(e){return{activeChannels:_.default.activeChannels(e),isMenuOpen:_.default.getIsMenuOpen(e),videoWidth:P.default.accessors.getVideoWidth(e),videoHeight:P.default.accessors.getVideoHeight(e),isInFullscreen:P.default.accessors.getIsInFullscreen(e)}},F=function(e){return(0,c.bindActionCreators)({showStatusBarMessage:f.default.actions.default.showMessage,setIsEmbedCodeCopierOpen:g.default.setIsEmbedCodeCopierOpen,setIsMenuOpen:g.default.setIsMenuOpen,setConversionOpportunity:g.default.setConversionOpportunity},e)},R=function(e){return e?0:-1},L=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"resizedFontStyles",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen;return{fontSize:14*(0,B.fontSizeMultiplierForVideo)(t,i,n)+"px"}}},{key:"resizedItemHeightStyles",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,B.fontSizeMultiplierForVideo)(t,i,n),o=34*r;return{height:o+"px",lineHeight:o+"px"}}},{key:"listLinkStyles",value:function(){return this.resizedItemHeightStyles()}},{key:"listLinkSpanStyles",value:function(){return this.resizedFontStyles()}},{key:"render",value:function(){var e=this.props,t=e.channel,i=e.onClick,n=e.isMenuOpen,r=k.default[t],o=this.context.store.getState();return(0,l.h)("li",{class:"w-menu__list-item"},(0,l.h)("a",{class:"w-menu__list-link",style:this.listLinkStyles(),"data-channel":t,href:w.default.generateLinkFor(o,t),tabindex:R(n),onClick:i},(0,l.h)("div",{class:"w-menu__icon"},(0,l.h)(r,null)),(0,l.h)("span",{style:this.listLinkSpanStyles()}," ",w.default.channelToDisplayName(t)," ")))}}]),t}(l.Component),j=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onMenuJustOpenedDebounced=(0,h.default)(e.onMenuJustOpened,100),e}return s(t,e),a(t,[{key:"takeActionFor",value:function(e,t){switch(e){case"facebook":return w.default.openLinkInNewWindow(t,"Share to Facebook");case"twitter":return w.default.openLinkInNewWindow(t,"Share to Twitter");case"linkedIn":return w.default.openLinkInNewWindow(t,"Share to linkedIn");case"googlePlus":return w.default.openLinkInNewWindow(t,"Share to Google Plus");case"download":case"email":return w.default.openLinkInSameWindow(t);case"embed":return this.copyEmbedCode()}}},{key:"onCloseMenuFocus",value:function(){(0,this.props.setIsMenuOpen)(!1)}},{key:"renderMenuCloseElement",value:function(){var e=this.props.isMenuOpen;return(0,l.h)("li",{onFocus:this.onCloseMenuFocus.bind(this),class:"w-menu__list-item",tabindex:R(e),"data-tabto":".w-control--share"})}},{key:"copyEmbedCode",value:function(){document.querySelector(".embed-code-copier__textarea").select(),document.execCommand("copy",!1,null)?this.props.showStatusBarMessage("Embed code is now in your clipboard!"):this.props.setIsEmbedCodeCopierOpen(!0),this.props.setIsMenuOpen(!1)}},{key:"componentDidUpdate",value:function(){this.props.isMenuOpenJustChanged&&this.onMenuJustOpenedDebounced()}},{key:"componentWillUnmount",value:function(){this.optionsRefs=[]}},{key:"onMenuJustOpened",value:function(){var e=void 0;(e=this.optionsRefs[0])&&(e=e.base.getElementsByTagName("a")[0],e.focus()),this.props.setConversionOpportunity()}},{key:"classNames",value:function(){var e=this.props,t=e.isOpen,i=e.isTransitioned;return b.default.classListToString(["w-menu","w-menu--share",t?"w-is-visible":"",i?"w-is-transitioned":""])}},{key:"menuStyle",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,B.menuMultiplierForVideo)(t,i,n),o=120*r,s=b.default.leftValueToKeepMenuInsideVideo(t,this.menuComponent,o),a=(0,B.controlDimensionsForVideo)(t,i,n,100,34);return a._,{left:s+"px",bottom:a.height+"px",width:o+"px"}}},{key:"onMenuItemClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.dataset.channel,i=e.currentTarget.href;this.takeActionFor(t,i),this.props.setConversionOpportunity({channel:t,converted:!0})}},{key:"renderMenuItems",value:function(){var e=this,t=this.props,i=t.activeChannels,n=t.isMenuOpen,r=t.videoWidth,o=t.videoHeight,s=t.isInFullscreen,a=w.default.channelsStrToArr(i);this.optionsRefs=[];var u=a.map(function(t){return(0,l.h)(L,{channel:t,isMenuOpen:n,videoWidth:r,videoHeight:o,isInFullscreen:s,onClick:e.onMenuItemClick.bind(e),ref:function(t){e.optionsRefs.push(t)}})});return u.push(this.renderMenuCloseElement()),u}},{key:"render",value:function(){var e=this;return(0,l.h)("div",{style:this.menuStyle(),ref:function(t){e.menuComponent=t},class:this.classNames()},(0,l.h)("ul",{class:"w-menu__list"},this.renderMenuItems()))}}]),t}(l.Component),H=(0,S.default)(j,"isMenuOpen"),N=(0,x.default)(H,"isMenuOpen");t.default=(0,u.connect)(D,F)(N)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(100),d=n(c),h=i(393),p=n(h),f=i(397),m=n(f),g=i(395),y=n(g),_=i(21),v=n(_),b=function(e){return{}},A=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){return(0,l.h)("div",{class:"w-component w-component--share"},(0,l.h)(m.default,null),(0,l.h)(p.default,null),(0,l.h)(y.default,null))}}]),t}(l.Component);t.default=(0,u.connect)(b)(A)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,u.render)((0,u.h)(m,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var u=i(5),c=i(12),d=i(9),h=i(59),p=i(398),f=n(p),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,h.getStoreForPlayerInstance)(e);return(0,u.h)(d.Provider,{store:t},(0,u.h)(f.default,null))}}]),t}(u.Component)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(290),o=n(r),s={setMessage:function(e){return{type:o.default.setMessage,payload:e}},setVisibility:function(e){return{type:o.default.setVisibility,payload:e}},showMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return function(i){i(s.setMessage(e)),i(s.setVisibility(!0)),setTimeout(function(){i(s.setVisibility(!1))},t)}}};t.default=s},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(25),d=n(c),h=i(318),p=n(h),f=function(e){return{isVisible:p.default.getIsVisible(e),statusMessage:p.default.getStatusMessage(e)}},m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"classNames",value:function(){return d.default.classListToString(["w-status-bar",this.props.isVisible?"w-is-visible":"",this.props.isVisible?"w-is-transitioned":""])}},{key:"render",value:function(){return(0,l.h)("div",{class:this.classNames()},this.props.statusMessage)}}]),t}(l.Component);t.default=(0,u.connect)(f)(m)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var i=(0,u.render)((0,u.h)(m,{instanceId:t}),e);return function(){(0,u.render)((0,u.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=a;var u=i(5),c=i(12),d=i(9),h=i(59),p=i(401),f=n(p),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props.instanceId,t=(0,h.getStoreForPlayerInstance)(e);return(0,u.h)(d.Provider,{store:t},(0,u.h)(f.default,null))}}]),t}(u.Component)},function(e,t){e.exports={KEY_CODE_TAB:9,KEY_CODE_ENTER:13,KEY_CODE_ESCAPE:27,KEY_CODE_SPACE:32,KEY_CODE_LEFT:37,KEY_CODE_UP:38,KEY_CODE_RIGHT:39,KEY_CODE_DOWN:40,KEY_CODE_0:48,KEY_CODE_1:49,KEY_CODE_2:50,KEY_CODE_3:51,KEY_CODE_4:52,KEY_CODE_5:53,KEY_CODE_6:54,KEY_CODE_7:55,KEY_CODE_8:56,KEY_CODE_9:57,KEY_CODE_A:65,KEY_CODE_B:66,KEY_CODE_C:67,KEY_CODE_D:68,KEY_CODE_E:69,KEY_CODE_F:70,KEY_CODE_G:71,KEY_CODE_H:72,KEY_CODE_I:73,KEY_CODE_J:74,KEY_CODE_K:75,KEY_CODE_L:76,KEY_CODE_M:77,KEY_CODE_N:78,KEY_CODE_O:79,KEY_CODE_P:80,KEY_CODE_Q:81,KEY_CODE_R:82,KEY_CODE_S:83,KEY_CODE_T:84,KEY_CODE_U:85,KEY_CODE_V:86,KEY_CODE_W:87,KEY_CODE_X:88,KEY_CODE_Y:89,KEY_CODE_Z:90,KEY_CODE_F11:122,KEY_CODE_FORWARD_SLASH:191}},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}var r=void 0;Object.defineProperty(t,"__esModule",{value:!0});var o=i(5),s=i(371),a=n(s),l={createElement:o.h},u=function(e){return e.base},c=(0,a.default)(l,o.Component,u);t.default=c},function(e,t,i){var n=i(8),r=function(){return n.Date.now()};e.exports=r},,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(39),o=n(r);t.default={menuWidth:120,controlWidth:40,appHost:(0,o.default)(),sslAppHost:(0,o.default)(),embedHost:(0,o.default)("fast"),sslEmbedHost:(0,o.default)("fast"),oembedHost:(0,o.default)("get-embed"),externalEmbedHost:"fast.wistia.net",externalSslEmbedHost:"fast.wistia.net",assetHost:"embed.wistia.com",assetSslHost:"embed-ssl.wistia.com",freeAssetHost:"embed.wistia.com",freeAssetSslHost:"embed-ssl.wistia.com",metricsHost:"pipedream.wistia.com"}},function(e,t,i){function n(e,t,i){var n=l(e)?r:a,u=arguments.length<3;return n(e,s(t,4),i,u,o)}var r=i(420),o=i(92),s=i(93),a=i(421),l=i(7);e.exports=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.playButtonImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAACiCAYAAABh2nDdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrs3d1tGlEQBtAlSgEpgXSAO8AdxB2QDuwONhWQDpxUAB14OyAdmA5IB+SOvDdCSHnLn/WdI91XP4z1aYY77DIMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAvnc/nQzsrlYCs4JdTOxvVgKzgd7t23qkKZAW/PLezVhnICn43qg7kBb88tbNUJcgKfr/4+6BSkBX8buviD/KCf7bzh8zgd/cqB3nBt/OH0OD3i7+1KkJW8O38ITj4/eJvqaKQFXw7fwgNfvfo4i/PQgleV/D/0J8+tnO3WCy+qXKGN0pAU5/3D3b+Oj5ZHf/SNHf/7yqu45Nj3Y7n/AWfQHXZV4/5bpXCqE/GqH+tLvw+uvjT8cmymrv/Ril0fHI6/qX93P1d/Ak+QcEvx8HO36hPnOXwsvMflULHJ6fjX5oGO38dnzjr4WXn72EfwSdM7fx3XvBp1Cdn1L9m56/jE6jv/D3so+MT1PEv2fnr+ASqC7+Dh30EnzzLefQflcKoT8aof60u/Grnf/Sf1PHJsZpHfzt/wSfMz52/Ugg+WWrk/6oMgk+OL+3c+oLPv/dWCfgLapdfO/29Uuj4ZJjauRF6wSfHpxb4Wys8oz4ZjvNoPymFjk+G/TzaC73gE6Au8B5a4L2Rx6hPCM/h6/iE+dwCfyP0Oj45o73dvOATZBq8XdeoT5S+mxd6HZ8Ax8Ev6Oj4ROm7eaEXfAL0Czyf5436hPCqLB2fMH03L/Q6PiGj/Z3v2ev45Kiwvxd6wSfHg908/KfOv1+97nqlspAT/Ec/aw05wT/5UQvICn6N9kuVhJzgjyoIOcE/+alqyAr+zgUe5AS/uvy9ikFO8O3mISz4W6M95ATfbh7Cgv9kNw9ZwR9VBXKC/+wCD7KCbzcPYcHfqAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvE4/BBgAB9Vp0xXzB8AAAAAASUVORK5CYII="},function(e,t){"use strict";function i(e){return e.reportAProblem}function n(e){return i(e).isOpen}function r(e){return i(e).isHidden}function o(e){return i(e).formFeedbackType}function s(e){return i(e).formFeedbackText}function a(e){return i(e).submitFormDataPhase}function l(e){return i(e).description}function u(e){return i(e).category}Object.defineProperty(t,"__esModule",{value:!0}),t.getIsOpen=n,t.getIsHidden=r,t.getFormFeedbackType=o,t.getFormFeedbackText=s,t.getSubmitFormDataPhase=a,t.getDescription=l,t.getCategory=u},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetForm=t.submitFormData=t.setCategory=t.setDescription=t.animateOpen=t.setIsHidden=t.setIsOpen=t.setFormFeedback=t.submitFailed=t.submitSucceeded=t.setIsPosting=void 0;var r=i(323),o=n(r),s=t.setIsPosting=function(){return{type:o.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE,payload:"posting"}},a=t.submitSucceeded=function(){return{type:o.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE,payload:"succeeded"}},l=t.submitFailed=function(){return{type:o.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE,payload:"failed"}},u=t.setFormFeedback=function(e,t){return{type:o.default.REPORT_A_PROBLEM__SET_FORM_FEEDBACK,payload:{formFeedbackType:e,formFeedbackText:t}}},c=t.setIsOpen=function(e){return{type:o.default.REPORT_A_PROBLEM__SET_IS_OPEN,payload:e}},d=t.setIsHidden=function(e){return{type:o.default.REPORT_A_PROBLEM__SET_IS_HIDDEN,payload:e}},h=t.animateOpen=function(){return function(e){e(d(!1)),requestAnimationFrame(function(){e(c(!0))})}},p=t.setDescription=function(e){return{type:o.default.REPORT_A_PROBLEM__SET_DESCRIPTION,payload:e}},f=t.setCategory=function(e){return{type:o.default.REPORT_A_PROBLEM__SET_CATEGORY,payload:e}},m=t.submitFormData=function(e){return function(t){t(s(e)),Wistia.remote.ajax("https://app.wistia.com/problem_reports?page_url="+encodeURIComponent(e.page_url),{type:"post",contentType:"application/json",dataType:"json",data:Wistia.JSON.stringify(e),timeout:1e4,withCredentials:!0,error:function(e,i){var n=e&&e.response||{};t("timeout"==i?u("error","Timed out sending. Please try again later."):n.error?u("error",n.error):u("error","There was an error sending. Please try again later.")),t(l())},success:function(e,i,n){t(u("info","We got the report. Thank you!")),t(a())}})}},g=t.resetForm=function(){return{type:o.default.REPORT_A_PROBLEM__SUBMIT_FORM_DATA_PHASE,payload:"not-submitting"}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.formatQualityOptions=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(409),a=n(s),l=i(15),u=n(l),c=i(316),d=n(c),h=i(21),p=n(h),f=i(293),m=n(f),g=i(287),y=n(g),_=i(25),v=n(_),b=i(74),A=n(b),w=i(23),E=i(408),k=n(E),C=i(298),x=n(C),T=i(322),S=n(T),O=i(1),P=function(e){return v.default.bindActionsToStore(e,{branding:d.default.actions.default,player:p.default.actions,settings:m.default.actions.default,chapters:y.default.actions,root:A.default})},M=function(e){return v.default.bindAccessorsToStore(e,{chapters:y.default.accessors,player:p.default.accessors})},I=t.formatQualityOptions=function(e){return(0,a.default)(e,function(t,i){return"webm"==i.container?t[i.slug]=""+i.display_name:"m3u8"===i.container?(e.map(function(e){return e.slug=e.display_name,e}),t[i.slug]=i.display_name):t[i.slug]=i.display_name,t},{})},B=function(e){return(0,u.default)(e)?p.default.accessors.getUUID(e.getState()):e},D=function(){function e(t,i){var n=this;r(this,e),this.syncPlayer=function(){var e=n.publicApi._opts;n.actions.player.setHashedId(n.publicApi.hashedId()),n.actions.player.setHost(k.default.embedHost),n.actions.player.setPlayerColor(n.publicApi.playerColor()),n.actions.player.setCustomerLogoImageUrl(e.customerLogoImageUrl),n.actions.player.setCustomerLogoTargetUrl(e.customerLogoTargetUrl),n.actions.player.setIsInFullscreen(n.publicApi.inFullscreen()),n.publicApi._impl&&n.actions.player.setAreControlsVisible(!!n.publicApi._opts.controlsVisibleOnLoad)},this.syncEmbedDimensions=function(){var e=n.publicApi._impl,t=e.width(),i=e.height();n.actions.player.setEmbedWidth(t),n.actions.player.setEmbedHeight(i),n.actions.player.setEmbedAspectRatio(t/i),n.actions.player.setVideoWidth(e.videoWidth()),n.actions.player.setVideoHeight(e.videoHeight()),n.actions.player.setIsInFullscreen(e.inFullscreen())},this.onStartPlay=function(){n.publicApi.play()},this.onStopPlay=function(){n.publicApi.pause()},this.onPlay=function(){n.actions.player.setIsPlayInitiated(!0)},this.onPlayerColorChange=function(e){n.actions.player.setPlayerColor(e)},this.onEnd=function(){var e=window.__wistiaStores[n.store];"reset"===p.default.accessors.getEmbedOption("endVideoBehavior",e.getState())&&n.actions.player.setHasBeenClicked(!1)},this.publicApi=t,this.store=i,this.actions=P(i),this.accessors=M(i),this._unbindStoreListeners=function(){}}return o(e,[{key:"sync",value:function(){this.syncEmbedAndMediaData(),this.syncPlayer(),this.syncSettings(),this.syncEmbedDimensions()}},{key:"syncEmbedAndMediaData",value:function(){var e=this.publicApi._opts,t=this.publicApi._mediaData;this.actions.player.setEmbedOptionFor("hasBranding",e.branding),this.actions.player.setEmbedOptionFor("isChromeless",e.chromeless),this.actions.player.setEmbedOptionFor("isAutoPlay",this.publicApi.canPlay()&&e.autoPlay),this.actions.player.setEmbedOptionFor("hasBigPlayButtonTime",e.bpbTime),this.actions.player.setEmbedOptionFor("settingsControl",(0,w.notSetOrTrue)(e.settingsControl)),this.actions.player.setEmbedOptionFor("playbackRateControl",(0,w.notSetOrTrue)(e.playbackRateControl)),this.actions.player.setEmbedOptionFor("qualityControl",(0,w.notSetOrTrue)(e.qualityControl)),this.actions.player.setEmbedOptionFor("bigPlayButtonControl",(0,w.notSetOrTrue)(e.playButton)),this.actions.player.setEmbedOptionFor("endVideoBehavior",e.endVideoBehavior),this.actions.player.setEmbedOptionFor("showCustomerLogo",(0,w.notSetOrTrue)(e.showCustomerLogo)),this.actions.player.setMediaDataFor("hasBranding",t.branding),this.actions.player.setMediaDataFor("enableCustomerLogo",t.enableCustomerLogo),this.actions.player.setVideoLength(this.publicApi.duration()),this.actions.player.setUUID(B(this.store)),this.actions.chapters.setIsVisible(e.chaptersOn),this.actions.chapters.setChapters(e.chapterList)}},{key:"syncSettings",value:function(){var e=this.publicApi._impl,t=e.engine?e.assetOptions():[],i=e.engine&&e.engine.currentAsset(),n=e.engine&&e.engine.selectedAsset();this.actions.settings.setVideoQualityOptions(I(t)),i?this.actions.settings.setValueFor("videoQuality",i.slug):n&&this.actions.settings.setValueFor("videoQuality",n.slug)}},{key:"subscribeToPublicApiEvents",value:function(){S.default.bind(B(this.store)+":startPlay",this.onStartPlay),S.default.bind(B(this.store)+":stopPlay",this.onStopPlay),this.publicApi.bind("play",this.onPlay),this.publicApi.bind("playercolorchange",this.onPlayerColorChange),this.publicApi.bind("end",this.onEnd),this.publicApi.bind("widthchange",this.syncEmbedDimensions),this.publicApi.bind("heightchange",this.syncEmbedDimensions),this.publicApi.bind("enter-fullscreen",this.syncPlayer),this.publicApi.bind("cancel-fullscreen",this.syncPlayer),this.publicApi.bind("controlvisibilitychanged",this.syncPlayer)}},{key:"unsubscribeFromPublicApiEvents",value:function(){this.publicApi.unbind("play",this.onPlay),this.publicApi.unbind("playercolorchange",this.onPlayerColorChange),this.publicApi.unbind("widthchange",this.syncEmbedDimensions),this.publicApi.unbind("heightchange",this.syncEmbedDimensions),this.publicApi.unbind("enter-fullscreen",this.syncPlayer),this.publicApi.unbind("cancel-fullscreen",this.syncPlayer),this.publicApi.unbind("controlvisibilitychanged",this.syncPlayer),S.default.unbind(B(this.store)+":startPlay",this.onStartPlay)}},{key:"subscribeToStoreChanges",value:function(){var e=this;this._unbindStoreListeners(),this._unbindStoreListeners=(0,x.default)(this.store,{onPlaybackRateChange:{accessor:m.default.accessors.default.getPlaybackRateValue,callback:function(t){e.publicApi._impl.playbackRate(t)}},onSelectedVideoQualityChange:{accessor:m.default.accessors.default.getSelectedVideoQualityValue,callback:function(t){e.publicApi._impl.videoQuality(t)}},onActiveChapterChange:{accessor:y.default.accessors.getLastChapterActivated,callback:function(t){if(null!=t&&void 0!=t){var i=e.accessors.chapters.getChapterById(t);e.publicApi._tracker.logChapterClick(i,e.publicApi.time()),e.publicApi.time(i.time),e.publicApi.play(),e.actions.chapters.setLastChapterActivated(null)}}}})}},{key:"unsubscribeFromStoreChanges",value:function(){this._unbindStoreListeners()}},{key:"destroy",value:function(){this.unsubscribeFromPublicApiEvents(),this.unsubscribeFromStoreChanges(),this.publicApi=null,this.store=null,this.actions=null}}]),e}();t.default=D},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.hoverColorFunction=t.colorFunction=void 0;var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(5),c=i(61),d=r(c),h=i(22),p=i(415),f=n(p),m=i(203),g=r(m),y=t.colorFunction=function(e){return e.alpha(.8).toRgbaOrHex()},_=t.hoverColorFunction=function(e){return e.alpha(.8).lighten(20).toRgbaOrHex()},v=function(e){function t(e){o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.storeColors(e),i.state={isHovering:!1},i}return a(t,e),l(t,[{key:"isVisible",value:function(){return void 0==this.props.isVisible||this.props.isVisible}},{key:"componentWillReceiveProps",value:function(e){this.props.color!=e.color&&this.storeColors(e)}},{key:"storeColors",value:function(e){var t=e.color||"#ffffff";this.color=y(new g.default(t)),this.hoverColor=_(new g.default(t))}},{key:"wrapperStyle",value:function(){var e={top:this.props.top||"0px",right:this.props.right||"0px",bottom:this.props.bottom||"0px",left:this.props.left||"0px",transition:this.props.shouldTransition?"100ms ease all":"none"};return(0,d.default)({},f.wrapper,e)}},{key:"contentsStyle",value:function(){return f.contents}},{key:"verticallyCenteredStyles",value:function(){return f.verticallyCenteredContents}},{key:"yOffset",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=e.areControlsVisible,o=e.isVisible,s=(0,h.bigPlayButtonDimensionsForVideo)(t,i,n,127,81),a=(s.width,s.height,(0,h.controlDimensionsForVideo)(t,i,n,100,34).height);return r&&o?a/2:0}},{key:"horizontallyCenteredStyles",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,h.bigPlayButtonDimensionsForVideo)(t,i,n,127,81);return{margin:"auto",width:r.width+"px",
height:r.height+"px"}}},{key:"backgroundColor",value:function(){return this.state.isHovering?this.hoverColor:this.color}},{key:"buttonStyle",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,h.bigPlayButtonDimensionsForVideo)(t,i,n,127,81),o=r.width,s=r.height,a={background:this.backgroundColor(),width:o+"px",height:s+"px",position:"relative",top:-this.yOffset()+"px"};return(0,d.default)({},f.button,a)}},{key:"bottomTextStyle",value:function(){var e=this.props,t=e.videoWidth,i=e.videoHeight,n=e.isInFullscreen,r=(0,h.fontSizeMultiplierForVideo)(t,i,n),o={position:"relative",top:-this.yOffset()+"px",fontSize:18*r+"px",lineHeight:30*r+"px"};return(0,d.default)({},f.bottomText,o)}},{key:"onMouseEnter",value:function(){this.setState({isHovering:!0})}},{key:"onMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"onClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"maybeRenderComponent",value:function(){if(this.isVisible())return this.renderComponent()}},{key:"renderComponent",value:function(){return(0,u.h)("div",{"data-testid":"big-play-button__wrapper",onClick:this.onClick.bind(this),style:this.wrapperStyle()},(0,u.h)("div",{"data-testid":"big-play-button__contents",style:this.contentsStyle()},(0,u.h)("div",{"data-testid":"big-play-button__vertically-centered-contents",style:this.verticallyCenteredStyles()},(0,u.h)("div",{"data-testid":"big-play-button__horizontally-centered-contents",style:this.horizontallyCenteredStyles(),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},(0,u.h)("div",{"data-testid":"big-play-button__button",style:this.buttonStyle()}),this.renderBottomText()))))}},{key:"renderBottomText",value:function(){var e=this.props.bottomText;if(e)return(0,u.h)("div",{"data-testid":"bottom-text",style:this.bottomTextStyle()},e)}},{key:"render",value:function(){return(0,u.h)("div",{"data-testid":"big-play-button"},this.maybeRenderComponent())}}]),t}(u.Component);t.default=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bottomText=t.button=t.verticallyCenteredContents=t.contents=t.wrapper=void 0;var n=function(){function e(e,t){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(6),o=i(410),s=(0,r.cachedDetect)(),a=function(){if(!s.safari)return!1;var e=s.browser.version.split("."),t=n(e,3),i=t[0],r=t[1];return t[2],i<600||r<=8},l=t.wrapper={position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:8},u=t.contents={position:"relative",display:"table",height:"100%",width:"100%"},c=t.verticallyCenteredContents={position:"relative",display:"table-cell",verticalAlign:"middle"},d=o.playButtonImage,h=t.button={cursor:"pointer",background:"none",backgroundImage:"url("+d+")",backgroundSize:"100% 100%",height:"81px",width:"127px"},p=t.bottomText={cursor:"pointer",color:"rgb(255, 255, 255)",fontSize:"18px",textAlign:"center",zIndex:1,lineHeight:"30px",background:"rgba(0, 0, 0, 0.4)"}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(0,c.render)((0,c.h)(k,t),e);return function(){(0,c.render)((0,c.h)("nothing",null),e,i)}}function l(e,t){var i=(0,c.render)((0,c.h)(x,{instanceId:t}),e);return function(){(0,c.render)((0,c.h)("nothing",null),e,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedCustomerLogo=t.CustomerLogo=void 0;var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.mountForTest=a,t.default=l;var c=i(5),d=i(12),h=i(9),p=i(188),f=n(p),m=i(59),g=i(25),y=n(g),_=i(231),v=n(_),b=i(321),A=n(b),w=function(e){return{isVisible:v.default.getShowCustomerLogo(e),imageUrl:v.default.getCustomerLogoImageUrl(e),targetUrl:v.default.getCustomerLogoTargetUrl(e),uuid:v.default.getUUID(e)}},E=function(e){return(0,d.bindActionCreators)({stopPlay:A.default.stopPlay},e)},k=t.CustomerLogo=function(e){function t(){var e,i,n,s;r(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return i=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.isVisible=function(){var e=n.props,t=e.isVisible,i=e.imageUrl;return t&&!!i},n.isClickable=function(){return!!n.props.targetUrl},s=i,o(n,s)}return s(t,e),u(t,[{key:"onClick",value:function(){var e=this;return this.isClickable()?function(t){t.stopPropagation(),e.props.stopPlay(e.props.uuid),window.open(e.props.targetUrl,"_blank")}:null}},{key:"linkClasses",value:function(){return y.default.classListToString(["w-customer-logo",this.isClickable()?"w-customer-logo--clickable":"w-customer-logo--unclickable"])}},{key:"render",value:function(){return this.isVisible()?(0,c.h)("a",{class:this.linkClasses(),"data-test":"logo",onClick:this.onClick()},(0,c.h)("img",{class:"w-customer-logo__image",src:this.props.imageUrl})):(0,c.h)("nothing",null)}}]),t}(c.Component),C=t.ConnectedCustomerLogo=(0,h.connect)(w,E)(k),x=(0,f.default)(C)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan.Loading||(e.Vulcan.Loading=function(){function t(t){this.video=t,this.reorient=i(this.reorient,this),this.hide=i(this.hide,this),this.show=i(this.show,this),this.turnOff=i(this.turnOff,this),this.turnOn=i(this.turnOn,this),this.name="loadingIndicator",this.uuid=e.seqId("wistia_"+this.name+"_"),this.elem=document.createElement("div"),this.elem.id=this.uuid,this.elem.className="wistia_loading_indicator",this.elem.setAttribute("alt","Loading..."),e.elem.append(this.video.vulcanElem,this.elem),"function"==typeof this.setupBindings&&this.setupBindings(),e.elem.style(this.elem,{cursor:"default",display:"none",pointerEvents:"none",position:"absolute",height:this.height()+"px",width:this.width()+"px",zIndex:1}),this.updateSvg(),this.throttleUpdateSvg=e.util.throttle(200,function(e){return function(){return e.updateSvg()}}(this))}return t.prototype.updateSvg=function(){var t,i,n,r,o,s,a,l,u;if(("small"!==this.svgSize||!this.shouldShrink())&&("big"!==this.svgSize||this.shouldShrink())){if(this.svgText=this.shouldShrink()?"small":"big",this.svgSize=this.shouldShrink()?"small":"big",this.activeSvgId=e.seqId("wistia_loading_svg_"),e.detect.browser.msie&&e.detect.browser.version<10)return void(this.elem.innerHTML="Loading...");for(o=this.shouldShrink()?"M23,7 L41,18 L23,30 Z":"M52,21 L81,40 L52,60 Z",u='<svg version="1.2" id="'+this.activeSvgId+'" height="'+this.height()+'" width="'+this.width()+'" xmlns="http://www.w3.org/2000/svg" viewport="0 0 '+this.width()+" "+this.height()+'" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <path fill="none" stroke="#'+this.primaryColor().toHex()+'" stroke-miterlimit="20" d="'+o+'" />\n</svg>',s=this.elem.ownerDocument.createRange(),s.selectNodeContents(this.elem),r=s.createContextualFragment(u),this.elem.appendChild(r),a=this.elem.childNodes,i=0,n=a.length;i<n;i++)(t=a[i])&&t!==this.styleElem&&t.id!==this.activeSvgId&&e.elem.remove(t);return this.pathLength=(null!=(l=this.elem.getElementsByTagName("path")[0])&&"function"==typeof l.getTotalLength?l.getTotalLength():void 0)||100,this.setupCss()}},t.prototype.initialize=function(){return this},t.prototype.bindingNamespace=function(){return this.video.uuid+".vulcan-loading"},t.prototype.setupBindings=function(){var e,t;return e=this.bindingNamespace(),this.video.bindNamed(e,"onWidthChange","widthchange",this.reorient),this.video.bindNamed(e,"onHeightChange","heightchange",this.reorient),t=-1,this.video.bindNamed(e,"onWaiting","waiting",function(e){return function(i){return e.off()&&t<2&&i>=2&&e.turnOn(),t=i}}(this)),this.video.bindNamed(e,"onDoneWaiting","done-waiting",function(e){return function(){return t=-1,e.turnOff()}}(this)),this.video.bindNamed(e,"onTimeChange","timechange",function(e){return function(){return t=-1,e.turnOff()}}(this))},t.prototype.setupCss=function(){return this.styleElem&&e.elem.remove(this.styleElem),this.styleElem=e.css(this.elem,"#"+this.video.wrapperElem.id+" .wistia_loading_indicator path {\n  stroke-width: "+this.strokeWidth()+"px;\n  stroke-dasharray: "+this.pathLength/3+", "+2*this.pathLength/3+";\n  -webkit-animation: wistia_dash 1s infinite linear forwards;\n}\n@-webkit-keyframes wistia_dash {\n  from { stroke-dashoffset: "+this.pathLength+"; }\n  to { stroke-dashoffset: 0; }\n}")},t.prototype.strokeWidth=function(){return Math.max(Math.min(Math.floor(this.video.videoWidth()/640*3),2),1)},t.prototype.on=function(){return this._on},t.prototype.off=function(){return!this._on},t.prototype.shouldShrink=function(){return this.video.videoWidth()<=320||this.video.videoHeight()<=200},t.prototype.width=function(){return this.shouldShrink()?60:127},t.prototype.height=function(){return this.shouldShrink()?38:81},t.prototype.turnOn=function(){if(!this._on)return this._on=!0,this.show()},t.prototype.turnOff=function(){if(this._on)return this._on=!1,this.hide()},t.prototype.show=function(){if(this.on())return this.elem.style.display="block",this.reorient()},t.prototype.hide=function(){return this.elem.style.display="none"},t.prototype.reorient=function(){var t;return this.video.looksDown()?e.elem.style(this.elem,{left:"-100%",width:"-100%"}):(this.throttleUpdateSvg(),e.elem.style(this.elem,{width:this.width()+"px",height:this.height()+"px"}),(t=this.elem.getElementsByTagName("path")[0])&&e.elem.style(t,{strokeWidth:this.strokeWidth()+"px"}),this.center())},t.prototype.center=function(){var e,t,i;return i=this.video.videoHeight(),e=Math.round((this.video.videoWidth()-this.width())/2),t=Math.round((i-this.height())/2),this.elem.style.left=e+"px",this.elem.style.top=t+"px"},t.prototype.destroy=function(){return this.video.unbindNamed(this.bindingNamespace()),e.elem.remove(this.elem)},t.prototype.primaryColor=function(){return new e.Color("#ffffff")},t}())}(Wistia)},function(e,t,i){var n,r,o=function(e,t){return function(){return e.apply(t,arguments)}};r=i(419),n=function(){function e(e){this.onUpdate=o(this.onUpdate,this),this.update=o(this.update,this),this.template=e,this.keyvals={},this.createUpdateCssNodeFunction()}return e.prototype.update=function(e){var t,i;for(t in e)i=e[t],this.keyvals[t]=i;return this.onUpdate(this.keyvals)},e.prototype.onUpdate=function(e){var t;return t=this.render(this.template,e),this.updateDOM(t)},e.prototype.updateDOM=function(e){return this.cssNode?this.updateCssNode(e):this.cssNode=this.addToDOM(e)},e.prototype.render=function(e,t){return r(e,t)},e.prototype.addToDOM=function(e){return window.Wistia.css(e)},e.prototype.createUpdateCssNodeFunction=function(){return this.updateCssNode=function(e){return this.cssNode.innerHTML=e}},e}(),e.exports=n},function(e,t){var i,n,r,o=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};i=/(__[\w-]+__)/g,n=function(e,t){var n,o,s;if(n=[],o=e.replace(i,function(e,i){if(null!=t[i])return n.push(i),""+t[i];throw new Error("Unknown template variable '"+i+"'")}),s=r(n,t),s.length>0)throw new Error("Could not find variables '"+s.join(", ")+"' in your teplate");return o},r=function(e,t){var i,n;n=[];for(i in t)t[i],o.call(e,i)>=0||n.push(i);return n},e.exports=n},function(e,t){function i(e,t,i,n){var r=-1,o=null==e?0:e.length;for(n&&o&&(i=e[++r]);++r<o;)i=t(i,e[r],r,e);return i}e.exports=i},function(e,t){function i(e,t,i,n,r){return r(e,function(e,r,o){i=n?(n=!1,e):t(i,e,r,o)}),i}e.exports=i},function(e,t){
e.exports='#__chromeid__ #__wrapperid__, #__chromeid__ #__wrapperid__ div, #__chromeid__ #__wrapperid__ span, #__chromeid__ #__wrapperid__ ul, #__chromeid__ #__wrapperid__ li, #__chromeid__ #__wrapperid__ label, #__chromeid__ #__wrapperid__ button, #__chromeid__ #__wrapperid__ img, #__chromeid__ #__wrapperid__ a, #__chromeid__ #__wrapperid__ svg, #__chromeid__ #__wrapperid__ p {  box-shadow: none;  color: inherit;  display: block;  float: none;  font-family: WistiaPlayerOverpass, sans-serif;  font-style: none;  font-weight: normal;  font-size: 14px;  letter-spacing: 0;  line-height: inherit;  margin: 0;  padding: 0;  position: static;  text-decoration: none;  text-transform: none;  text-shadow: none;  word-wrap: normal; }#__chromeid__ #__wrapperid__ a {  border: 0; }#__chromeid__ #__wrapperid__ p {  margin: 1.4em 0; }#__chromeid__ #__wrapperid__ a, #__chromeid__ #__wrapperid__ span, #__chromeid__ #__wrapperid__ svg {  display: inline; }#__chromeid__ #__wrapperid__ ul, #__chromeid__ #__wrapperid__ ol, #__chromeid__ #__wrapperid__ li {  background-attachment: scroll;  background-image: none;  background-position: 0 0;  background-repeat: no-repeat;  background-size: 100% 100%;  list-style-type: none;  position: static; }  #__chromeid__ #__wrapperid__ ul:before, #__chromeid__ #__wrapperid__ ol:before, #__chromeid__ #__wrapperid__ li:before {    display: none; }  #__chromeid__ #__wrapperid__ ul:after, #__chromeid__ #__wrapperid__ ol:after, #__chromeid__ #__wrapperid__ li:after {    display: none; }#__chromeid__ #__wrapperid__ label {  background-attachment: scroll;  background-image: none;  background-position: 0 0;  background-repeat: no-repeat;  background-size: 100% 100%;  float: none;  outline: none; }#__chromeid__ #__wrapperid__ button {  background-attachment: scroll;  background-image: none;  background-position: 0 0;  background-repeat: no-repeat;  background-size: 100% 100%;  border: 0;  border-radius: 0;  outline: none;  position: static; }#__chromeid__ #__wrapperid__ img {  background-attachment: scroll;  background-image: none;  background-position: 0 0;  background-repeat: no-repeat;  background-size: 100% 100%;  border: 0;  display: inline-block;  vertical-align: top; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon, #__chromeid__ #__wrapperid__ .w-svg {  position: absolute;  top: 6px;  left: 9px;  width: 35px; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon polyline,  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon polygon,  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon rect,  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon path,  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon circle, #__chromeid__ #__wrapperid__ .w-svg polyline,  #__chromeid__ #__wrapperid__ .w-svg polygon,  #__chromeid__ #__wrapperid__ .w-svg rect,  #__chromeid__ #__wrapperid__ .w-svg path,  #__chromeid__ #__wrapperid__ .w-svg circle {    stroke: #ffffff; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon polygon, #__chromeid__ #__wrapperid__ .w-svg polygon {    fill: #ffffff; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_captions {  top: 0;  left: 0;  width: 100%;  height: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_fullscreen {  top: 0;  left: 0;  width: 100%;  height: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_airplay {  top: 0px;  left: 0px;  width: 100%;  height: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_social {  width: 100%;  height: 100%;  top: 0;  left: 0; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_settings {  width: 100%;  height: 100%;  fill: #ffffff;  top: 0;  left: 0; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_chapters {  width: 100%;  height: 100%;  fill: #ffffff;  top: 0;  left: 0; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_pause {  fill: #ffffff;  width: 100%;  left: 0;  top: 0;  height: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_play {  fill: #ffffff;  width: 100%;  height: 100%;  left: 0;  top: 0;  stroke-width: 0; }#__chromeid__ #__wrapperid__ .w-svg--menu {  width: 15px;  height: 17px;  position: static;  vertical-align: middle; }#__chromeid__ #__wrapperid__ .w-control--volume {  width: 40px;  height: 34px; }  #__chromeid__ #__wrapperid__ .w-control--volume .w-control--icon {    height: 34px;    width: 40px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume {  position: absolute;  top: 0;  left: 0;  width: 100%;  height: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_icon_volume {  width: 24px;  left: 9px;  top: 5px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_hat_group {  fill: #ffffff;  opacity: 0;  -webkit-transform: translateY(5px);          transform: translateY(5px);  transition: opacity 100ms, -webkit-transform 100ms;  transition: transform 100ms, opacity 100ms;  transition: transform 100ms, opacity 100ms, -webkit-transform 100ms; }#__chromeid__ #__wrapperid__ .number-active-0 .wistia_vulcan_svg_volume_speaker_group {  -webkit-transform: translateX(2px);          transform: translateX(2px); }#__chromeid__ #__wrapperid__ .number-active-0 .wistia_vulcan_svg_volume_x {  opacity: 1; }#__chromeid__ #__wrapperid__ .number-active-1 .wistia_vulcan_svg_volume_speaker_group {  -webkit-transform: translateX(2px);          transform: translateX(2px); }#__chromeid__ #__wrapperid__ .number-active-1 .wistia_vulcan_svg_wave_1 {  opacity: 1; }#__chromeid__ #__wrapperid__ .number-active-2 .wistia_vulcan_svg_volume_speaker_group {  -webkit-transform: translateX(0);          transform: translateX(0); }#__chromeid__ #__wrapperid__ .number-active-2 .wistia_vulcan_svg_wave_1 {  opacity: 1; }#__chromeid__ #__wrapperid__ .number-active-2 .wistia_vulcan_svg_wave_2 {  opacity: 1; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_speaker_group {  transition: -webkit-transform 100ms;  transition: transform 100ms;  transition: transform 100ms, -webkit-transform 100ms; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_speaker_group_inner {  transition: -webkit-transform 100ms;  transition: transform 100ms;  transition: transform 100ms, -webkit-transform 100ms;  -webkit-transform: translateY(0) scale(1);          transform: translateY(0) scale(1); }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_waves {  opacity: 1;  transition: opacity 0s 100s; }#__chromeid__ #__wrapperid__ .wistia_vulcan_svg_volume_wave {  opacity: 0;  transition: opacity 0s 100ms; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_slider {  position: absolute;  left: 0;  width: 40px;  height: 0;  overflow: hidden;  bottom: 34px;  border: none;  outline: none; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_volume_slider.w-is-visible {    height: 110px; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_track_hit {  position: absolute;  bottom: 15px;  height: 80px;  left: 0;  width: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_track {  position: absolute;  bottom: 0;  height: 100%;  left: 50%;  width: 2px;  -webkit-transform: translateX(-50%);          transform: translateX(-50%); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_level {  position: absolute;  bottom: 0;  height: 0;  width: 100%; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber_hit {  position: absolute;  top: 0;  left: -19px;  margin-top: -15px;  height: 30px;  width: 40px;  border-radius: 50%; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber_hit:hover .wistia_vulcan_volume_grabber {    -webkit-transform: scale(1.15);            transform: scale(1.15); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber {  position: absolute;  top: 50%;  left: 50%;  margin-top: -6px;  margin-left: -6px;  height: 12px;  width: 12px;  border-radius: 50%;  transition: -webkit-transform 100ms ease;  transition: transform 100ms ease;  transition: transform 100ms ease, -webkit-transform 100ms ease; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber.is-mousedown {    -webkit-transform: scale(1.15);            transform: scale(1.15); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_dot_grabber {  position: absolute;  top: 2px;  left: 2px;  border-radius: 50%;  width: 8px;  height: 8px;  background: rgba(0, 0, 0, 0.8); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_slider {  background-color: rgba(0, 0, 0, 0.55); }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_level {  background-color: white; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_track {  background-color: white; }#__chromeid__ #__wrapperid__ .wistia_vulcan_volume_grabber {  background-color: white; }#__chromeid__ #__wrapperid__ .wistia_playbar {  position: relative;  width: 100%;  height: 34px;  -webkit-user-select: none;     -moz-user-select: none;      -ms-user-select: none;          user-select: none;  overflow: hidden; }  #__chromeid__ #__wrapperid__ .wistia_playbar.wistia_dragging .wistia_player {    transition: left 0; }  #__chromeid__ #__wrapperid__ .wistia_playbar.wistia_dragging .wistia_scrub_bar {    transition: left 0; }#__chromeid__ #__wrapperid__ .w-playbar-placeholder {  position: relative;  cursor: arrow;  width: 100%;  display: none; }#__chromeid__ #__wrapperid__ .wistia_playbar_mask {  position: absolute;  left: 0;  right: 0;  bottom: 0;  top: 0;  overflow: hidden;  outline: none; }#__chromeid__ #__wrapperid__ .wistia_playbar_slider {  position: absolute;  width: 200%;  top: 0;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_completed {  position: absolute;  left: 0;  right: 50%;  top: 0;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_unplayed_mask {  overflow: hidden;  position: absolute;  left: 50%;  right: 0;  top: 0;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_unplayed_slider {  position: absolute;  left: 0;  top: 0;  width: 201%;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_buffered {  position: absolute;  left: 0;  right: 50%;  bottom: 0;  top: 0; }#__chromeid__ #__wrapperid__ .wistia_playbar_background {  position: absolute;  right: 0;  left: 50%;  top: 0;  bottom: 0; }#__chromeid__ #__wrapperid__ .wistia_time_positioner {  position: absolute;  left: 0;  bottom: 0;  top: 0;  width: 0; }#__chromeid__ #__wrapperid__ .wistia_time {  cursor: pointer;  color: white;  display: inline-block;  -webkit-font-smoothing: antialiased;  font-size: 15px;  line-height: 1.1em;  letter-spacing: .01em;  position: absolute;  top: 50%;  -webkit-transform: translateY(-50%);          transform: translateY(-50%);  text-shadow: 0 0 6px rgba(0, 0, 0, 0.2);  white-space: nowrap;  width: auto;  z-index: 2; }#__chromeid__ #__wrapperid__ .wistia_placeholder_time_element {  padding-left: 5px;  pointer-events: none; }#__chromeid__ #__wrapperid__ .wistia_playbar_hover_line {  position: absolute;  top: 0;  bottom: 0;  width: 36px;  background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.12) 100%);  opacity: 0;  -webkit-transform: translateX(-36px);          transform: translateX(-36px);  transition: opacity 200ms ease; }#__chromeid__ #__wrapperid__ .w-is-visible .wistia_playbar_hover_line {  transition: none; }#__chromeid__ #__wrapperid__ .wistia_playbar_hover_line--is-visible {  opacity: 1; }#__chromeid__ #__wrapperid__ .bp-325 .wistia_playbar,#__chromeid__ #__wrapperid__ .bp-450 .wistia_playbar {  position: absolute;  bottom: 34px;  left: 0;  height: 15px; }  #__chromeid__ #__wrapperid__ .bp-325 .wistia_playbar .wistia_time,  #__chromeid__ #__wrapperid__ .bp-450 .wistia_playbar .wistia_time {    display: none; }#__chromeid__ #__wrapperid__ .bp-325 .wistia_playbar_placeholder.w-is-visible,#__chromeid__ #__wrapperid__ .bp-450 .wistia_playbar_placeholder.w-is-visible {  display: block; }#__chromeid__ #__wrapperid__ {  /* W Menu with grid */ }  #__chromeid__ #__wrapperid__ .is-keyboard-focused [tabindex="0"]:focus,  #__chromeid__ #__wrapperid__ .is-keyboard-focused button:focus {    box-shadow: inset 0 0 0 2px white; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview {    position: relative;    color: white; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview_items {    padding: 7px 0;    margin: 0;    box-sizing: border-box; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview_item {    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    cursor: pointer;    padding: 0 30px 0 30px;    margin: 0;    white-space: nowrap;    outline: none;    text-decoration: none;    border-bottom: none;    display: block;    background: none;    border: none; }    #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview_item a {      text-decoration: none;      border-bottom: none;      outline: none; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_menuview_item--is-active {    background: url(__base64_check__) 12px center no-repeat;    background-size: 10px 8px; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_back_element {    text-decoration: underline;    position: relative;    font-size: 10px;    cursor: pointer; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_title_element {    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    padding: 4px 10px 5px 29px;    display: block;    background: url(__base64_arrow__) 12px center no-repeat;    background-size: 7px 10px;    background-color: rgba(0, 0, 0, 0.3);    cursor: pointer;    box-sizing: border-box; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_title_element--is-hidden {    display: none; }  #__chromeid__ #__wrapperid__ .wistia_vulcan_back_arrow {    display: inline-block; }  #__chromeid__ #__wrapperid__ .w-menu {    position: absolute;    z-index: 9;    bottom: 34px;    background: rgba(0, 0, 0, 0.55);    height: 0;    overflow: hidden;    width: 120px;    opacity: 0; }    #__chromeid__ #__wrapperid__ .w-menu.w-is-visible {      height: auto; }    #__chromeid__ #__wrapperid__ .w-menu.w-is-transitioned {      opacity: 1; }  #__chromeid__ #__wrapperid__ .w-is-visible .w-menu {    transition: opacity 200ms ease; }  #__chromeid__ #__wrapperid__ .w-menu--chapters {    height: auto; }  #__chromeid__ #__wrapperid__ .w-menu__list {    margin: 0;    padding: 0;    list-style: none; }  #__chromeid__ #__wrapperid__ .w-menu__list--ordered {    list-style-type: decimal;    list-style-position: inside;    color: white;    padding: 0; }  #__chromeid__ #__wrapperid__ .w-menu__list--collapsable {    overflow: hidden;    transition: opacity 200ms ease, max-height 200ms ease;    opacity: 0; }    #__chromeid__ #__wrapperid__ .w-menu__list--collapsable.w-is-transitioned {      opacity: 1; }  #__chromeid__ #__wrapperid__ .w-menu__list-item {    text-align: left;    padding: 0;    margin: 0; }    #__chromeid__ #__wrapperid__ .w-menu__list-item:before {      display: none; }  #__chromeid__ #__wrapperid__ .w-menu__list-item--close {    list-style: none; }  #__chromeid__ #__wrapperid__ .w-menu__list-item--ordered {    list-style-type: decimal;    list-style-position: inside;    display: list-item; }  #__chromeid__ #__wrapperid__ .w-menu__list-link {    display: block;    color: white;    text-decoration: none;    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    line-height: 34px;    height: 34px;    cursor: pointer;    transition: background-color 50ms ease;    border-bottom: none;    background: none;    border: none;    text-align: left;    box-sizing: border-box;    width: 100%;    outline: none;    padding: 0;    margin: 0;    overflow: hidden; }    #__chromeid__ #__wrapperid__ .w-menu__list-link:focus {      outline: none;      border: none; }    #__chromeid__ #__wrapperid__ .w-menu__list-link:hover {      background-color: rgba(0, 0, 0, 0.3); }  #__chromeid__ #__wrapperid__ .w-menu__list-link--padded {    padding: 0 12px; }  #__chromeid__ #__wrapperid__ .w-menu__list-link--inline {    display: inline;    width: auto;    background: none;    padding: 0 0 0 7px; }    #__chromeid__ #__wrapperid__ .w-menu__list-link--inline:hover {      background: none; }  #__chromeid__ #__wrapperid__ .w-menu__list-link--checkable {    padding-left: 40px; }    #__chromeid__ #__wrapperid__ .w-menu__list-link--checkable.is-checked {      background-image: url(__base64_check__);      background-position: 18px center;      background-repeat: no-repeat;      background-size: 10px 8px; }  #__chromeid__ #__wrapperid__ .w-menu__list-item-link {    line-height: 32px;    transition: background-color 50ms ease;    cursor: pointer; }    #__chromeid__ #__wrapperid__ .w-menu__list-item-link:hover {      background: rgba(0, 0, 0, 0.3); }  #__chromeid__ #__wrapperid__ .w-menu__icon {    width: 40px;    display: inline-block;    text-align: center;    line-height: 34px;    vertical-align: middle;    margin-bottom: 3px; }  #__chromeid__ #__wrapperid__ .w-menu__section-title {    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    line-height: 34px;    height: 34px;    display: block;    box-sizing: border-box;    padding: 0 12px;    background: none;    border: none;    width: 100%;    margin: 0;    text-align: left;    outline: none;    cursor: pointer;    transition: background-color 50ms ease; }    #__chromeid__ #__wrapperid__ .w-menu__section-title:hover {      background-color: rgba(0, 0, 0, 0.3); }  #__chromeid__ #__wrapperid__ .w-menu__section-title_label {    display: inline-block; }  #__chromeid__ #__wrapperid__ .w-menu__section-title_value {    float: right;    opacity: .7; }  #__chromeid__ #__wrapperid__ .w-menu__collapsable-wrapper {    overflow: hidden;    height: 0;    transition: height 150ms ease; }#__chromeid__ #__wrapperid__ .w-control-bar {  width: 100%;  position: absolute;  bottom: 0;  left: 0;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  z-index: 11;  opacity: 0;  pointer-events: none; }  #__chromeid__ #__wrapperid__ .w-control-bar.w-is-visible {    opacity: 1;    pointer-events: auto; }  #__chromeid__ #__wrapperid__ .w-control-bar .w-menu * {    color: #fff;    font-family: WistiaPlayerOverpass, Sans-Serif; }#__chromeid__ #__wrapperid__ .w-control-bar__region {  -webkit-box-flex: 0;      -ms-flex-positive: 0;          flex-grow: 0;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  position: relative; }  #__chromeid__ #__wrapperid__ .w-control-bar__region.is-hidden {    display: none; }#__chromeid__ #__wrapperid__ .w-control-bar__region--center {  -webkit-box-flex: 1;      -ms-flex-positive: 1;          flex-grow: 1;  position: static; }#__chromeid__ #__wrapperid__ .w-control-bar__region--centerMobile {  -webkit-box-flex: 1;      -ms-flex-positive: 1;          flex-grow: 1;  display: none; }#__chromeid__ #__wrapperid__ .w-control-bar__region--thumbscrubber {  position: absolute;  bottom: 100%;  left: 0;  right: 0; }#__chromeid__ #__wrapperid__ .w-icon-rail {  left: 0;  top: 0;  position: absolute;  height: 60px;  width: 100%; }#__chromeid__ #__wrapperid__ .bp-325 .w-icon-rail {  height: 22px; }#__chromeid__ #__wrapperid__ .bp-450 .w-icon-rail {  height: 29px; }#__chromeid__ #__wrapperid__ .bp-640 .w-icon-rail {  height: 36px; }#__chromeid__ #__wrapperid__ .bp-750 .w-icon-rail {  height: 60px; }#__chromeid__ #__wrapperid__ .w-control-bar__region--iconRail {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;      -ms-flex-align: center;          align-items: center;  height: 100%; }#__chromeid__ #__wrapperid__ .w-component {  position: relative; }#__chromeid__ #__wrapperid__ .w-control, #__chromeid__ #__wrapperid__ .w-control--icon {  z-index: 1;  padding: 0;  border: none;  border-radius: 0;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  outline: none;  margin: 0;  display: none;  height: 34px;  width: 40px;  top: inherit;  cursor: pointer;  tap-highlight-color: transparent;  -webkit-tap-highlight-color: transparent; }  #__chromeid__ #__wrapperid__ .w-control.w-is-visible, #__chromeid__ #__wrapperid__ .w-is-visible.w-control--icon {    display: block; }  #__chromeid__ #__wrapperid__ .w-control:focus, #__chromeid__ #__wrapperid__ .w-control--icon:focus {    outline: none;    border: none;    padding: 0; }#__chromeid__ #__wrapperid__ .w-control--icon {  display: inline-block;  position: relative;  vertical-align: middle; }#__chromeid__ #__wrapperid__ .w-control--chapters {  -webkit-box-ordinal-group: 1;      -ms-flex-order: 0;          order: 0; }  #__chromeid__ #__wrapperid__ .w-control--chapters .w-control--icon {    height: 47.5%;    width: 55%; }#__chromeid__ #__wrapperid__ .w-control--captions,#__chromeid__ #__wrapperid__ .w-component--captions {  -webkit-box-ordinal-group: 2;      -ms-flex-order: 1;          order: 1; }#__chromeid__ #__wrapperid__ .w-control--volume {  -webkit-box-ordinal-group: 3;      -ms-flex-order: 2;          order: 2; }#__chromeid__ #__wrapperid__ .w-control--share,#__chromeid__ #__wrapperid__ .w-component--share {  -webkit-box-ordinal-group: 4;      -ms-flex-order: 3;          order: 3; }  #__chromeid__ #__wrapperid__ .w-control--share .w-control--icon,  #__chromeid__ #__wrapperid__ .w-component--share .w-control--icon {    height: 55%;    margin-top: -9%;    width: 57.5%; }#__chromeid__ #__wrapperid__ .w-control--settings,#__chromeid__ #__wrapperid__ .w-component--settings {  -webkit-box-ordinal-group: 5;      -ms-flex-order: 4;          order: 4; }#__chromeid__ #__wrapperid__ .w-control--fullscreen {  -webkit-box-ordinal-group: 6;      -ms-flex-order: 5;          order: 5; }#__chromeid__ #__wrapperid__ .w-control--branding {  -webkit-box-ordinal-group: 7;      -ms-flex-order: 6;          order: 6;  width: 100px;  background-size: 110% 100%;  background-position: center center;  background-repeat: no-repeat;  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANwAAABECAMAAADdsaudAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADNQTFRFAAAA////////////////////////////////////////////////////////////////t5XiggAAABB0Uk5TABAgMEBQYHCAj5+vv8/f7yMagooAAAM2SURBVGje7ZjRlqsgDEUDIkUNcv7/a++DCgGx047Oy105T211iZuEk6REKpVKpVKpVCqVSqVSqVSqP5OZ/mO4F/x/yzYm8AbJPMsLlpnHahf2Gzwz5x/dvAJp8YaIaOCOiIhoYm4SZAbcX6MxAGyviXq5ACDKexMQjgtHSi/Ylcb9EScREREDXB+G1P7yay1LOGlmjnJ9WgEZuhUAhvLdA7ANHBeG8B3cC8fjbmtIeCMu65kSUwAVLQML1XAeQJqc8/MGZ4+NA8DH5z7c2jz9jtw7uP00GACvEmwgASnT2py1BY7zDZaDXG6PZLUzFZzfVjbP0PlrtmTLGV8lSwCKk075YoErG0M0fAXHAKf2pt9ruoTzMryu2EmipViKSTmsfTj6Bs4B8HIv72r+iY0olmOwAhONxVJ8SaIgLSjZ38DNwEq2XvyeYtdMhiZ3TbYTKw1UcBe4GUAcvoez2/WlqTW3+qwz3eKIiMbhlHvL9jLhcIyhztgdziYA6fU13P7YtrLeo6syM85bW0FDctRYypExOXPk+RB1bisxbL+DM2lPg3hUl2fw3KGqnOaXOwIUgHREMNZ2UsHRsOYK/jlcbgf8Y4W8L7uIV81Haz1scLcUL2uShCOzuTCbL+DWHLD1sULeQ5sSqtTYKMSObstH+RIVHNEQ0Xah7+HEUQuyTXgUbJziqRiYBITSaRFNQDKu6jIbuO0HfN6hcG1qr8cClQcR4ZypqYarBTAK1/ZzFZkT3NZjmg/hbOPYDxVy/2MV3ywlyhUZiPVNZzgKYjt+gpvfrv9w88y9Uh+aHZFx6cCZhuYNnEnAlE3bxWfGuouxJ5peeG01o9aeVuDCFc0buFA/3T9SyO1nbGQa/9w67qELl9tm32TXG7jW/Z+oBia+G+Xa8UGeH9savZwK4rj/D1NX42s43+wUve4X8j4b9xLCtgbGzZmvRh6AeT1t0zVc7P2ZcnOs6807y0Wuc7OYr4uFgBMz4odF3J3dcbpbyE9suWvuVowmTdJ0AUfD/u9XCh/2lp0B9fZY52r95Kvt93ofrHyCcSEE11mv3qDBuaF7QVxTqVQqlUqlUqlUKpVKpVKprvQPULZVy61arz0AAAAASUVORK5CYII="); }#__chromeid__ #__wrapperid__ .w-component--branding {  -webkit-box-ordinal-group: 7;      -ms-flex-order: 6;          order: 6; }#__chromeid__ #__wrapperid__ .w-control--play {  text-align: center;  width: 51px; }  #__chromeid__ #__wrapperid__ .w-control--play .w-control--icon {    height: 100%;    width: 23.5%; }#__chromeid__ #__wrapperid__ .w-control--volume {  text-align: center;  width: 40px; }  #__chromeid__ #__wrapperid__ .w-control--volume .w-control--icon {    height: 100%;    width: 52.5%; }#__chromeid__ #__wrapperid__ .w-control--settings {  text-align: center;  width: 40px; }  #__chromeid__ #__wrapperid__ .w-control--settings .w-control--icon {    height: 60%;    margin-top: -1%;    width: 45%; }#__chromeid__ #__wrapperid__ .w-control--fullscreen {  text-align: center;  width: 40px; }  #__chromeid__ #__wrapperid__ .w-control--fullscreen .w-control--icon {    height: 100%;    width: 67.5%; }#__chromeid__ #__wrapperid__ .w-control--airplay {  text-align: center;  width: 40px; }  #__chromeid__ #__wrapperid__ .w-control--airplay .w-control--icon {    height: 100%;    width: 92%; }#__chromeid__ #__wrapperid__ .w-control--captions {  text-align: center;  width: 40px; }  #__chromeid__ #__wrapperid__ .w-control--captions .w-control--icon {    height: 55.88%;    width: 60%; }#__chromeid__ #__wrapperid__ .w-control--spherical {  background: none !important; }#__chromeid__ #__wrapperid__ .w-control--context-menu {  height: auto; }#__chromeid__ #__wrapperid__ .w-control--volume {  z-index: 11; }#__chromeid__ #__wrapperid__ .w-control--playbar-placeholder {  width: 100%; }  #__chromeid__ #__wrapperid__ .w-control--playbar-placeholder .w-control--icon {    display: none; }#__chromeid__ #__wrapperid__ .w-control--playbar {  width: 100%; }#__chromeid__ #__wrapperid__ .bp-325 .w-control-bar__region--centerMobile,#__chromeid__ #__wrapperid__ .bp-450 .w-control-bar__region--centerMobile {  display: -webkit-box;  display: -ms-flexbox;  display: flex; }#__chromeid__ #__wrapperid__ .bp-325 .w-control-bar__region--center,#__chromeid__ #__wrapperid__ .bp-450 .w-control-bar__region--center {  display: -webkit-box;  display: -ms-flexbox;  display: flex;  width: 0;  -webkit-box-flex: 0;      -ms-flex-positive: 0;          flex-grow: 0; }#__chromeid__ #__wrapperid__ .w-status-bar {  background: rgba(0, 0, 0, 0.5);  position: absolute;  top: 0;  left: 0;  right: 0;  z-index: 10;  display: none;  opacity: 0;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  font-size: 18px;  line-height: 34px;  text-align: center;  transition: opacity 200ms ease; }  #__chromeid__ #__wrapperid__ .w-status-bar.w-is-visible {    display: block; }  #__chromeid__ #__wrapperid__ .w-status-bar.w-is-transitioned {    opacity: 1; }#__chromeid__ #__wrapperid__ .w-hover-detail {  position: absolute;  bottom: 34px;  background: rgba(0, 0, 0, 0.3);  display: none;  overflow: hidden;  width: 300px;  box-sizing: border-box;  padding: 14px;  right: 0px;  opacity: 0;  transition: opacity 100ms ease;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none; }  #__chromeid__ #__wrapperid__ .w-hover-detail.w-is-visible {    display: block; }  #__chromeid__ #__wrapperid__ .w-hover-detail.w-is-transitioned {    opacity: 1; }#__chromeid__ #__wrapperid__ .w-hover-detail__p {  margin: 0;  margin-bottom: 10px;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  line-height: 22px;  text-align: left; }#__chromeid__ #__wrapperid__ .w-hover-detail__button {  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  font-size: 12px;  border-radius: 4px;  padding: 3px 6px;  border: 1px solid white; }#__chromeid__ #__wrapperid__ .w-align--right {  text-align: right; }#__chromeid__ #__wrapperid__ .w-control--spherical {  background: none !important;  background-color: none;  height: 100%;  width: 60px;  z-index: 10;  top: 0;  left: 0;  overflow: visible; }  #__chromeid__ #__wrapperid__ .w-control--spherical.is-expanded {    width: 100%; }  #__chromeid__ #__wrapperid__ .w-control--spherical.is-closed {    display: none; }#__chromeid__ #__wrapperid__ .w-control--spherical__trigger {  height: 100%;  top: 0;  left: 0;  background-color: rgba(0, 0, 0, 0.4); }  #__chromeid__ #__wrapperid__ .w-control--spherical__trigger.is-hidden {    opacity: 0;    transition: opacity 100ms ease 300ms; }  #__chromeid__ #__wrapperid__ .w-control--spherical__trigger .w-control--spherical__icon {    display: inline-block;    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA6NJREFUeNrsm4txozAQhu1U4BJcgjs40gEdnK4Dl0AHvg5IB6QDfBXYHfg6IB04MLe+YTSrF2jXA/7/GSYOD0l8rFZaPTabheh+v+/649If9QYSg/sQIAvCBWQFuICsABeQFeACcma4w/kOkOXgDtcPgCwEd3QvIEvBBWQFuICsABeQFeACsgJcQOZhNDnhRkKuXgkwB2IWXI20lww5KwDJtJcIuZUAIJk2BEEQBEEQBEEQBEH66mP88hXifBq7LrUzNa8wUmVNDBhtuKsea3XMuhhtuA+1KwTcOt7VaMMdBrYPKwTsm34ygLsUyHPhki+r+uNmPX+bMhHZP1MMs8SP9AL37uleG9JQ/YunQ84EN7QMNXaBScF8pPtEMEmARCDncAuehiJp3QJZISvPh+0i89a35ExwSw4kuYsmwRJbj+VXjmcqptwnh6u6qPrknA0aFehEz5oAuIJ5/uT4SPtAvjdX2mTd9vWDCmTN3gJjZQXjc5OthACM1US8ZzXBcNIgO6xFCu7esqKOucd2I0eCXvj8JgPPOPL3foSZkI+xjUg2uKOFIF1o3RhVY64snLvYpdSM0X2zI9GoBYcacD1V3lWFy4QdRp21vSAW8CVHqB+C/Nbf44J43m63V4WAqWSqccqHHeA2E/L9ylF4YnR2XD4MgN/74+p48Zzrar+oIGcmvzqiP/pBZX2n32MVE2pbLtc3MOLGi69U1mDEJbJ4mRotNh+mmlcRvZCj43wp6IPrUHT6Rmb+5bFkIwG5z/O3dcrXtz1HnNs5zv/g2gPG2qZYrnFZLjH9B1gCMtUKQ92xlrue4B85+K4PcmVcnZ3XT+v/PxJwpwzQ1AmFsKOl5hGBUR61qzfBBAudFY0VTMtdevrQ/7tzjGvqEjfcBN3C1OmSJMjMi4QUCqV9ukV2CWft3cgCNzPkOvIlm4nDjc7+emTe0WCyws0MuQq85Cki+nNarq975gn/7ynbC+bA3cZA7v+0jn7jR+/Qf0WmUVoN09AQfPbP/42Jlpi+5hAInWPGPejZMYjP2CBqVoOmackLnZPL7xYA+QlwIyCbFQI2qnA9kM2KXYR5ygqmEeTVwrUgv+5uUQiCIAiCIAiCIAhaX6xfLDHtpcCtpUbkJNNeGtzsw56SaS8F7klqa5RnJsK8EmAzd+dPItxV7+dTgQy4gpABVxAy4ApCBlxByIArCBlwBSEDrjxkwFWGDLiCkAFXEDLgCkIGXEHIi4L7LcAAUR0jYiGZz/IAAAAASUVORK5CYII=");    background-size: 76% 76%;    background-repeat: no-repeat;    margin: 12% 12%;    height: 100%;    width: 100%; }#__chromeid__ #__wrapperid__ .w-control.w-control--spherical, #__chromeid__ #__wrapperid__ .w-control--spherical.w-control--icon {  background: none; }  #__chromeid__ #__wrapperid__ .w-control.w-control--spherical:hover, #__chromeid__ #__wrapperid__ .w-control--spherical.w-control--icon:hover {    background: none; }#__chromeid__ #__wrapperid__ .w-control--spherical__direction-box-mask {  left: 60px;  right: 0;  height: 100%;  position: absolute;  overflow: hidden;  width: 0%;  transition: width 200ms; }#__chromeid__ #__wrapperid__ .w-control--spherical__direction-box-text {  opacity: 0;  transition: opacity 200ms ease 0;  white-space: nowrap; }#__chromeid__ #__wrapperid__ .w-control--spherical__direction-box {  position: absolute;  top: 0;  left: 0;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-align: center;      -ms-flex-align: center;          align-items: center;  width: 100%;  height: 100%;  padding-left: 10px;  font-size: 16px;  background-color: rgba(0, 0, 0, 0.4);  box-sizing: border-box;  -webkit-transform: translateX(-100%);          transform: translateX(-100%);  transition: -webkit-transform 200ms ease 100ms;  transition: transform 200ms ease 100ms;  transition: transform 200ms ease 100ms, -webkit-transform 200ms ease 100ms; }#__chromeid__ #__wrapperid__ .is-open .w-control--spherical__direction-box {  -webkit-transform: translateX(0);          transform: translateX(0);  transition: -webkit-transform 200ms ease 200ms;  transition: transform 200ms ease 200ms;  transition: transform 200ms ease 200ms, -webkit-transform 200ms ease 200ms; }  #__chromeid__ #__wrapperid__ .is-open .w-control--spherical__direction-box .w-control--spherical__direction-box-text {    transition: opacity 200ms ease 300ms;    opacity: 1; }#__chromeid__ #__wrapperid__ .is-open .w-control--spherical__direction-box-mask {  width: 100%;  transition: width 300ms; }#__chromeid__ #__wrapperid__ .is-open .w-control--spherical__icon {  -webkit-animation-name: logo;          animation-name: logo;  -webkit-animation-duration: 500ms;          animation-duration: 500ms; }#__chromeid__ #__wrapperid__ .wistia_directional_arrows {  height: 30px;  vertical-align: middle;  display: inline-block;  margin: 0 5px 4px; }#__chromeid__ #__wrapperid__ .bp-325 .w-control--spherical {  width: 22px; }#__chromeid__ #__wrapperid__ .bp-450 .w-control--spherical {  width: 29px; }#__chromeid__ #__wrapperid__ .bp-640 .w-control--spherical {  width: 36px; }#__chromeid__ #__wrapperid__ .bp-750 .w-control--spherical {  width: 60px; }#__chromeid__ #__wrapperid__ .bp-325 .w-control--spherical__direction-box-mask {  left: 22px; }#__chromeid__ #__wrapperid__ .bp-450 .w-control--spherical__direction-box-mask {  left: 29px; }#__chromeid__ #__wrapperid__ .bp-640 .w-control--spherical__direction-box-mask {  left: 36px; }#__chromeid__ #__wrapperid__ .bp-750 .w-control--spherical__direction-box-mask {  left: 60px; }#__chromeid__ #__wrapperid__ .bp-325 .w-control--spherical__direction-box-text {  font-size: 10px; }#__chromeid__ #__wrapperid__ .bp-450 .w-control--spherical__direction-box-text {  font-size: 12px; }#__chromeid__ #__wrapperid__ .bp-640 .w-control--spherical__direction-box-text {  font-size: 13px; }#__chromeid__ #__wrapperid__ .bp-750 .w-control--spherical__direction-box-text {  font-size: 14px; }#__chromeid__ #__wrapperid__ .bp-325 .wistia_directional_arrows {  display: none; }#__chromeid__ #__wrapperid__ .bp-450 .wistia_directional_arrows {  display: none; }#__chromeid__ #__wrapperid__ .bp-640 .wistia_directional_arrows {  display: visible; }#__chromeid__ #__wrapperid__ .bp-750 .wistia_directional_arrows {  display: visible; }@-webkit-keyframes logo {  0% {    -webkit-transform: scale(1);            transform: scale(1); }  33% {    -webkit-transform: scale(0.9);            transform: scale(0.9); }  50% {    -webkit-transform: scale(1.1);            transform: scale(1.1); }  100% {    -webkit-transform: scale(1);            transform: scale(1); } }@keyframes logo {  0% {    -webkit-transform: scale(1);            transform: scale(1); }  33% {    -webkit-transform: scale(0.9);            transform: scale(0.9); }  50% {    -webkit-transform: scale(1.1);            transform: scale(1.1); }  100% {    -webkit-transform: scale(1);            transform: scale(1); } }#__chromeid__ #__wrapperid__ .w-context-menu {  cursor: pointer;  display: none; }  #__chromeid__ #__wrapperid__ .w-context-menu.w-is-visible {    display: block; }#__chromeid__ #__wrapperid__ .w-context-menu__item {  background: transparent;  padding: 6px 16px;  transition: none;  color: #555;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  font-weight: normal;  font-size: 14px;  display: none; }  #__chromeid__ #__wrapperid__ .w-context-menu__item:hover {    background: #54bbff;    color: #fff; }  #__chromeid__ #__wrapperid__ .w-context-menu__item.w-is-visible {    display: block; }  #__chromeid__ #__wrapperid__ .w-context-menu__item.is-disabled {    background: transparent;    color: #bbb; }#__chromeid__ #__wrapperid__ .w-context-menu__item--title {  background: transparent;  color: #bbb;  font-size: 11px;  line-height: 1em;  padding-bottom: 3px; }#__chromeid__ #__wrapperid__ .embed-code-copier {  position: absolute;  bottom: -1000px;  right: 0;  background: rgba(0, 0, 0, 0.3);  width: 300px; }  #__chromeid__ #__wrapperid__ .embed-code-copier.w-is-visible {    bottom: 34px;    height: auto; }#__chromeid__ #__wrapperid__ .embed-code-copier__textarea {  background: none;  border: none;  width: 100%;  border: none;  padding: 11px 14px;  box-sizing: border-box;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  font-size: 13px;  line-height: 22px;  word-break: break-all; }  #__chromeid__ #__wrapperid__ .embed-code-copier__textarea:focus {    outline: none; }  #__chromeid__ #__wrapperid__ .embed-code-copier__textarea::-moz-selection {    background: #bbb; }  #__chromeid__ #__wrapperid__ .embed-code-copier__textarea::selection {    background: #bbb; }#__chromeid__ #__wrapperid__ .w-password-protected {  height: 100%;  position: relative;  width: 100%; }#__chromeid__ #__wrapperid__ .w-password-protected-overlay {  background-color: transparent;  height: 100%;  left: 0;  position: absolute;  top: 0;  width: 100%;  z-index: 1;  color: white;  font-family: WistiaPlayerOverpass, Helvetica, Arial; }  #__chromeid__ #__wrapperid__ .w-password-protected-overlay.is-visible {    background-color: rgba(0, 0, 0, 0.6); }#__chromeid__ #__wrapperid__ .w-lock--icon {  background: rgba(0, 0, 0, 0.4);  box-sizing: border-box;  display: inline-block;  height: 100%;  vertical-align: top; }  #__chromeid__ #__wrapperid__ .w-lock--icon path {    fill: white; }  #__chromeid__ #__wrapperid__ .w-lock--icon svg {    height: 100%;    width: 100%; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  width: 22px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  width: 29px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  width: 36px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  width: 60px; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  padding-left: 2.75px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  padding-left: 3.625px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  padding-left: 4.5px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  padding-left: 7.5px; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  padding-right: 2.75px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  padding-right: 3.625px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  padding-right: 4.5px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  padding-right: 7.5px; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  padding-top: 4px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  padding-top: 4.5px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  padding-top: 6px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  padding-top: 10px; }#__chromeid__ #__wrapperid__ .bp-325 .w-lock--icon {  padding-bottom: 4px; }#__chromeid__ #__wrapperid__ .bp-450 .w-lock--icon {  padding-bottom: 4.5px; }#__chromeid__ #__wrapperid__ .bp-640 .w-lock--icon {  padding-bottom: 6px; }#__chromeid__ #__wrapperid__ .bp-750 .w-lock--icon {  padding-bottom: 10px; }#__chromeid__ #__wrapperid__ .w-password-protected-form {  height: 100%;  position: absolute;  text-align: center;  top: 0;  width: 100%; }#__chromeid__ #__wrapperid__ .w-challenge-container {  position: relative;  top: 50%;  -webkit-transform: translateY(-50%);          transform: translateY(-50%); }  #__chromeid__ #__wrapperid__ .w-challenge-container.bp-325 {    margin: 0px 20px; }  #__chromeid__ #__wrapperid__ .w-challenge-container.bp-450 {    margin: 0px 40px; }  #__chromeid__ #__wrapperid__ .w-challenge-container.bp-640 {    margin: 0px 40px; }#__chromeid__ #__wrapperid__ .w-challenge-text {  font-weight: 300;  margin-top: 0px;  overflow: hidden; }  #__chromeid__ #__wrapperid__ .w-challenge-text.bp-325 {    font-size: 14px;    line-height: 22px;    margin-bottom: 16px; }  #__chromeid__ #__wrapperid__ .w-challenge-text.bp-450 {    font-size: 20px;    line-height: 28px;    margin-bottom: 24px; }  #__chromeid__ #__wrapperid__ .w-challenge-text.bp-640 {    font-size: 28px;    line-height: 36px;    margin-bottom: 24px; }#__chromeid__ #__wrapperid__ .w-password-container {  display: inline-block;  position: relative;  white-space: nowrap; }#__chromeid__ #__wrapperid__ .w-password-input {  border: 0;  border-radius: 0;  box-sizing: border-box;  background-color: white;  color: #505050;  display: inline-block;  line-height: 30px;  outline: none;  padding: 0 22px 0 8px;  vertical-align: top;  width: 70%; }  #__chromeid__ #__wrapperid__ .w-password-input.bp-325 {    font-size: 12px;    height: 30px; }  #__chromeid__ #__wrapperid__ .w-password-input.bp-450 {    font-size: 14px;    height: 30px; }  #__chromeid__ #__wrapperid__ .w-password-input.bp-640 {    font-size: 16px;    height: 40px; }  #__chromeid__ #__wrapperid__ .w-password-input.w-password-input--error {    border: 2px solid #DE686C; }#__chromeid__ #__wrapperid__ .w-error-x {  position: absolute;  right: 65px;  color: red;  font-size: 15px;  top: 7px; }  #__chromeid__ #__wrapperid__ .w-error-x.bp-640 {    top: 13px;    right: 80px; }#__chromeid__ #__wrapperid__ .wistia_password_error_icon polygon {  fill: #DE686C; }#__chromeid__ #__wrapperid__ .w-password-submit {  border: 0;  border-radius: 0;  cursor: pointer;  display: inline-block;  letter-spacing: 2px;  font-weight: 600;  line-height: 30px;  color: #fff;  outline: none;  zoom: 1;  text-transform: uppercase;  vertical-align: top; }  #__chromeid__ #__wrapperid__ .w-password-submit.bp-325 {    font-size: 12px;    height: 30px;    width: 46px; }  #__chromeid__ #__wrapperid__ .w-password-submit.bp-450 {    font-size: 14px;    height: 30px;    width: 46px; }  #__chromeid__ #__wrapperid__ .w-password-submit.bp-640 {    font-size: 16px;    height: 40px;    width: 62px; }#__chromeid__ #__wrapperid__ .w-error-text {  color: #DE686C;  line-height: 1em;  margin-top: 8px;  text-align: left; }  #__chromeid__ #__wrapperid__ .w-error-text.bp-325 {    font-size: 10px; }  #__chromeid__ #__wrapperid__ .w-error-text.bp-450 {    font-size: 12px; }  #__chromeid__ #__wrapperid__ .w-error-text.bp-640 {    font-size: 14px; }#__chromeid__ #__wrapperid__ .w-menu--chapters {  top: 0;  bottom: 0;  padding-top: 8px;  width: auto;  display: none;  right: 0;  box-sizing: border-box;  position: static; }  #__chromeid__ #__wrapperid__ .w-menu--chapters.w-is-visible {    display: block;    height: 100%; }#__chromeid__ #__wrapperid__ .w-menu__list--chapters {  min-width: 120px;  max-width: 240px;  display: inline-block; }#__chromeid__ #__wrapperid__ .w-chapters__chapter {  padding: 0 15px 0 0;  list-style-type: none;  display: -webkit-box;  display: -ms-flexbox;  display: flex;  -webkit-box-orient: horizontal;  -webkit-box-direction: normal;      -ms-flex-direction: row;          flex-direction: row; }#__chromeid__ #__wrapperid__ .w-chapters__chapter-number {  padding-top: 6px;  min-width: 24px;  text-align: right; }#__chromeid__ #__wrapperid__ .w-chapters__chapter-item {  height: auto;  line-height: 22px;  padding-top: 6px;  padding-bottom: 6px;  word-wrap: break-word; }#__chromeid__ #__wrapperid__ .w-chapters__scrollcontainer {  overflow-y: auto;  height: 100%;  width: 100%; }#__chromeid__ #__wrapperid__ .w-chapters__menu-header {  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  font-size: 30px;  font-weight: bold;  line-height: 40px;  padding: 12px;  color: white;  background: rgba(0, 0, 0, 0.4);  margin-bottom: 8px; }#__chromeid__ #__wrapperid__ .w-playbar-indicators {  position: absolute;  left: 0;  right: 0;  bottom: 0;  top: 0; }#__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator {  position: absolute;  z-index: 10;  line-height: 34px;  font-size: 20px;  background: rgba(255, 255, 255, 0);  text-align: center;  width: 16px;  margin-left: -8px;  height: 100%; }  #__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator.is-hovering .w-playbar-indicators__indicator-dot {    -webkit-transform: scale(1.2);            transform: scale(1.2);    opacity: 1; }  #__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator.is-hidden .w-playbar-indicators__indicator-dot {    opacity: .2; }  #__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator.is-passed .w-playbar-indicators__indicator-dot {    opacity: .6; }#__chromeid__ #__wrapperid__ .w-control-bar.w-is-visible .w-playbar-indicators__indicator {  transition: 150ms ease background; }  #__chromeid__ #__wrapperid__ .w-control-bar.w-is-visible .w-playbar-indicators__indicator.is-dragging .w-playbar-indicators__indicator-dot {    transition: none; }#__chromeid__ #__wrapperid__ .w-control-bar.w-is-not-transitioning .w-playbar-indicators__indicator-dot {  transition: 150ms ease opacity, 100ms ease transform; }#__chromeid__ #__wrapperid__ .w-playbar-indicators__indicator-dot {  opacity: .9;  pointer-events: none; }#__chromeid__ #__wrapperid__ .w-chapter-title {  position: absolute;  bottom: 0px;  left: 0;  background: rgba(0, 0, 0, 0.5);  padding: 0 14px;  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  line-height: 22px;  opacity: 0;  white-space: nowrap;  max-width: 240px;  overflow: hidden;  text-overflow: ellipsis; }  #__chromeid__ #__wrapperid__ .w-chapter-title.w-is-visible {    opacity: 1; }#__chromeid__ #__wrapperid__ .w-control-bar.w-is-not-transitioning .w-chapter-title {  transition: 100ms ease opacity; }#__chromeid__ #__wrapperid__ .bp-325 .w-playbar-indicators__indicator,#__chromeid__ #__wrapperid__ .bp-450 .w-playbar-indicators__indicator {  line-height: 14px;  font-size: 15px; }#__chromeid__ #__wrapperid__ .bp-325 .w-chapter-title,#__chromeid__ #__wrapperid__ .bp-450 .w-chapter-title {  bottom: 15px; }#__chromeid__ #__wrapperid__ .w-menu-bar {  position: absolute;  right: 0;  top: 0;  bottom: 34px;  opacity: 0;  z-index: 1; }  #__chromeid__ #__wrapperid__ .w-menu-bar.w-is-visible {    opacity: 1;    pointer-events: auto; }#__chromeid__ #__wrapperid__ .w-report-a-problem {  color: white;  font-size: 14px;  font-family: WistiaPlayerOverpass, sans-serif;  -webkit-font-smoothing: antialiased;  line-height: 26px;  letter-spacing: 0;  word-wrap: normal;  text-decoration: none;  text-transform: none;  background: rgba(0, 0, 0, 0.7);  box-sizing: border-box;  color: #fff;  display: none;  -webkit-box-orient: vertical;  -webkit-box-direction: normal;      -ms-flex-direction: column;          flex-direction: column;  height: 100%;  -webkit-box-pack: center;      -ms-flex-pack: center;          justify-content: center;  line-height: 22px;  min-width: 320px;  opacity: 0;  overflow-x: hidden;  overflow-y: auto;  padding: 0 20px;  position: absolute;  top: 0;  transition: opacity 200ms ease-in-out;  width: 100%;  z-index: 12; }  #__chromeid__ #__wrapperid__ .w-report-a-problem.w-is-visible {    opacity: 1;    display: -webkit-box;    display: -ms-flexbox;    display: flex; }  #__chromeid__ #__wrapperid__ .w-report-a-problem.w-is-transparent {    opacity: 0;    display: -webkit-box;    display: -ms-flexbox;    display: flex; }  #__chromeid__ #__wrapperid__ .w-report-a-problem.w-is-hidden {    opacity: 0;    display: none; }  #__chromeid__ #__wrapperid__ .w-report-a-problem * {    box-sizing: border-box; }#__chromeid__ #__wrapperid__ .w-report-a-problem__centered-content {  margin: 0 auto;  padding: 8px;  position: relative;  width: 350px; }#__chromeid__ #__wrapperid__ .w-report-a-problem__form-content--disabled {  color: #777; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__form-content--disabled .w-report-a-problem__category, #__chromeid__ #__wrapperid__ .w-report-a-problem__form-content--disabled .w-report-a-problem__description {    background: #999;    color: #777; }#__chromeid__ #__wrapperid__ .w-report-a-problem__category {  outline: 2px solid transparent;  width: 200px; }#__chromeid__ #__wrapperid__ .w-report-a-problem__category--error {  outline: 2px solid #e37091; }#__chromeid__ #__wrapperid__ .w-report-a-problem__description {  height: 60px;  border: 0;  outline: 2px solid transparent;  padding: 6px;  outline: none;  width: 100%; }#__chromeid__ #__wrapperid__ .w-report-a-problem__description--error {  outline: 2px solid #e37091; }#__chromeid__ #__wrapperid__ .w-report-a-problem__button-row {  margin-top: 16px;  position: relative;  text-align: right; }#__chromeid__ #__wrapperid__ .w-report-a-problem__form-feedback {  color: #e2e46f;  left: 0;  line-height: 1.3em;  overflow: hidden;  position: absolute;  text-align: left;  text-overflow: ellipsis;  top: 8px;  width: 206px; }#__chromeid__ #__wrapperid__ .w-report-a-problem__form-feedback--error {  color: #e37091; }#__chromeid__ #__wrapperid__ .w-report-a-problem__send, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss {  -moz-border-radius: 5px;  -webkit-border-radius: 5px;  -webkit-font-smoothing: subpixel-antialiased;  background-color: #f7f6f4;  border-radius: 5px;  border: 1px solid #bbb;  color: #888;  cursor: pointer;  display: inline-block;  font-family: WistiaPlayerOverpass, Helvetica, Arial, Sans-Serif;  font-size: 14px;  font-weight: 400;  line-height: normal;  margin: 5px;  overflow: hidden;  padding: 8px 15px;  text-align: center;  text-decoration: none;  vertical-align: middle;  background-color: #54bbff;  border-color: #54bbff;  color: white;  margin: 0; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:hover, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:hover {    background-color: #f1efee;    border-color: #aaa;    color: #777; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:focus, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:focus {    border: double;    padding: 6px 13px;    outline: 0; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:active, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:active {    background-color: #e7e6e4;    border: 1px solid #999;    color: #666;    padding: 8px 15px; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:hover, #__chromeid__ #__wrapperid__ .w-report-a-problem__send.hover, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:hover, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss.hover {    background-color: #4caff4;    border-color: #4caff4;    color: white; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:active, #__chromeid__ #__wrapperid__ .w-report-a-problem__send.active, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:active, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss.active {    background-color: #41a4e8;    border-color: #41a4e8;    color: white; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__send:focus, #__chromeid__ #__wrapperid__ .w-report-a-problem__dismiss:focus {    border-color: white; }#__chromeid__ #__wrapperid__ .w-report-a-problem__cancel {  display: inline-block;  margin: 0 12px; }  #__chromeid__ #__wrapperid__ .w-report-a-problem__cancel:hover {    text-decoration: underline; }#__chromeid__ #__wrapperid__ .w-customer-logo {  display: inline-block;  height: 100%;  opacity: .75;  transition: opacity 75ms;  vertical-align: top;  z-index: 9; }  #__chromeid__ #__wrapperid__ .w-customer-logo--clickable:hover {    cursor: pointer;    opacity: 1; }#__chromeid__ #__wrapperid__ .w-customer-logo__image {  box-sizing: border-box;  height: 100%;  padding: 8px;  width: auto; }#__chromeid__ #__wrapperid__ .bp-325 .w-customer-logo__image {  padding: 2px; }#__chromeid__ #__wrapperid__ .bp-450 .w-customer-logo__image {  padding: 4px; }#__chromeid__ #__wrapperid__ .bp-640 .w-customer-logo__image {  padding: 6px; }#__chromeid__ #__wrapperid__ .bp-750 .w-customer-logo__image {  padding: 8px; }#__chromeid__ #__wrapperid__ .w-multistream__wrapper-primary, #__chromeid__ #__wrapperid__ .w-multistream__wrapper-secondary {  transition: all 400ms cubic-bezier(0.19, 1, 0.22, 1);  position: absolute;  overflow: hidden;  top: 0;  height: 100%; }#__chromeid__ #__wrapperid__ .w-multistream__wrapper-primary {  left: 0%;  width: 100%;  height: 100%; }#__chromeid__ #__wrapperid__ .w-multistream__wrapper-secondary {  left: -33%;  width: 33%; }  #__chromeid__ #__wrapperid__ .w-multistream__wrapper-secondary video {    -o-object-fit: cover;       object-fit: cover; }#__chromeid__ #__wrapperid__ .w-multistream--primary .w-multistream__wrapper-primary {  left: 0; }#__chromeid__ #__wrapperid__ .w-multistream--primary .w-multistream__wrapper-secondary {  left: -33%; }#__chromeid__ #__wrapperid__ .w-multistream--secondary .w-multistream__wrapper-primary {  left: 100%; }#__chromeid__ #__wrapperid__ .w-multistream--secondary .w-multistream__wrapper-secondary {  left: 0;  width: 100%; }#__chromeid__ #__wrapperid__ .w-multistream--split .w-multistream__wrapper-primary {  left: 33%; }#__chromeid__ #__wrapperid__ .w-multistream--split .w-multistream__wrapper-secondary {  left: 0%; }#__chromeid__ {  z-index: 0; }  #__chromeid__:-webkit-full-screen {    background: #000; }  #__chromeid__:-moz-full-screen {    background: #000; }  #__chromeid__:-ms-fullscreen {    background: #000; }  #__chromeid__:fullscreen {    background: #000; }#__chromeid__ * {  max-width: none; }#__chromeid__ #__wrapperid__ {  tap-highlight-color: transparent;  -webkit-tap-highlight-color: transparent; }  #__chromeid__ #__wrapperid__ .w-tooltip {    color: white;    font-size: 14px;    font-family: WistiaPlayerOverpass, sans-serif;    -webkit-font-smoothing: antialiased;    line-height: 26px;    letter-spacing: 0;    word-wrap: normal;    text-decoration: none;    text-transform: none;    transition: opacity 200ms, -webkit-transform 150ms;    transition: opacity 200ms, transform 150ms;    transition: opacity 200ms, transform 150ms, -webkit-transform 150ms;    background: rgba(0, 0, 0, 0.5);    -webkit-transform: translateZ(0);            transform: translateZ(0);    opacity: 0; }    #__chromeid__ #__wrapperid__ .w-tooltip.w-is-visible {      opacity: 1;      -webkit-transform: translateZ(0) translateY(0);              transform: translateZ(0) translateY(0); }#__chromeid__ #__wrapperid__ #__uuid__ {  -o-object-fit: contain;     object-fit: contain; }'
},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function e(t,i,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,i,n)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(n):void 0},u=i(3),c=n(u),d=c.default.lib("utilities/core"),h=d.base64Encode,p=d.base64Decode,f=i(299),m=f.XhrLoader,g="data:application/x-mpegURL;base64,",y=function(e){function t(e){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.log=e.debug,e&&e.getFragFromCache&&(i.getFragFromCache=e.getFragFromCache),e&&e.getM3u8FromCache&&(i.getM3u8FromCache=e.getM3u8FromCache),e&&e.transformPlaylist&&(i.transformPlaylist=e.transformPlaylist),e&&e.callbackOnFragmentProgress&&(i.callbackOnFragmentProgress=e.callbackOnFragmentProgress),i}return s(t,e),a(t,[{key:"load",value:function(e,i,n){var r=this;if("manifest"===e.type&&e.url&&0===e.url.indexOf("data:application/x-mpegURL;base64,")){var o=e.url.replace("data:application/x-mpegURL;base64,",""),s=p(o);return void setTimeout(function(){var t={url:e.url,data:s},i={trequest:performance.now(),retry:0};n.onSuccess(t,i,e)},0)}if("level"===e.type){if(this.getM3u8FromCache){var a=this.getM3u8FromCache(e.url);if(a){var u=a.event,c=a.stats;return void setTimeout(function(){n.onSuccess(u,c,e)},0)}}var d=n.onSuccess,h=function(e,t,i){d&&(e.data&&r.transformPlaylist&&(e.data=r.transformPlaylist(e.data)),d(e,t,i))};return n.onSuccess=h,void l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e,i,n)}if(null==e.type){var f=this.getFragFromCache(e.url,e.rangeStart,e.rangeEnd);if(f){var m=f.event,g=f.stats;return void setTimeout(function(){n.onSuccess(m,g,e)},0)}}l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"load",this).call(this,e,i,n)}}]),t}(m);t.default=y},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(202),o=i(369),s=n(o),a=i(3),l=n(a),u=l.default,c=l.default.lib("player/lib/assets"),d=l.default.lib("utilities/obj"),h=l.default.lib("utilities/core"),p=h.base64Encode,f=function(e){var t=(0,r.selectableAssets)(e.allAssets);return t.unshift(m(e)),t},m=function(e){var t=g(e,e.allAssets),i=s.default.masterM3u8DataUri(t),n=s.default.buildMasterM3u8Asset(i);return n.display_name="Auto",n.slug="Auto",n},g=function(e,t){t=s.default.allHlsAssets(t),t=y(e,t);var i=s.default.bestAssetForCurrentSize(e,t,{maxWidth:1280})||s.default.mediumQualityStartingAsset(e,t)||s.default.anyViableAsset(e,t);return c.moveToFront(t,i),t},y=function(e,t){c.isScreencast(e.allAssets)&&(t=s.default.filterAssetsForScreencast(e,t)),e.attributes.qualityMin>0&&(t=s.default.rejectAudioAsset(e,t));var i=e.attributes,n=i.qualityMin,r=i.qualityMax,o=c.withinQualityRange(t,n,r);return t=o.length>0?o:c.nearestOutsideRange(t,n,r)};e.exports={selectable:f,adaptiveAsset:m}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(424),a=n(s),l=i(14),u=n(l),c=i(3),d=n(c),h=d.default,p=h.lib("player/lib/assets"),f=h.lib("player/engines/simple_video"),m=f.delegatePublicMethods,g=f.mediaDataWithAssets,y=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.uuid=(0,u.default)("wistia_native_hls_video_"),this.root=t,this.mediaData=i,this.allAssets=i.assets,this.attributes=n,this.simpleVideo=new f(this.root,this.mediaDataForSimpleVideo(),this.attributes),this.videoElem().src=a.default.adaptiveAsset(this).url}return o(e,[{key:"mediaDataForSimpleVideo",value:function(){return g(this.mediaData,this.selectableAssets())}},{key:"selectableAssets",value:function(){return a.default.selectable(this)}},{key:"changeVideo",value:function(e,t){return this.mediaData=e,this.allAssets=e.assets,this.attributes=t,this.simpleVideo.changeVideo(this.mediaDataForSimpleVideo(),this.attributes)}}]),e}();m(y.prototype,function(){return this.simpleVideo}),e.exports=y},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=o.default,a=s.lib("utilities/wlog"),l=a.wlog,u=s.lib("utilities/detect"),c=u.cachedDetect,d=s.lib("player/lib/elem"),h=d.safeRequestAnimationFrame,p=d.elemBind,f=s.lib("utilities/cacheable"),m=f.makeCacheable,g=f.makeNamespace,y=f.uncacheNamespace,_=s.lib("utilities/core"),v=_.throttle,b=m("synchronizer"),A=g("synchronizer"),w=c(),E=l.getPrefixedFunctions("synchronizer"),k=function(e,t){t.pause(),w.ios.version>0?P(e,t):O(e,t)},C=function(e,t){return null==t.getDuration()||e.getCurrentTime()<t.getDuration()},x=function(e){return e.uuid+".synchronizer.sync_via_events"},T=w.safari?1:.3,S=.5,O=function(e,t){var i=function(){var i=e.getDuration()>t.getDuration(),n=i&&e.getCurrentTime()>t.getDuration(),r="playing"===e.getPlaybackMode()&&"playing"!==t.getPlaybackMode(),o=Math.abs(e.getCurrentTime()-t.getCurrentTime());if(n){E.info("outOfBounds - pause"),t.pause();var s=Math.abs(t.getDuration()-t.getCurrentTime());return void(e.getCurrentTime()>t.getDuration()&&s>.5&&(E.info("seek to end of follower",t.getDuration()-.05),t.seek(t.getDuration()-.05)))}e.getPlaybackRate()!==t.getPlaybackRate()&&(E.info("setPlaybackRate",e.getPlaybackRate()),t.setPlaybackRate(e.getPlaybackRate())),o>T&&(E.info("timeDelta",o,"; seeking to",e.getCurrentTime()+.05),t.seek(e.getCurrentTime()+.05)),r?(E.info("playing modes different: ",e.getPlaybackMode(),"vs.",t.getPlaybackMode(),"; play"),t.play()):"playing"!==e.getPlaybackMode()&&"playing"===t.getPlaybackMode()&&(E.info("leader mode is",e.getPlaybackMode(),"; pausing"),t.pause())};i(),x(e),e.bindNamed(A,"onTimeupdate","timeupdate",i),e.bindNamed(A,"onPlaying","playing",i),e.bindNamed(A,"onWaiting","custom-waiting",i),e.bindNamed(A,"onDoneWaiting","custom-done-waiting",i),e.bindNamed(A,"onPause","pause",i),e.bindNamed(A,"onRatechange","ratechange",i)},P=function(e,t){var i=function i(){A(e).syncingViaAnimationFrame&&("beforeplay"===t.getPlaybackMode()?t.seek(e.getCurrentTime()):t.setCurrentTime(e.getCurrentTime()),h(i))};A(e).syncingViaAnimationFrame=!0,h(i)},M=function(e){var t=x(e);e.unbindAllInNamespace(t),y("synchronizer",e)};e.exports={synchronize:k,unsynchronize:M}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(47),a=n(s),l=i(14),u=n(l),c=i(3),d=n(c),h=i(429),p=n(h),f=i(430),m=n(f),g=i(428),y=n(g),_=i(426),v=i(4),b=n(v),A=i(2),w=n(A),E=i(89),k=n(E),C=i(11),x=n(C),T=i(91),S=d.default,O={easing:"cubic-bezier(0.19, 1, 0.22, 1)",time:400},P="primary",M="secondary",I="split",B=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.uuid=(0,u.default)("wistia_two_stroke_video_"),this.root=t,this.container=this.createContainerElem(),b.default.elemAppend(this.root,this.container),this.mediaData=i,this.allAssets=i.assets,this.attributes=n,this.primaryVideoAspect=x.default.videoAspect(this.allAssets),m.default.init(this),p.default.init(this),y.default.setup(this),this.sync(),this.fit()}return o(e,[{key:"createContainerElem",value:function(){return b.default.elemFromObject({id:this.uuid+"_root",class:"w-two-stroke-root",style:{display:"block",overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}})}},{key:"showPrimary",value:function(e,t){(0,v.elemAnimate)(this.primaryRoot,{left:0,width:"100%"},t),(0,v.elemAnimate)(this.secondaryRoot,{top:0,left:"-33%",width:"33%",height:"100%"},t),this.scaleAndTranslate(e,t)}},{key:"showSecondary",value:function(e,t){(0,v.elemAnimate)(this.primaryRoot,{left:"100%",width:"100%"},t),(0,v.elemAnimate)(this.secondaryRoot,{top:0,left:0,width:"100%",height:"100%"},t)}},{key:"showBoth",value:function(e,t){(0,v.elemAnimate)(this.primaryRoot,{left:"33%",width:"67%"},t),(0,v.elemAnimate)(this.secondaryRoot,this.secondaryVideoStylesForSplitLayout(),t),this.scaleAndTranslate(e,t)}},{key:"setLayout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&e.type||(e={type:e}),i||!w.default.equalsDeep(e,this.attributes.layout)){this.setAttributes({layout:w.default.clone(e)});var n=w.default.merge({},O,t);this.isLayout(e,"primary")?this.showPrimary(e,n):this.isLayout(e,"secondary")?this.showSecondary(e,n):(this.isLayout(e,"split"),this.showBoth(e,n))}}},{key:"onWidthChange",value:function(e){this.setAttributes({width:e}),this.fit()}},{key:"onHeightChange",value:function(e){this.setAttributes({height:e}),this.fit()}},{key:"primaryHeightPercent",value:function(){return this.attributes.width/this.attributes.height/this.primaryVideoAspect}},{key:"fit",value:function(){var e=this.primaryHeightPercent(),t=(1-e)/2;(0,v.elemStyle)(this.container,{top:100*t+"%",height:100*e+"%"}),this.primaryVideo.fit(),this.secondaryVideo.fit(),this.setLayout(this.attributes.layout,!1,!0)}},{key:"setAttributes",value:function(e){w.default.assign(this.attributes,e),this.primaryVideo.setAttributes(e),this.secondaryVideo.setAttributes(e)}},{key:"setTrim",value:function(e){this.primaryVideo.setTrim(e),this.secondaryVideo.setTrim(e)}},{key:"isSourceOfBrowserEvent",value:function(e){return this.primaryVideo.isSourceOfBrowserEvent(e)||this.secondaryVideo.isSourceOfBrowserEvent(e)}},{key:"isMuted",value:function(){return this.primaryVideo.isMuted()&&this.secondaryVideo.isMuted()}},{key:"secondaryVideoStylesForSplitLayout",value:function(){var e=this.attributes.layout&&this.attributes.layout.scale||1,t=Math.min(.67*e,1);return{top:(1-t)/2*100+"%",left:0,width:100*(1-.67)+"%",height:100*t+"%"}}},{key:"showFirstFrame",value:function(){var e=this;this.desync(),a.default.all([this.primaryVideo.showFirstFrame(),this.secondaryVideo.showFirstFrame()]).then(function(){return e.sync()})}},{key:"diagnosticData",value:function(){return{primaryVideo:this.primaryVideo.diagnosticData(),secondaryVideo:this.secondaryVideo.diagnosticData(),attributes:this.attributes,state:this.state}}},{key:"desync",value:function(){(0,_.unsynchronize)(this.secondaryVideo,this.primaryVideo)}},{key:"sync",value:function(){(0,_.synchronize)(this.secondaryVideo,this.primaryVideo)}},{key:"isLayout",value:function(e,t){return e===t||!(!e||!e.type||e.type!==t)}},{key:"scaleAndTranslate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=100*(e.scale||1),n=100*(e.x||0)-(i-100)/2,r=100*(e.y||0)-(i-100)/2;(0,v.elemAnimate)(this.primaryVideo.videoElem(),{position:"relative",left:n+"%",top:r+"%",width:i+"%",height:i+"%"},t)}}]),e}(),D=["selectableAssets","selectedAsset","currentAsset","defaultAsset","changeStream","changeStreamWithoutLoad"];(0,T.delegateMethods)(D,B.prototype,function(){return this.primaryVideo}),k.default.delegatePublicMethods(B.prototype,function(){return this.secondaryVideo}),e.exports=B},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(2),o=n(r),s=function(e){if(null!=e.attributes.layoutTiming)for(var t=o.default.sort(e.attributes.layoutTiming,"time"),i=0;i<t.length;i++){var n=t[i],r=t[i+1];l(e,n,r)}},a=-.15,l=function(e,t,i){e.bind("timeupdate",function(){var n=e.getCurrentTime();n>=t.time+-.15&&(!i||n<i.time+-.15)&&(t.time<=.5?e.setLayout(t.layout,{time:0}):e.setLayout(t.layout))})};e.exports={setup:s}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(4),a=n(s),l=i(2),u=n(l),c=i(76),d=n(c),h=i(201),p=n(h),f=i(6),m=o.default,g=(0,f.cachedDetect)(),y=function(e){var t=v(e),i=A(e),n=w(e);e.primaryRoot=_(e),a.default.elemAppend(e.container,e.primaryRoot),e.primaryVideo=new t(e.primaryRoot,i,n),E(e.primaryVideo)&&e.primaryVideo.setVolume(0)},_=function(e){return a.default.elemFromObject({id:e.uuid+"_primary",class:"w-two-stroke-primary",style:{display:"block",height:"100%",left:0,overflow:"hidden",position:"absolute",top:0,width:"100%"}})},v=function(e){if(g.browser.msie||g.trident||g.edge)return p.default;var t=d.default.buildContext(),i=A(e),n=w(e);return d.default.bestUsableEngineClass(t,i,n)},b=function(e){return u.default.clone(e.allAssets)},A=function(e){var t=u.default.except(e.mediaData,["secondaryMediaData"]);return t.assets=b(e),t},w=function(e){return u.default.assign(e.attributes,{playsinline:!0,fitStrategy:"contain",duration:A(e).duration,muted:E(e)})},E=function(e){var t=e.attributes;return null!=t.mutePrimary?t.mutePrimary:g.ios.version>0};e.exports={init:y,createRootElem:_,engineClass:v,primaryAssets:b,primaryAttributes:w}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=o.default,a=s.lib("player/lib/elem"),l=s.lib("utilities/obj"),u=s.lib("player/lib/judy"),c=s.lib("player/engines/manual_quality_video"),d=s.lib("utilities/detect"),h=d.cachedDetect,p=h(),f=function(e){var t=g(e),i=_(e),n=v(e);e.secondaryRoot=m(e),a.elemAppend(e.container,e.secondaryRoot),e.secondaryVideo=new t(e.secondaryRoot,i,n)},m=function(e){return a.elemFromObject({id:e.uuid+"_secondary",class:"w-two-stroke-secondary",style:{display:"block",height:"100%",left:"-33%",overflow:"hidden",position:"absolute",top:0,width:"33%"}})},g=function(e){if(p.browser.msie||p.trident||p.edge)return c;var t=u.buildContext(),i=_(e),n=v(e);return u.bestUsableEngineClass(t,i,n)},y=function(e){return l.clone(e.attributes.secondaryMediaData.assets)},_=function(e){var t=l.clone(e.attributes.secondaryMediaData);return t.assets=y(e),t},v=function(e){return l.assign(l.except(e.attributes,["secondaryMediaData"]),{playsinline:!0,fitStrategy:"cover",duration:_(e).duration,muted:b(e)})},b=function(e){var t=e.attributes;return null!=t.muteSecondary&&t.muteSecondary};e.exports={init:f,createRootElem:m,engineClass:g,secondaryAssets:y,secondaryAttributes:v}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(416),o=n(r);t.default={mount:o.default}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(61),c=r(u),d=i(433),h=n(d),p=function(e,t){return function(t){function i(){return o(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))}return a(i,t),l(i,[{key:"scaleFactor",value:function(){return this.props.scaleFactor||1}},{key:"framesPerRow",value:function(){return this.props.framesPerRow||10}},{key:"targetAspectRatio",value:function(){return this.props.targetAspectRatio||this.originalAspectRatio()}},{key:"targetWidth",value:function(){return this.props.targetWidth||200}},{key:"shouldLoadStoryboard",value:function(){var e=this.props.shouldLoadStoryboard;return void 0==e||e}},{key:"originalAspectRatio",value:function(){var e=this.props;return e.frameWidth/e.frameHeight}},{key:"storyboardViewerStyles",value:function(){var e=this.scaleFactor(),t=this.viewerDimensions(),i=t.viewerWidth,n=t.viewerHeight,r={width:i*e+"px",height:n*e+"px"};return(0,c.default)({},h.storyboardViewer,r)}},{key:"viewerDimensions",value:function(){var e=this.targetWidth()/this.targetAspectRatio();return{viewerWidth:this.targetWidth(),viewerHeight:e}}},{key:"storyboardViewerStoryboardStyles",value:function(){var e=this.propsToCoverViewerWithImage(),t=e.height,i=e.width,n=e.left,r=e.top,o={width:i,height:t,left:n,top:r,backgroundImage:this.backgroundImage(),backgroundPosition:this.backgroundPosition(),backgroundSize:this.backgroundSize()};return(0,c.default)({},h.storyboardViewerStoryboard,o)}},{key:"backgroundImage",value:function(){var e=this.props.storyboardUrl;return this.shouldLoadStoryboard()?"url("+e+")":""}},{key:"propsToCoverViewerWithImage",value:function(){var e=this.viewerDimensions(),t=e.viewerHeight,i=e.viewerWidth,n=this.scaledStoryboardDimensions(),r=n.scaledHeight,o=n.scaledWidth;return{width:o,height:r,top:(t-r)/2,left:(i-o)/2}}},{key:"scaledStoryboardDimensions",value:function(){var e=this.viewerDimensions(),t=e.viewerHeight,i=e.viewerWidth,n=t,r=i;return this.targetAspectRatio()>this.originalAspectRatio()?n=i/this.originalAspectRatio():r=t*this.originalAspectRatio(),{scaledHeight:n,scaledWidth:r}}},{key:"backgroundPosition",value:function(){var e=this.props,t=e.percent,i=e.frameCount,n=(e.frameHeight,e.frameWidth,Math.floor(t*i));return this.frameToPosition(n)}},{key:"frameToPosition",value:function(e){var t=this.propsToCoverViewerWithImage(),i=t.height,n=t.width,r=this.props,o=(r.frameHeight,r.frameWidth,e%this.framesPerRow()),s=Math.floor(e/this.framesPerRow());return-n*o*this.scaleFactor()+"px "+-i*s*this.scaleFactor()+"px"}},{key:"backgroundSize",value:function(){var e=this.props.frameHeight,t=this.propsToCoverViewerWithImage(),i=t.height,n=i/e,r=this.props,o=r.storyboardWidth,s=r.storyboardHeight;return o*n*this.scaleFactor()+"px "+Math.floor(s*n*this.scaleFactor())+"px"}},{key:"render",value:function(){return e.createElement("div",{style:this.storyboardViewerStyles(),className:"w-storyboard-viewer"},e.createElement("div",{style:this.storyboardViewerStoryboardStyles(),className:"w-storyboard-viewer__storyboard"}))}}]),i}(t)};t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.storyboardViewer={position:"relative",overflow:"hidden"},n=t.storyboardViewerStoryboard={position:"absolute",top:0,left:0}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.mount=void 0;var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=i(5),u=i(9),c=i(12),d=i(188),h=n(d),p=i(414),f=n(p),m=i(21),g=n(m),y=i(287),_=n(y),v=i(23),b=function(e){var t=g.default.accessors.getEmbedOption("hasBigPlayButtonTime",e),i=(0,v.niceDuration)(g.default.accessors.getVideoLength(e));return!!t&&i},A=function(e){var t=_.default.accessors.getIsMenuOpen(e),i=_.default.accessors.getIsVisible(e);return t&&i},w=function(e){return{isVisible:g.default.accessors.getHasBigPlayButton(e),hasBeenClicked:g.default.accessors.getHasBeenClicked(e),color:g.default.accessors.getPlayerColor(e),menuWidth:_.default.accessors.getMenuWidth(e),isMenuEnabledAndOpen:A(e),bottomText:b(e),videoWidth:g.default.accessors.getVideoWidth(e),videoHeight:g.default.accessors.getVideoHeight(e),isInFullscreen:g.default.accessors.getIsInFullscreen(e),areControlsVisible:g.default.accessors.getAreControlsVisible(e),uuid:g.default.accessors.getUUID(e)}},E=function(e){return(0,c.bindActionCreators)({startPlay:g.default.actions.startPlay,setHasBeenClicked:g.default.actions.setHasBeenClicked},e)},k=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"onClick",value:function(){this.props.startPlay(this.props.uuid),this.props.setHasBeenClicked(!0)}},{key:"rightOffset",value:function(){var e=this.props,t=e.isMenuEnabledAndOpen,i=e.menuWidth;return t?i+"px":"0px"}},{key:"render",value:function(){var e=this.props,t=e.isVisible,i=e.color,n=e.bottomText,r=e.hasBeenClicked,o=e.menuWidth,s=e.isMenuEnabledAndOpen,a=e.videoWidth,u=e.videoHeight,c=e.isInFullscreen,d=e.areControlsVisible;if(!s||o)return(0,l.h)(f.default,{isVisible:t&&!r,color:i,right:this.rightOffset(),shouldTransition:!0,bottomText:n,videoWidth:a,videoHeight:u,isInFullscreen:c,areControlsVisible:d,onClick:this.onClick.bind(this)})}}]),t}(l.Component),C=(0,u.connect)(w,E)(k),x=(0,h.default)(C),T=t.mount=function(e,t){var i=(0,l.render)((0,l.h)(x,{instanceId:t}),e);return function(){(0,l.render)("<nothing />",e,i)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(434);t.default={mount:n.mount}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,i){var n=(0,c.render)((0,c.h)(B,{instanceId:t,playerDataFn:i}),e);return function(){(0,c.render)("<nothing />",e,n)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();t.default=l;var c=i(5),d=i(9),h=i(12),p=i(188),f=r(p),m=i(21),g=r(m),y=i(411),_=n(y),v=i(412),b=n(v),A=i(25),w=r(A),E=i(61),k=r(E),C=i(324),x=r(C),T=function(e){return{isOpen:_.getIsOpen(e),isHidden:_.getIsHidden(e),formFeedbackType:_.getFormFeedbackType(e),formFeedbackText:_.getFormFeedbackText(e),submitFormDataPhase:_.getSubmitFormDataPhase(e),description:_.getDescription(e),category:_.getCategory(e)}},S=function(e){var t=(0,x.default)(b,["setIsOpen","setIsHidden","submitFormData","resetForm","setFormFeedback","setCategory","setDescription"]);return(0,h.bindActionCreators)(t,e)},O="Please select a category",P="Please add details",M=function(e){function t(e){o(this,t);var i=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.onClickRoot=function(e){e.stopPropagation()},i.onClickCancel=function(e){e.preventDefault(),i.props.setIsOpen(!1)},i.onClickSend=function(e){e.preventDefault(),""===i.categoryElem.value?i.props.setFormFeedback("error",O):"other"==i.categoryElem.value&&""==i.descriptionElem.value?i.props.setFormFeedback("error",P):i.props.submitFormData(i.getFormData())},i.onClickDismiss=function(e){e.preventDefault(),i.props.setIsOpen(!1),setTimeout(function(){i.props.resetForm(),i.props.setFormFeedback("blank",""),i.props.setCategory(""),i.props.setDescription("")},250)},i.onCategoryChange=function(e){var t=i.categoryElem.value;i.props.setCategory(t),""!=t&&i.props.formFeedbackText==O&&i.props.setFormFeedback("blank","")},i.onDescriptionChange=function(e){var t=i.descriptionElem.value;i.props.setDescription(t),""!=t&&i.props.formFeedbackText==P&&i.props.setFormFeedback("blank","")},i}return a(t,e),u(t,[{key:"topLevelClasses",value:function(){return w.default.classListToString(["w-report-a-problem",this.props.isOpen?"w-is-visible":"w-is-transparent",this.props.isHidden?"w-is-hidden":""])}},{key:"moveContainerOffVideoAfterAnim",value:function(){var e=this;this.cancelMovingContainer(),this.props.isHidden||(this.hideTimeout=setTimeout(function(){e.props.setIsHidden(!0)},250))}},{key:"cancelMovingContainer",value:function(){clearTimeout(this.hideTimeout)}},{key:"getFormData",value:function(){var e={category:this.categoryElem.value,description:this.descriptionElem.value};return(0,k.default)({},e,this.props.playerDataFn(e))}},{key:"formFeedbackClasses",value:function(){return w.default.classListToString(["w-report-a-problem__form-feedback","w-report-a-problem__form-feedback--"+this.props.formFeedbackType])}},{key:"categoryClasses",value:function(){var e=this.props.formFeedbackText==O;return w.default.classListToString(["w-report-a-problem__category",e?"w-report-a-problem__category--error":""])}},{key:"descriptionClasses",value:function(){var e=this.props.formFeedbackText==P;return w.default.classListToString(["w-report-a-problem__description",e?"w-report-a-problem__description--error":""])}},{key:"formContentClasses",value:function(){var e="succeeded"==this.props.submitFormDataPhase;return w.default.classListToString(["w-report-a-problem__form-content",e?"w-report-a-problem__form-content--disabled":""])}},{key:"componentDidUpdate",value:function(e){this.props.isOpen?this.cancelMovingContainer():!this.props.isOpen&&e.isOpen&&this.moveContainerOffVideoAfterAnim()}},{key:"render",value:function(e){var t=this,i=e.submitFormDataPhase;return(0,c.h)("div",{class:this.topLevelClasses(),onClick:this.onClickRoot,ref:function(e){return t.rootContainer=e}},(0,c.h)("div",{class:"w-report-a-problem__centered-content"},(0,c.h)("div",{class:this.formContentClasses()},(0,c.h)("p",null,"Thanks for reporting a problem. We'll attach technical data about this session to help us figure out the issue. Which of these best describes the problem?"),(0,c.h)("select",{class:this.categoryClasses(),title:"Problem Category","aria-label":"Problem Category",value:this.props.category,onChange:this.onCategoryChange,disabled:"succeeded"==i,ref:function(e){return t.categoryElem=e}},(0,c.h)("option",{value:""},"Choose one"),(0,c.h)("option",{value:"stuttering"},"Video plays but frequently stutters"),(0,c.h)("option",{value:"low_quality"},"Video has poor quality"),(0,c.h)("option",{value:"fails_to_play"},"Video fails to play"),(0,c.h)("option",{value:"other"},"Other")),(0,c.h)("p",null,"Any other details or context?"),(0,c.h)("textarea",{class:this.descriptionClasses(),title:"Problem Description","aria-label":"Problem Description",value:this.props.description,disabled:"succeeded"==i,onChange:this.onDescriptionChange,ref:function(e){return t.descriptionElem=e}})),"succeeded"==i?this.buttonsAfterSend():this.buttonsBeforeSend()))}},{key:"buttonsBeforeSend",value:function(){return(0,c.h)("div",{class:"w-report-a-problem__button-row"},(0,c.h)("div",{class:this.formFeedbackClasses()},this.props.formFeedbackText),(0,c.h)("a",{href:"#",class:"w-report-a-problem__cancel",onClick:this.onClickCancel},"Cancel"),(0,c.h)("button",{class:"w-report-a-problem__send",onClick:this.onClickSend},"posting"==this.props.submitFormDataPhase?"Sending...":"Send"))}},{key:"buttonsAfterSend",value:function(){return(0,c.h)("div",{class:"w-report-a-problem__button-row"},(0,c.h)("div",{class:this.formFeedbackClasses()},this.props.formFeedbackText),(0,c.h)("button",{class:"w-report-a-problem__dismiss",onClick:this.onClickDismiss},"Dismiss"))}}]),t}(c.Component),I=(0,d.connect)(T,S)(M),B=(0,f.default)(I)},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=i(436),s=r(o),a=i(412),l=n(a),u=i(411),c=n(u);t.default={accessors:c,actions:l,mount:s.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.logImpressions=function(e,t,i){e.chapters.getIsVisible()&&t.logAction("chapterImpression",{uniqueToVisitor:!0,type:"impression",category:"chapter"}),i.plugin&&i.plugin.share&&t.logAction("shareImpression",{uniqueToVisitor:!0,type:"impression",category:"share"})}},,function(e,t,i){!function(e){Object.defineProperties&&e.detect.nativeHls&&!e.NativeHlsVideo&&(e.NativeHlsVideo=i(425))}(Wistia),function(e){e.plugin("nativeHlsVideo",function(t,i){return e.info("loaded dummy nativeHlsVideo plugin",t,i),{}})}(Wistia)},function(e,t,i){var n,r,o,s,a,l,u,c,d=function(e,t){return function(){return e.apply(t,arguments)}};u=i(297),a=i(25).default.bindActionsToStore,s=i(25).default.bindAccessorsToStore,l=i(298).default,c=i(403),n=c.KEY_CODE_ENTER,o=c.KEY_CODE_TAB,r=c.KEY_CODE_SPACE,function(e){e.Vulcan.AccessibilityHelper=function(){function t(e){var t;this.player=e,this._onFocus=d(this._onFocus,this),this._onMousedown=d(this._onMousedown,this),this._onKeypress=d(this._onKeypress,this),this._onFocusChange=d(this._onFocusChange,this),this._focusInPlayer=d(this._focusInPlayer,this),t="Wistia Video Player - "+this.player._mediaData.name,this.player.chrome.setAttribute("tabindex",0),this.player.chrome.setAttribute("aria-label",t),this._setupBindings()}return t.prototype.ACCESSIBILITY_CLASS_NAME="is-keyboard-focused",t.prototype.destroy=function(){return this._removeBindings(),this.player=null},t.prototype._setupBindings=function(){return e.elem.bind(this.player.chrome,"keydown",this._onKeypress,!0),e.elem.bind(this.player.chrome,"mousedown",this._onMousedown),e.elem.bind(this.player.chrome,"focus",this._onFocus),e.elem.bind(document,"focus",this._onFocusChange,!0)},t.prototype._removeBindings=function(){var t;return(null!=(t=this.player)?t.chrome:void 0)&&(e.elem.unbind(this.player.chrome,"keydown",this._onKeypress,!0),e.elem.unbind(this.player.chrome,"mousedown",this._onMousedown),e.elem.unbind(this.player.chrome,"focus",this._onFocus)),e.elem.unbind(document,"focus",this._onFocusChange,!0)},t.prototype._focusInPlayer=function(){
return e.elem.isDescendantOf(document.activeElement,this.player.chrome)||document.activeElement===this.player.chrome},t.prototype._onFocusChange=function(){var e,t,i,n;return this._focusInPlayer()?(this._listenForKeybindings(),(n=null!=(t=document.activeElement)&&null!=(i=t.dataset)?i.tabto:void 0)?(e=this.player.chrome.querySelector(n),null!=e?e.focus():void 0):void 0):this._stopListeningForKeybindings()},t.prototype._onKeypress=function(e){var t;if(t=e.keyCode,-1!==[n,r,o].indexOf(t))return this._activate()},t.prototype._onMousedown=function(){return this._deactivate()},t.prototype._onFocus=function(){if(!e.detect.touchScreen)return this.player.forceShowControls()},t.prototype._activate=function(){return e.elem.addClass(this.player.playerElem(),this.ACCESSIBILITY_CLASS_NAME),this.player._keyBindingsActive=!0},t.prototype._deactivate=function(){return e.elem.removeClass(this.player.playerElem(),this.ACCESSIBILITY_CLASS_NAME)},t.prototype._listenForKeybindings=function(){return this.player._keyBindingsActive=!0},t.prototype._stopListeningForKeybindings=function(){return this.player._keyBindingsActive=!1},t}()}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty;!function(e){var t;e.Vulcan.AirplayButton||(t=i(22).fitControl,e.Vulcan.AirplayButton=function(i){function o(e,t){this.video=e,this._toggleOnClick=n(this._toggleOnClick,this),this.fit=n(this.fit,this),this.availabilityChanged=n(this.availabilityChanged,this),this.name="airplayButton",t.tagName="button",o.__super__.constructor.call(this,this.video,t),this.setInitialStyles(),this.setupBindings()}return r(o,i),o.prototype.setInitialStyles=function(){return e.elem.style(this.elem,{position:"relative"}),this.elem.style.mozUserSelect="none",this.elem.style.msUserSelect="none",this.elem.style.webkitUserSelect="none",this.elem.style.webkitTouchCallout="none",this.elem.setAttribute("alt","Airplay"),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Airplay"),this.elem.setAttribute("title","Airplay"),e.elem.addClass(this.elem,"w-control--airplay"),this.iconElem.innerHTML=this.iconSVG()},o.prototype.initialize=function(){return this},o.prototype.turnOn=function(){return o.__super__.turnOn.apply(this,arguments),this.fit()},o.prototype.destroyBindings=function(){return o.__super__.destroyBindings.apply(this,arguments),e.elem.unbind(this.elem,"click",this._toggleOnClick),window.WebKitPlaybackTargetAvailabilityEvent&&this.video.engine.unbind("webkitplaybacktargetavailabilitychanged",this.availabilityChanged),this.video.unbind("heightchange",this.fit),this.video.unbind("widthchange",this.fit)},o.prototype.setupBindings=function(){return o.__super__.setupBindings.apply(this,arguments),e.elem.bind(this.elem,"click",this._toggleOnClick),window.WebKitPlaybackTargetAvailabilityEvent&&this.video.engine.bind("webkitplaybacktargetavailabilitychanged",this.availabilityChanged),this.video.bind("heightchange",this.fit),this.video.bind("widthchange",this.fit)},o.prototype.availabilityChanged=function(e){return"available"===e.availability?this.turnOn():this.turnOff()},o.prototype.destroy=function(){return this.destroyBindings(),o.__super__.destroy.apply(this,arguments)},o.prototype.fit=function(){return t(this.name,this.video,this.elem,40,34)},o.prototype._toggleOnClick=function(e){if(1===e.which)return e.stopPropagation(),this.video.engine.videoElem().webkitShowPlaybackTargetPicker()},o.prototype.iconSVG=function(){return'<svg width="40px" height="34px" viewBox="0 0 40 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="wistia_vulcan_svg_icon wistia_vulcan_svg_icon_airplay">\n  <g stroke="none" fill="none">\n    <polyline stroke="#000000" stroke-width="2" points="14.52 23 9 23 9 10 32 10 32 23 26.48 23"></polyline>\n    <polygon fill="#000000" points="20.5 20 25.5 26 15.5 26"></polygon>\n  </g>\n</svg>'},o}(e.Vulcan.Control))}(Wistia)},function(e,t,i){var n,r=function(e,t){return function(){return e.apply(t,arguments)}};n=i(447),function(e){var t;t=new n,e.Vulcan.BubbleRegion=function(){function i(e,i){this.compensateForOrigin=r(this.compensateForOrigin,this),this.showChild=r(this.showChild,this),this.toggle=r(this.toggle,this),this.name=e,this.options=this.getDefaultOptions(i),this.children=[],this.visibleChild=t,this.buildElement(),this.styleElement()}return i.prototype.getDefaultOptions=function(t){var i;return i={origin:"bottomleft",align:{right:0,bottom:0}},e.obj.merge(i,t)},i.prototype.addChild=function(e){return this.children.push(e),e.setParent(this),e.hide()},i.prototype.removeChild=function(e){return e.removeFromParent(),this.children=this.removeChildFromArray(e)},i.prototype.removeChildFromArray=function(e){return this.children.filter(function(t){return t.uuid!==e.uuid})},i.prototype.toggle=function(e,t){return e===this.visibleChild.uuid?this.hideChild(!1):this.showChild(e,t)},i.prototype.showChild=function(i,n){var r;return this.animating&&(clearTimeout(this.animating),this.hideChild(!1)),n&&this.updatePosition(n),this.visibleChild===t&&e.elem.addClass(this.elem,"w-is-visible"),r=this.children.filter(function(e){return e.uuid===i}),r.length?r===t?(this.hideChild(),r[0].show(),this.visibleChild=r[0],this.updateDimensions()):(this.hideChild(!1),r[0].show(),this.visibleChild=r[0],this.updateDimensions()):console.log("floating region couldn't find "+i)},i.prototype.hideChild=function(t){var i;return null==t&&(t=!0),this.isHidden=!0,i=200,t?(e.elem.removeClass(this.elem,"w-is-visible"),this.animating=setTimeout(function(e){return function(){return e._hideChild()}}(this),i)):this._hideChild()},i.prototype._hideChild=function(){return this.visibleChild.hide(),this.visibleChild=t,this.updateDimensions(),this.animating=!1},i.prototype.updatePosition=function(t){return null==t&&(t={}),this.options.align=e.obj.merge(this.options.align,t),this.positionElement()},i.prototype.updateDimensions=function(){return this.styleElement(),this.updatePosition()},i.prototype.buildElement=function(){var e;return this.elem=document.createElement("div"),e=["w-tooltip","w-tooltip--"+this.name],this.elem.className=e.join(" ")},i.prototype.styleElement=function(){return this.elem.style.position="absolute",this.elem.style.overflow="hidden",this.elem.style.zIndex=13,this.elem.style.width=this.width()+"px",this.elem.style.height=this.height()+"px"},i.prototype.attachToElem=function(t){return this.parentElem=t,e.elem.append(t,this.elem),this.positionElement()},i.prototype.positionElement=function(){var e,t,i,n;t=this.getProperties(),i=[];for(e in t)n=t[e],i.push(this.elem.style[e]=n+"px");return i},i.prototype.getProperties=function(){var e,t,i,n;i={},t=this.options.align;for(e in t)n=t[e],i[e]=this.compensateForOrigin(e,n);return this.ensureRequiredProps(i)},i.prototype.ensureRequiredProps=function(t){var i;return i={top:"auto",bottom:"auto",left:"auto",right:"auto"},e.obj.merge(i,t)},i.prototype.compensateForOrigin=function(t,i){var n;switch(n=0,this.options.origin){case"bottomleft":if("right"===t)return Math.max(0,i-this.width());if("top "===t)return Math.max(0,i-this.height());break;case"bottomright":if("top"===t)return Math.max(0,i-this.height());if("left"===t)return Math.max(0,i-this.width());break;case"bottomcenter":if("top"===t)return Math.max(0,i-this.height());if("left"===t)return Math.min(Math.max(n,i-this.width()/2),e.elem.width(this.parentElem)-this.width()-n);break;case"topleft":if("right"===t)return Math.max(0,i-this.width());if("bottom"===t)return Math.max(0,i-this.height());break;case"topright":if("bottom"===t)return Math.max(0,i-this.height());if("left"===t)return Math.max(0,i-this.width());break;case"topcenter":if("bottom"===t)return Math.max(0,i-this.height());if("left"===t)return Math.max(0,i-this.width()/2)}return i},i.prototype.width=function(){return this.visibleChild.width()},i.prototype.height=function(){return this.visibleChild.height()},i}()}(Wistia)},function(e,t,i){var n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty,o=[].slice;!function(e){var t;e.Vulcan.ContextMenu||(t=i(10).appHost,e.Vulcan.ContextMenu=function(i){function r(t){this.video=t,this.name="context_menu",this.showed=new Wistia.StopGo,r.__super__.constructor.call(this,this.video),e.elem.style(this.elem,{backgroundColor:"#fff",boxShadow:"0px 3px 10px rgba(0,0,0,.2)",height:"",left:"0px",lineHeight:"1.5em",position:"absolute",textShadow:"none",top:"0px",width:this.width()+"px",zIndex:1e5}),e.elem.addClass(this.elem,"w-control--context-menu w-context-menu"),e.elem.remove(this.iconElem),this.items=[],this.setupItems(),this.video.trigger("initializedContextMenu")}return n(r,i),r.prototype.initialize=function(){return this.turnOn(),this.setupBindings(),this},r.prototype.turnOn=function(){return r.__super__.turnOn.apply(this,arguments),this.hide()},r.prototype.cleanup=function(){var t,i,n,o;if(this.destroyBindings(),this.items)for(o=this.items,i=0,n=o.length;i<n;i++)t=o[i],this[t.id]=null,delete this[t.id],e.elem.unbindAll(t),e.elem.remove(t);return this.items=null,r.__super__.cleanup.apply(this,arguments)},r.prototype.destroyBindings=function(){return r.__super__.destroyBindings.apply(this,arguments),this._showContextMenuOnRightClick&&e.elem.unbind(this.video.vulcanElem,"contextmenu",this._showContextMenuOnRightClick),this._hideContextMenuOnClickOutside&&e.elem.unbind(document,"mouseup",this._hideContextMenuOnClickOutside),this.video.unbind("enter-fullscreen",this.hide),this.video.unbind("cancel-fullscreen",this.hide)},r.prototype.setupBindings=function(){return null==this._showContextMenuOnRightClick&&(this._showContextMenuOnRightClick=function(t){return function(i){return e.detect.mac&&i.altKey||!e.detect.mac&&i.ctrlKey||(i.preventDefault(),t.showed(!0),t.show(),t.repositionFromEvent(i),t._suppressHide=!0,e.timeout(t.video.uuid+".contextmenu.suppress_hide",function(){return t._suppressHide=!1},200)),!0}}(this)),e.elem.rebind(this.video.vulcanElem,"contextmenu",this._showContextMenuOnRightClick),null==this._hideContextMenuOnClickOutside&&(this._hideContextMenuOnClickOutside=function(t){return function(i){if(!t._suppressHide)return e.elem.isInside(i.target,t.elem)?void 0:t.hide()}}(this)),e.elem.rebind(document,"mouseup",this._hideContextMenuOnClickOutside),this.video.bind("enter-fullscreen",this.hide),this.video.bind("cancel-fullscreen",this.hide)},r.prototype.repositionFromEvent=function(t){var i,n,r,o,s;return s=this.video.inFullscreen()?{left:e.util.scrollLeft(),top:e.util.scrollTop()}:e.elem.offset(this.video.vulcanElem),n=t.pageX-s.left,o=t.pageY-s.top,r=n+this.width(),i=o+this.height(),r>this.video.videoWidth()&&(n-=this.width()-1),i>this.video.videoHeight()&&(o-=this.height()-1),this.elem.style.left=Math.max(0,n)+"px",this.elem.style.top=Math.max(0,o)+"px",this.fixZoom()},r.prototype.fixZoom=function(){var e;return this.elem.style.zoom=1,e=this.height()>this.video.videoHeight()?this.video.videoHeight()/this.height():1,this.elem.style.zoom=e},r.prototype.setupItems=function(){var i,n;if(n=null!=this.video._opts.showAbout?this.video._opts.showAbout:this.video._mediaData.showAbout,n&&this.appendMenuItem("aboutWistia",{tagName:"a",href:"https://wistia.com/about-wistia?about="+this.video._mediaData.accountKey.match(/\d+/)[0],target:"_blank",innerHTML:"About Wistia",class:"w-context-menu__item w-is-visible",style:{display:"block",textDecoration:"none"},events:{click:function(e){return function(t){return t.stopPropagation(),e.hide()}}(this)}}),this.video._mediaData.showAbout&&this.appendMenuItem("reportAProblem",{tagName:"a",href:"#",innerHTML:"Report a problem",class:"w-context-menu__item w-is-visible",style:{display:"block",textDecoration:"none"},events:{click:function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.hide(),e.video.ui.actions.reportAProblem.animateOpen()}}(this)}}),(e.detect.chrome||e.detect.firefox||e.detect.edge)&&(i="Copy link and thumbnail",this.appendMenuItem("copyLink",{tagName:"a",href:"#",innerHTML:i,class:"w-context-menu__item w-is-visible",style:{display:"block",textDecoration:"none"},events:{click:function(t){return function(n){return n.preventDefault(),n.stopPropagation(),e.elem.bind(document,"copy",function(n){var r,o,s,a,l;return n.preventDefault(),a=e.url.parse(location.href),a.params.wvideo=t.video.hashedId(),s=400,r=s/t.video.aspect(),o=t.video.stillUrl({videoWidth:s,videoHeight:r,playButton:!0,retina:!0}),l=e.elem.fromObject({childNodes:[{tagName:"p",childNodes:{tagName:"a",href:a.absolute(),childNodes:{tagName:"img",src:o,style:{width:s+"px",height:r+"px"},width:s,height:r}}},{tagName:"p",childNodes:{tagName:"a",href:a.absolute(),innerHTML:document.title||t.video.name()}}]}),n.clipboardData.setData("text/html",l.innerHTML),n.clipboardData.setData("text/plain",l.innerHTML),t.copyLink.innerHTML="Copied!",e.timeout(t.video.uuid+".context_menu_copied",function(){return t.copyLink.innerHTML=i,t.hide()},1e3),e.elem.unbind}),document.execCommand("copy")}}(this)}})),this.showed(function(i){return function(){return e.jsonp.get("https://"+t()+"/media_url",{hashed_id:i.video.hashedId()},function(t){var n,r;if(t.logged_in&&!i.onPageUrl(t.media_url))return r=t.whitelabel?"View stats in account":"View stats in Wistia",i.prependMenuItem("viewStatsInWistia",{tagName:"a",href:t.stats_url,target:"_blank",innerHTML:r,style:{display:"block",textDecoration:"none"},events:{click:function(e){return e.stopPropagation(),i.hide()}}}),r=t.whitelabel?"Open video in account":"Open video in Wistia",i.prependMenuItem("viewInWistia",{tagName:"a",href:t.media_url,target:"_blank",innerHTML:r,style:{display:"block",textDecoration:"none"},events:{click:function(e){return e.stopPropagation(),i.hide()}}}),n=t.whitelabel?"Logged In to Account":"Logged In to Wistia",e.elem.remove(i.aboutWistia),i.prependMenuItem("loggedIn",{innerHTML:n,class:"w-context-menu__item w-context-menu__item--title w-is-visible is-disabled",events:{click:function(e){return e.stopPropagation(),i.hide()}}}),i.fixZoom()})}}(this)),this.video.hdAsset()&&"hd-only"===this.video._opts.videoQuality)return this.activateItem("hdOnly"),this.deactivateItems("autoHd","sdOnly")},r.prototype.newMenuItem=function(t,i){var n;return n=e.elem.fromObject(i),e.elem.addClass(n,t),e.elem.addClass(n,"w-context-menu__item"),e.elem.addClass(n,"w-context-menu__item--"+t),e.elem.bind(n,"mousedown",function(e){return e.preventDefault()}),this[t]=n,this.items.push(n),n},r.prototype.prependMenuItem=function(t,i){var n;return n=this.newMenuItem(t,i),e.elem.prepend(this.elem,n)},r.prototype.appendMenuItem=function(t,i){var n;return n=this.newMenuItem(t,i),e.elem.append(this.elem,n)},r.prototype.onPageUrl=function(t){var i,n;return n=e.url.parse(location.href),i=e.url.parse(t),n._opts={},n.protocol="http:",i._opts={},i.protocol="http:",n.absolute()===i.absolute()},r.prototype.addHr=function(){return e.elem.append(this.elem,e.elem.fromObject({style:{fontSize:"0px",height:"0px",lineHeight:"0px",borderTop:"1px solid #e8e8e8",margin:"1px 0"}}))},r.prototype.activateItem=function(e){var t;return null!=(t=document.getElementById(e+"Bullet"))?t.innerHTML="&#9679;":void 0},r.prototype.deactivateItem=function(e){var t;return null!=(t=document.getElementById(e+"Bullet"))?t.innerHTML="&#9675;":void 0},r.prototype.deactivateItems=function(){var e,t,i,n,r;for(n=1<=arguments.length?o.call(arguments,0):[],r=[],e=0,t=n.length;e<t;e++)i=n[e],r.push(this.deactivateItem(i));return r},r.prototype.assets=function(){return this._assets||(this._assets=this.video.assets({container:"mp4",sortBy:"width asc, bitrate desc",unique:"width",public:!0}))},r.prototype.activateAsset=function(e){return this.playingIn.innerHTML=this.playingInText(e),this.activateItem(e.slug),this.deactivateAssetsExcept(e)},r.prototype.deactivateAsset=function(e){return this.deactivateItem(e.slug)},r.prototype.deactivateAssets=function(){var e,t,i,n,r;for(n=this.assets(),r=[],t=0,i=n.length;t<i;t++)e=n[t],r.push(this.deactivateAsset(e));return r},r.prototype.deactivateAssetsExcept=function(e){var t,i,n,r,o;for(r=this.assets(),o=[],i=0,n=r.length;i<n;i++)t=r[i],t.url!==e.url?o.push(this.deactivateAsset(t)):o.push(void 0);return o},r.prototype.playingInText=function(e){return"Playing in <span class='playingInName'>"+this.assetName(e)+"</span>"},r.prototype.assetName=function(e){return e&&e.display_name?e.display_name:"?"},r.prototype.hideItem=function(t){return e.elem.removeClass(this[t],"w-is-visible")},r.prototype.showItem=function(t){return e.elem.addClass(this[t],"w-is-visible")},r.prototype.visibleItems=function(){var e,t,i,n,r;for(n=this.items,r=[],t=0,i=n.length;t<i;t++)e=n[t],"none"!==e.style.display&&r.push(e);return r},r.prototype.height=function(){return e.elem.height(this.elem)},r.prototype.width=function(){return 200},r.prototype.updateColor=function(){},r.prototype.destroy=function(){return this.cleanup(),this.destroyBindings(),r.__super__.destroy.apply(this,arguments)},r}(e.Vulcan.Control))}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty;!function(e){var t;e.Vulcan.FullscreenButton||(t=i(22).fitControl,e.Vulcan.FullscreenButton=function(i){function o(e,t){this.video=e,this._toggleOnClick=n(this._toggleOnClick,this),this.fit=n(this.fit,this),this.name="fullscreenButton",t.tagName="button",o.__super__.constructor.call(this,this.video,t),this.setInitialStyles(),this.setupBindings()}return r(o,i),o.prototype.setInitialStyles=function(){return e.elem.style(this.elem,{position:"relative"}),this.elem.style.mozUserSelect="none",this.elem.style.msUserSelect="none",this.elem.style.webkitUserSelect="none",this.elem.style.webkitTouchCallout="none",this.elem.setAttribute("alt","Fullscreen - click to toggle"),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Fullscreen"),this.elem.setAttribute("title","Fullscreen"),e.elem.addClass(this.elem,"w-control--fullscreen"),this.iconElem.innerHTML=this.iconSVG()},o.prototype.initialize=function(){return this.shouldShowControl()&&this.video.ui.still.loaded(function(e){return function(){return e.turnOn()}}(this)),this},o.prototype.shouldShowControl=function(){return e.util.notSetOrTrue(this.video._opts.fullscreenButton)&&this.canFullScreen()},o.prototype.destroyBindings=function(){return o.__super__.destroyBindings.apply(this,arguments),this.video.unbind("heightchange",this.fit),this.video.unbind("widthchange",this.fit),e.elem.unbind(this.elem,"click",this._toggleOnClick)},o.prototype.setupBindings=function(){return o.__super__.setupBindings.apply(this,arguments),this.video.bind("heightchange",this.fit),this.video.bind("widthchange",this.fit),e.elem.bind(this.elem,"click",this._toggleOnClick)},o.prototype.destroy=function(){return this.destroyBindings(),o.__super__.destroy.apply(this,arguments)},o.prototype.fit=function(){return t(this.name,this.video,this.elem,40,34)},o.prototype._toggleOnClick=function(e){if(1===e.which)return e.stopPropagation(),this.video.inFullscreen()?this.video.cancelFullscreen():this.video.requestFullscreen()},o.prototype.iconSVG=function(){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 27.5 19.5" enable-background="new 0 0 27.5 19.5" xml:space="preserve" class="wistia_vulcan_svg_icon wistia_vulcan_svg_icon_fullscreen">\n  <g>\n    <polyline fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="26.8,5.1 26.8,0.8 20.5,0.8"/>\n    <polyline fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="7,0.8 0.7,0.8 0.7,5.1"/>\n    <polyline fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="20.5,18.8 26.8,18.8 26.8,14.4\t"/>\n    <polyline fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="0.7,14.4 0.7,18.8 7,18.8"/>\n  </g>\n  <rect x="5.8" y="4.8" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" width="16" height="10"/>\n</svg>\n'},o.prototype.turnOn=function(){return this.canFullScreen()&&o.__super__.turnOn.apply(this,arguments),this.fit()},o.prototype.canFullScreen=function(){return e.detect.fullscreenEnabled||e.detect.ios.version>0},o}(e.Vulcan.Control))}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan||(e.Vulcan={}),e.Vulcan.HoverEvent=function(){function t(e){this.elem=e,this.onMouseOut=i(this.onMouseOut,this),this.onMouseOver=i(this.onMouseOver,this),this.destroy=i(this.destroy,this),this.setupBindings()}return t.prototype.destroy=function(){return this.destroyBindings()},t.prototype.setupBindings=function(){return e.elem.bind(this.elem,"mouseover",this.onMouseOver),e.elem.bind(this.elem,"mouseout",this.onMouseOut)},t.prototype.destroyBindings=function(){return e.elem.unbind(this.elem,"mouseover",this.onMouseOver),e.elem.unbind(this.elem,"mouseout",this.onMouseOut)},t.prototype.onMouseOver=function(e){var t;for(t=e.relatedTarget;null!==t;){if(t===this.elem)return;t=t.parentNode}return this.trigger("hoverstart",e)},t.prototype.onMouseOut=function(e){var t;for(t=e.relatedTarget;null!==t;){if(t===this.elem)return;t=t.parentNode}return this.trigger("hoverend",e)},t}(),e.mixin(e.Vulcan.HoverEvent.prototype,e.bindable)}(Wistia)},function(e,t){var i;i=function(){function e(){}return e.prototype.toggle=function(){},e.prototype.width=function(){return 0},e.prototype.height=function(){return 0},e.prototype.hide=function(){},e.prototype.show=function(){},e.prototype.setParent=function(){},e.prototype.uuid=-1,e.prototype.updateState=function(){},e.prototype.bind=function(){},e.prototype.hideFromParent=function(){},e.prototype.showFromParent=function(){},e.prototype.removeFromParent=function(){},e}(),e.exports=i},function(e,t,i){var n,r,o,s=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function i(){this.constructor=e}for(var n in t)l.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},l={}.hasOwnProperty;r=i(287).default,o=i(294).default,n=i(25).default.bindActionsToStore,function(e){var t;e.Vulcan.Playbar||(t=function(){function e(){}return e.prototype.updateState=function(){return{}},e.prototype.getState=function(){return null},e.prototype.destroy=function(){return{}},e.prototype.loadSprite=function(){return{}},e}(),e.Vulcan.PlaybarControl=function(i){function l(t,i){this.video=t,this.updateProgressLoop=s(this.updateProgressLoop,this),this.onSwitchedToAsset=s(this.onSwitchedToAsset,this),this.onSeek=s(this.onSeek,this),this.updateTimeToPercent=s(this.updateTimeToPercent,this),this.onMouseDown=s(this.onMouseDown,this),this.onTouchEnd=s(this.onTouchEnd,this),this.onTouchMove=s(this.onTouchMove,this),this.onTouchStart=s(this.onTouchStart,this),this.percentFromMouseEvent=s(this.percentFromMouseEvent,this),this.onKeyboardTimechange=s(this.onKeyboardTimechange,this),this.onHoveringMousemove=s(this.onHoveringMousemove,this),this.onHoverEnd=s(this.onHoverEnd,this),this.onHoverStart=s(this.onHoverStart,this),this.onHeightChange=s(this.onHeightChange,this),this.onWidthChange=s(this.onWidthChange,this),this.onCancelFullscreen=s(this.onCancelFullscreen,this),this.onEnterFullscreen=s(this.onEnterFullscreen,this),this.onEnterVideo=s(this.onEnterVideo,this),this.startProgressLoop=s(this.startProgressLoop,this),this.hideStoryboard=s(this.hideStoryboard,this),this.initActionsAndAccessors(this.video.uuid),this._tweenBufferTime=0,this._tweenBufferStart=0,this._tweenBufferChange=0,this._lastPercentBuffered=0,this.name="playbarControl",l.__super__.constructor.call(this,this.video,i),this.setAttributes(),e.elem.removeClass(this.elem,"wistia_vulcan_control"),e.elem.addClass(this.elem,"w-control--playbar"),this.view=new e.Vulcan.PlaybarView(this.elem),this.unmountPlaybarIndicators=r.mountPlaybarIndicators(this.elem,this.video.uuid),this.hoverEvent=new e.Vulcan.HoverEvent(this.elem)}var u;return a(l,i),u=12,l.prototype.destroy=function(){var e;return this.unmountPlaybarIndicators(),null!=(e=this.storyboard)&&e.destroy(),this.view.destroy(),l.__super__.destroy.call(this),this.view=this.storyboard=this.hoverEvent=null},l.prototype.initActionsAndAccessors=function(e){return this.actions=n(e,{playbar:o.actions})},l.prototype.show=function(){if(this.shouldShow())return this._showing=!0,e.elem.addClass(this.elem,"w-is-visible"),this.actions.playbar.setWidth(this.width())},l.prototype.hide=function(){return this._showing=!1,e.elem.removeClass(this.elem,"w-is-visible"),this.hideStoryboard()},l.prototype.hideStoryboard=function(){return this.storyboard.updateState({visible:!1})},l.prototype.setAttributes=function(){return this.elem.setAttribute("alt","Playbar - click to seek"),e.elem.addClass(this.elem,"wistia_playbar")},l.prototype.initializeView=function(e){return this.setupBindings(),this.updateStateFromVideo()},l.prototype.fit=function(){return this.updateStateFromVideo()},l.prototype.updateStateFromVideo=function(){return this.view.updateState({progress:this.video.time()/this.video.duration(),buffered:this.getPercentBuffered(),height:this.video.videoHeight(),width:this.video.videoWidth(),isInFullscreen:this.video.inFullscreen()}),this.updateTimeElement()},l.prototype.thumbnailSpriteAsset=function(){var e;return e=this.video.assets({select:function(e){return"storyboard"===e.type},sortBy:"created_at desc"}),e[0]||{}},l.prototype.thumbnailVideoAsset=function(){var e;return e=this.video.assets({select:function(e){return"iphone_video"===e.type}}),e[0]},l.prototype.initialize=function(i){var n;return e.util.notSetOrTrue(this.video._opts.playbar)?(n=e.detect.ios.version>0,e.detect.android||n||this.video._opts.hideThumbnailPreview?this.storyboard=new t:this.storyboard=new e.Vulcan.Storyboard(this.video.vulcanElem,this.thumbnailSpriteAsset()),this.initializeView(),this.turnOn()):this.storyboard=new t,this},l.prototype.setupBindings=function(){return this.hoverEvent.bind("hoverstart",this.onHoverStart),this.hoverEvent.bind("hoverend",this.onHoverEnd),e.elem.bind(this.elem,"mousedown",this.onMouseDown),e.elem.bind(this.elem,"touchstart",this.onTouchStart),e.elem.bind(this.elem,"touchmove",this.onTouchMove),e.elem.bind(this.elem,"touchend",this.onTouchEnd),e.elem.bind(this.video.chrome,"mouseenter",this.onEnterVideo),this.video.bind("enter-fullscreen",this.onEnterFullscreen),this.video.bind("cancel-fullscreen",this.onCancelFullscreen),this.video.bind("seek",this.onSeek),this.video.bind("switched-to-asset",this.onSwitchedToAsset),this.video.bind("keyboard:timechange",this.onKeyboardTimechange),this.video.bind("controls-hidden",this.hideStoryboard),this.video.bind("widthchange",this.onWidthChange),this.video.bind("heightchange",this.onHeightChange),this.video.bind("play",this.startProgressLoop),this.video.bind("timechange",this.startProgressLoop),e.timeout(this.video.uuid+".start_progress_loop",function(e){return function(){if(!0!==e._stopUpdateProgressLoop)return e.startProgressLoop()}}(this),2e3)},l.prototype.startProgressLoop=function(){return this._stopUpdateProgressLoop=!1,e.util.requestAnimationFrame(this.updateProgressLoop),this.video.unbind("play",this.startProgressLoop),this.video.unbind("timechange",this.startProgressLoop)},l.prototype.destroyBindings=function(){return l.__super__.destroyBindings.apply(this,arguments),this.hoverEvent.unbind("hoverstart",this.onHoverStart),this.hoverEvent.unbind("hoverend",this.onHoverEnd),this.hoverEvent.destroy(),e.elem.unbind(document,"mousemove",this.onHoveringMousemove),e.elem.unbind(this.elem,"mousedown",this.onMouseDown),e.elem.unbind(this.elem,"touchstart",this.onTouchStart),e.elem.unbind(this.elem,"touchmove",this.onTouchMove),e.elem.unbind(this.elem,"touchend",this.onTouchEnd),e.elem.unbind(this.video.chrome,"mouseenter",this.onEnterVideo),this.video.unbind("enter-fullscreen",this.onEnterFullscreen),this.video.unbind("cancel-fullscreen",this.onCancelFullscreen),this.video.unbind("seek",this.onSeek),this.video.unbind("switched-to-asset",this.onSwitchedToAsset),this.video.unbind("keyboard:timechange",this.onKeyboardTimechange),this.video.unbind("controls-hidden",this.hideStoryboard),this.video.unbind("widthchange",this.onWidthChange),this.video.unbind("heightchange",this.onHeightChange),this.video.unbind("play",this.startProgressLoop),this.video.unbind("timechange",this.startProgressLoop),this._stopUpdateProgressLoop=!0},l.prototype.cleanup=function(){return e.elem.unbind(document.body,"mousemove",this._onDragScrubBar),e.elem.unbind(document.body,"mouseup",this._onReleaseScrubBar),e.elem.unbind(document.body,"mousemove",this._onMouseLeavesVulcan),e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow)},l.prototype.onEnterVideo=function(){var e;if(!1!==this.video._preloadStoryboard)return"function"==typeof(e=this.storyboard).loadSprite?e.loadSprite():void 0},l.prototype.onEnterFullscreen=function(){return this.view.updateState({isInFullscreen:!0})},l.prototype.onCancelFullscreen=function(){return this.view.updateState({isInFullscreen:!1})},l.prototype.onWidthChange=function(e){return this.view.updateState({width:e})},l.prototype.onHeightChange=function(e){return this.view.updateState({height:e})},l.prototype.onHoverStart=function(){if(this._showing||"beforeplay"!==this.video.state())return this.video.width()>=500&&(this.storyboard.updateState({visible:!0}),this.storyboard.getState("active")&&this.view.updateState({hoverLineVisible:!0})),e.elem.bind(document,"mousemove",this.onHoveringMousemove)},l.prototype.onHoverEnd=function(){return this.hideStoryboard(),this.view.updateState({hoverLineVisible:!1}),e.elem.unbind(document,"mousemove",this.onHoveringMousemove)},l.prototype.onHoveringMousemove=function(t){var i,n,r,o,s,a,l;return s=this.percentFromMouseEvent(t),r=this.timeFromPercent(s),i=e.elem.offset(this.elem).left,l=e.elem.offset(this.video.vulcanElem).left,n=i-l,o=s*this.width()+n,a=this.video._opts.trimStart?(r+this.video._opts.trimStart)/this.video._mediaData.duration:s,this.storyboard.updateState({position:o,time:r,percent:a}),this.view.updateState({hoverLinePercent:s})},l.prototype.onKeyboardTimechange=function(){var t,i;return t=e.util.niceDuration(this.video.time()),i=e.util.niceDuration(this.video.duration()),this.view.updateState({ariatime:t+" of "+i})},l.prototype.percentFromMouseEvent=function(e){return this.actions.playbar.setWidth(this.width()),Math.min(1,Math.max(0,(e.pageX-2-this.leftMostX())/this.width()))},l.prototype.onTouchStart=function(e){return this.touchInProgress=!0},l.prototype.onTouchMove=function(e){var t,i;if(0===e.which&&this.touchInProgress)return this.video.ui.showControls(),e.preventDefault(),i=e.touches[0],t=(i.pageX-2-this.leftMostX())/this.width(),this.updateTimeToPercent(t)},l.prototype.onTouchEnd=function(e){return this.touchInProgress=!1},l.prototype.onMouseDown=function(t){var i;if(1===t.which)return t.preventDefault(),this._stateOnDrag=this.video.state(),i=(t.pageX-2-this.leftMostX())/this.width(),this.updateTimeToPercent(i),this.startDrag(),"beforeplay"===this.video.state()?this.video.play():(this.video.pause(),"playing"===this._stateOnDrag?e.elem.bind(document,"mouseup",function(t){return function(){return t.video.ready(function(){if("ended"!==t.video.state()&&!t.video.publicApi._suspended)return t.video.play()}),
i=t.video.time()/t.video.duration(),t.actions.playbar.setPlaybarPositionPercentage(i),t.view.updateState({progress:i}),e.elem.unbind}}(this)):void 0)},l.prototype.updateTimeToPercent=function(e){return e=Math.max(Math.min(e,1),0),this.updateTime(e),this.updateTimeElement(e),this.view.updateState({progress:e}),this.actions.playbar.setPlaybarPositionPercentage(e)},l.prototype.onSeek=function(e){var t;return t=e/this.video.duration(),this.actions.playbar.setPlaybarPositionPercentage(t),this.view.updateState({progress:t})},l.prototype.onSwitchedToAsset=function(){var e;return e=this.video.time()/this.video.duration(),this.actions.playbar.setPlaybarPositionPercentage(e),this.view.updateState({progress:e})},l.prototype.startDrag=function(){return null==this._onDragScrubBar&&(this._onDragScrubBar=function(t){return function(i){var n,r;return e.elem.addClass(t.elem,"wistia_dragging"),"playing"===t.video.state()&&t.video.pause(),n=Math.min(1,Math.max(0,(i.pageX-2-t.leftMostX())/t.width())),r=e.util.niceDuration(t.video.time()),t.view.updateState({progress:n,time:r}),t.actions.playbar.setPlaybarPositionPercentage(n),t.updateTime(n)}}(this)),this.actions.playbar.setIsDragging(!0),e.elem.bind(document.body,"mousemove",this._onDragScrubBar),null==this._onReleaseScrubBar&&(this._onReleaseScrubBar=function(e){return function(t){return e.stopDrag()}}(this)),e.elem.bind(document.body,"mouseup",this._onReleaseScrubBar),this._scrubbing=!0},l.prototype.leftMostX=function(){return e.elem.offset(this.elem).left},l.prototype.stopDrag=function(){var t;return this.actions.playbar.setIsDragging(!1),e.elem.removeClass(this.elem,"wistia_dragging"),this._onDragScrubBar&&e.elem.unbind(document.body,"mousemove",this._onDragScrubBar),this._onReleaseScrubBar&&e.elem.unbind(document.body,"mouseup",this._onReleaseScrubBar),this._onMouseLeavesVulcan&&e.elem.unbind(document.body,"mousemove",this._onMouseLeavesVulcan),this._onMouseLeavesWindow&&e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow),"ended"===this._stateOnDrag&&this.video.play(),this._scrubbing=!1,t=this.video.time()/this.video.duration(),this.actions.playbar.setPlaybarPositionPercentage(t),this.view.updateState({progress:t})},l.prototype.updateTimeElement=function(t){var i;return i="beforeplay"===this.video.state()?this.video.duration():this.video.time(),this.view.updateState({time:e.util.niceDuration(i)})},l.prototype.updateTime=function(e){var t;return t=this.timeFromPercent(e),this.video.time(t)},l.prototype.timeFromPercent=function(e){return Math.min(this.video.duration(),Math.max(0,e*this.video.duration()))},l.prototype.getPercentBuffered=function(){var e,t;return t=this.video.sequentialBufferedRange(),"beforeplay"===this.video.state()?0:null!=t?(Math.max(0,t[0]/this.video.duration()),e=Math.min(1,t[1]/this.video.duration()),e>.99&&(e=1),e):0},l.prototype.width=function(){return e.elem.width(this.elem)},l.prototype.updateProgressLoop=function(){var t,i,n,r,o;if(!this._stopUpdateProgressLoop&&(e.util.requestAnimationFrame(this.updateProgressLoop),!this.video._seekingBeforePlay&&!this._scrubbing&&this._showing&&this.video._controlsVisible)){if(!this.video.elem())return void(this._stopUpdateProgressLoop=!0);if(this._tweenBufferTime<u-1&&(this._tweenBufferTime+=1),o=this.video.engine.getCurrentTime(),n=o/this.video.duration(),t=this.getPercentBuffered(),o!==this._lastCurrentTime||t!==this._lastPercentBuffered)return t!==this._lastPercentBuffered&&(r=this.tweenedBufferPercentage(),this._tweenBufferTime=0,this._tweenBufferStart=r,this._tweenBufferChange=t-r),this.actions.playbar.setPlaybarPositionPercentage(n),i="beforeplay"===this.video.state()?this.video.duration():o,this.view.updateState({progress:n,time:e.util.niceDuration(i),buffered:this.tweenedBufferPercentage()}),this._lastCurrentTime=o,this._lastPercentBuffered=t}},l.prototype.tweenedBufferPercentage=function(){return this.cubicOut(this._tweenBufferTime,this._tweenBufferStart,this._tweenBufferChange,u)},l.prototype.cubicOut=function(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t},l}(e.Vulcan.Control))}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty;!function(e){var t;e.Vulcan.PlaybarPlaceholder||(t=i(22).controlDimensionsForVideo,e.Vulcan.PlaybarPlaceholder=function(i){function o(t,i){this.video=t,this.onHeightChange=n(this.onHeightChange,this),this.onTimeChange=n(this.onTimeChange,this),this.name="playbarPlaceholder",o.__super__.constructor.call(this,this.video,i),e.elem.addClass(this.elem,"wistia_playbar_placeholder"),e.elem.addClass(this.elem,"w-control--playbar-placeholder w-playbar-placeholder"),e.elem.style(this.elem,{height:"auto"}),this.buildElements(),this.updateTime(this.video.duration()),this.setupBindings()}return r(o,i),o.prototype.destroy=function(){return this.destroyBindings(),this.timeElement=null,o.__super__.destroy.apply(this,arguments)},o.prototype.initialize=function(){return e.util.notSetOrTrue(this.video._opts.playbar)&&this.turnOn(),this},o.prototype.show=function(){if(this.shouldShow())return e.elem.addClass(this.elem,"w-is-visible")},o.prototype.hide=function(){return e.elem.removeClass(this.elem,"w-is-visible")},o.prototype.setupBindings=function(){return this.video.bind("timechange",this.onTimeChange),this.video.bind("heightchange",this.onHeightChange)},o.prototype.destroyBindings=function(){return o.__super__.destroyBindings.apply(this,arguments),this.video.unbind("timechange",this.onTimeChange),this.video.unbind("heightchange",this.onHeightChange)},o.prototype.onTimeChange=function(e){if(!this.video._seekingBeforePlay)return this.updateTime(this.video.time())},o.prototype.onHeightChange=function(i){var n,r;return r=t(this.video.videoWidth(),i,this.video.inFullscreen(),100,34),r.width,n=r.height,e.elem.style(this.elem,{height:n+"px"}),e.elem.style(this.timeElement,{fontSize:.44*n+"px"})},o.prototype.buildElements=function(){return this.timeElement=e.elem.fromObject({class:"wistia_placeholder_time_element wistia_time"}),e.elem.append(this.elem,this.timeElement)},o.prototype.updateTime=function(t){var i;return i="beforeplay"===this.video.state()?this.video.duration():t,this.timeElement.innerHTML=e.util.niceDuration(i)},o}(e.Vulcan.Control))}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){var t,r,o;e.Vulcan.PlaybarView||(o=i(22),t=o.controlDimensionsForVideo,r=o.controlMultiplierForVideo,e.Vulcan.PlaybarView=function(){function i(t,i){this.parent=t,null==i&&(i={}),this.timeElementOffsets=n(this.timeElementOffsets,this),this.onUpdateHoverLineVisible=n(this.onUpdateHoverLineVisible,this),this.onUpdateHoverLinePercent=n(this.onUpdateHoverLinePercent,this),this.onUpdateAriaTime=n(this.onUpdateAriaTime,this),this.onUpdateShowTime=n(this.onUpdateShowTime,this),this.onUpdateWidth=n(this.onUpdateWidth,this),this.onUpdateHeight=n(this.onUpdateHeight,this),this.onUpdateBuffered=n(this.onUpdateBuffered,this),this.onUpdateTime=n(this.onUpdateTime,this),this.onUpdateProgress=n(this.onUpdateProgress,this),this.id=e.seqId(),this.state=this.getDefaultInitialStateProperties(i),this.buildElements(),this.setupBindings(),this.updateAllDisplays()}return i.prototype.destroy=function(){return this.destroyBindings()},i.prototype.getDefaultInitialStateProperties=function(t){var i;return i={progress:0,buffered:0,time:"0:00",ariatime:"0:00",hoverLinePercent:0,hoverLineVisible:!1},e.extend(i,t)},i.prototype.getState=function(e){return this.state[e]},i.prototype.setupBindings=function(){return this.bind("property:updated:width",this.onUpdateWidth),this.bind("property:updated:height",this.onUpdateHeight),this.bind("property:updated:isInFullscreen",this.onUpdateHeight),this.bind("property:updated:progress",this.onUpdateProgress),this.bind("property:updated:time",this.onUpdateTime),this.bind("property:updated:buffered",this.onUpdateBuffered),this.bind("property:updated:height",this.onUpdatedHeight),this.bind("property:updated:thumbnail",this.onUpdateThumbnail),this.bind("property:updated:showTime",this.onUpdateShowTime),this.bind("property:updated:hoverLinePercent",this.onUpdateHoverLinePercent),this.bind("property:updated:hoverLineVisible",this.onUpdateHoverLineVisible)},i.prototype.destroyBindings=function(){return this.unbind("property:updated:width",this.onUpdateWidth),this.unbind("property:updated:height",this.onUpdateHeight),this.unbind("property:updated:progress",this.onUpdateProgress),this.unbind("property:updated:time",this.onUpdateTime),this.unbind("property:updated:buffered",this.onUpdateBuffered),this.unbind("property:updated:thumbnail",this.onUpdateThumbnail),this.unbind("property:updated:showTime",this.onUpdateShowTime),this.unbind("property:updated:hoverLinePercent",this.onUpdateHoverLinePercent),this.unbind("property:updated:hoverLineVisible",this.onUpdateHoverLineVisible)},i.prototype.onUpdateProgress=function(){return this.updateProgress(),this.updateTimePosition()},i.prototype.onUpdateTime=function(){return this.updateTime()},i.prototype.onUpdateBuffered=function(){return this.updateBuffered()},i.prototype.resizePlaybarHeight=function(){var i,n,o,s,a,l,u,c,d,h;return c=this.state,h=c.width,d=c.height,o=c.isInFullscreen,s=r(h,d,o),i=h/s,i>=640?(u=t(h,d,o,100,34),u.width,n=u.height,e.elem.style(this.parent,{height:n+"px",bottom:0}),e.elem.style(this.time,{fontSize:.44*n+"px"})):(l=t(h,d,o,100,15),a=t(h,d,o,100,34),e.elem.style(this.parent,{height:l.height+"px",bottom:a.height+"px"}),e.elem.style(this.time,{fontSize:.44*a.height+"px"}))},i.prototype.onUpdateHeight=function(){return this.resizePlaybarHeight()},i.prototype.onUpdateWidth=function(){return this.resizePlaybarHeight(),this.updateProgress(),this.updateTimePosition(),this.updateBuffered(),this.updateHoverLinePercent(),this.updateHoverLineVisible()},i.prototype.onUpdateShowTime=function(){return this.updateTimeVisibility()},i.prototype.onUpdateAriaTime=function(){return this.updateAriaTime()},i.prototype.onUpdateHoverLinePercent=function(){return this.updateHoverLinePercent()},i.prototype.onUpdateHoverLineVisible=function(){return this.updateHoverLineVisible()},i.prototype.updateAllDisplays=function(){return this.updateProgress(),this.updateTimePosition(),this.updateTime(),this.updateTimeVisibility(),this.updateAriaTime(),this.updateHoverLineVisible(),this.updateHoverLinePercent()},i.prototype.updateTimeVisibility=function(){},i.prototype.updateProgress=function(){var t;return t=50*this.state.progress-50,e.util.applyTransform(this.slider,"translateX("+t+"%)"),this.updateBuffered()},i.prototype.updateBuffered=function(){var t,i;return t=Math.max(0,this.state.buffered-this.state.progress),i=50*t-50,e.util.applyTransform(this.unplayedSlider,"translateX("+i+"%)")},i.prototype.updateTimePosition=function(){var t,i,n,r,o;t=this.state.progress*e.elem.width(this.parent),this.timePositioner.style.width=t+"px",n=this.timeElementOffsets(t),r=[];for(i in n)o=n[i],r.push(this.time.style[i]=o);return r},i.prototype.updateAriaTime=function(){return this.mask.setAttribute("aria-valuenow",this.state.ariatime.toString())},i.prototype.updateHoverLineVisible=function(){var t;return t="wistia_playbar_hover_line--is-visible",this.state.hoverLineVisible?e.elem.addClass(this.hoverLine,t):e.elem.removeClass(this.hoverLine,t)},i.prototype.updateHoverLinePercent=function(){return this.hoverLine.style.left=100*this.state.hoverLinePercent+"%"},i.prototype.timeElementOffsets=function(t){var i,n,r;return r=0,i=e.elem.width(this.time)+19,n=Math.min(r,t-i)===r,n?{right:"9px",left:"auto"}:{right:"auto",left:"9px"}},i.prototype.updateTime=function(){return this.time.innerHTML=this.state.time},i.prototype.buildElements=function(){return this.buildMask(),this.buildBar(),this.buildHoverLine()},i.prototype.buildMask=function(){return this.mask=e.elem.fromObject({id:e.seqId("wistia_playbar_mask_"),class:"wistia_playbar_mask",tabindex:"0",role:"slider","aria-label":"playbar","aria-valuenow":"0"}),e.elem.append(this.parent,this.mask)},i.prototype.buildHoverLine=function(){return this.hoverLine=e.elem.fromObject({id:e.seqId("wistia_hover_line"),class:"wistia_playbar_hover_line"}),e.elem.append(this.mask,this.hoverLine)},i.prototype.buildBar=function(){return this.slider=e.elem.fromObject({id:e.seqId("wistia_playbar_slider_"),class:"wistia_playbar_slider"}),this.buildPlaybarCompleted(),this.buildPlaybarUnplayed(),this.buildTimeElement(),e.elem.append(this.mask,this.slider)},i.prototype.buildPlaybarCompleted=function(){return this.completed=e.elem.fromObject({id:e.seqId("wistia_playbar_completed_"),class:"wistia_playbar_completed"}),e.elem.append(this.slider,this.completed)},i.prototype.buildPlaybarUnplayed=function(){return this.unplayedMask=e.elem.fromObject({id:e.seqId("wistia_playbar_unplayed_mask_"),class:"wistia_playbar_unplayed_mask"}),this.unplayedSlider=e.elem.fromObject({id:e.seqId("wistia_playbar_unplayed_slider_"),class:"wistia_playbar_unplayed_slider"}),this.buffered=e.elem.fromObject({id:e.seqId("wistia_playbar_buffered_"),class:"wistia_playbar_buffered"}),this.background=e.elem.fromObject({id:e.seqId("wistia_playbar_background_"),class:"wistia_playbar_background"}),e.elem.append(this.unplayedSlider,this.buffered),e.elem.append(this.unplayedSlider,this.background),e.elem.append(this.unplayedMask,this.unplayedSlider),e.elem.append(this.slider,this.unplayedMask)},i.prototype.buildTimeElement=function(){return this.timePositioner=e.elem.fromObject({id:e.seqId("time_positioner_"),class:"wistia_time_positioner"}),this.time=e.elem.fromObject({id:e.seqId("time_"),class:"wistia_time"}),e.elem.append(this.timePositioner,this.time),e.elem.append(this.mask,this.timePositioner)},i}(),e.mixin(e.Vulcan.PlaybarView.prototype,e.hasState))}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty;!function(e){var t;e.Vulcan.SmallPlayButton||(t=i(22).fitControl,e.Vulcan.SmallPlayButton=function(i){function o(t,i){this.video=t,this.fit=n(this.fit,this),this.onClick=n(this.onClick,this),this.onPause=n(this.onPause,this),this.onPlay=n(this.onPlay,this),i.tagName="button",this.name="smallPlayButton",o.__super__.constructor.call(this,this.video,i),this.elem.style.position="relative",this.elem.setAttribute("alt","Click to play"),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Play"),this.elem.setAttribute("title","Play"),e.elem.addClass(this.elem,"w-control--play paused"),this.iconElem.innerHTML=this.playSVG(),this.setupBindings()}return r(o,i),o.prototype.initialize=function(){return e.util.notSetOrTrue(this.video._opts.smallPlayButton)&&this.turnOn(),this},o.prototype.turnOn=function(){return o.__super__.turnOn.apply(this,arguments),this.fit()},o.prototype.onBubbleClick=function(e){return this.hoverTooltip.hideFromParent()},o.prototype.onPlay=function(){return e.elem.removeClass(this.elem,"paused"),e.elem.addClass(this.elem,"playing"),this.elem.setAttribute("alt","Click to pause"),this.elem.setAttribute("aria-label","Pause"),this.elem.setAttribute("title","Pause"),this.iconElem.innerHTML=this.pauseSVG()},o.prototype.onPause=function(){return e.elem.removeClass(this.elem,"playing"),e.elem.addClass(this.elem,"paused"),this.elem.setAttribute("alt","Click to play"),this.elem.setAttribute("aria-label","Play"),this.elem.setAttribute("title","Play"),this.iconElem.innerHTML=this.playSVG()},o.prototype.onClick=function(t){if(t.preventDefault(),1===t.which)return"beforeplay"===this.video.state()?this.video.play():e.elem.isInside(t.target,this.elem)?this.video.togglePlay():void 0},o.prototype.fit=function(){return t(this.name,this.video,this.elem,51,34)},o.prototype.setupBindings=function(){return this.video.bind("play",this.onPlay),this.video.bind("pause",this.onPause),this.video.bind("heightchange",this.fit),this.video.bind("widthchange",this.fit),e.elem.bind(this.video.vulcanElem,"click",this.onClick)},o.prototype.destroyBindings=function(){return o.__super__.destroyBindings.apply(this,arguments),this.video.unbind("play",this.onPlay),this.video.unbind("pause",this.onPause),this.video.unbind("heightchange",this.fit),this.video.unbind("widthchange",this.fit),e.elem.unbind(this.video.vulcanElem,"click",this.onClick)},o.prototype.playSVG=function(){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 14.3" enable-background="new 0 0 10 14.3" xml:space="preserve" class="wistia_vulcan_svg_icon wistia_vulcan_svg_icon_play wistia_vulcan_svg_icon_play_small">\n<polygon points="0,0 0,14.3 10,7.5 "/>\n</svg>'},o.prototype.pauseSVG=function(){return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16.5 20" enable-background="new 0 0 16.5 20" xml:space="preserve" class="wistia_vulcan_svg_icon wistia_vulcan_svg_icon_pause">\n<g>\n\t<rect x="0" y="0" width="6" height="20"/>\n\t<rect x="10.5" y="0" width="6" height="20"/>\n</g>\n</svg>'},o}(e.Vulcan.Control))}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},r={}.hasOwnProperty;!function(e){e.Vulcan||(e.Vulcan={}),e.Vulcan.Still||(e.Vulcan.Still=function(t){function r(t,n){this.video=t,this.hide=i(this.hide,this),this.show=i(this.show,this),this.fitStill=i(this.fitStill,this),this._debounceFitStill=i(this._debounceFitStill,this),this._onStartPlay=i(this._onStartPlay,this),this._onClickVulcan=i(this._onClickVulcan,this),this.name="still",this.loaded=new e.StopGo,r.__super__.constructor.call(this,this.video,n),this.thumbnail=new e.Thumbnail(this.video.vulcanElem,{tabbable:!1,onActivate:this.activate,stillSnap:this.video._opts.stillSnap,images:this.video.thumbnailAssets(),name:this.video.name(),delayInit:!0}),this.thumbnail.hide(),e.elem.style(this.thumbnail.elem,{left:0,position:"absolute",top:0}),this.elem=this.thumbnail.elem,this.loaded=new e.StopGo,this.thumbnail.loaded(function(e){return function(){return e.loaded(!0)}}(this)),"function"==typeof this.setupBindings&&this.setupBindings()}return n(r,t),r.prototype.initialize=function(){return this.thumbnail.initialize(),this.fitStill(),this},r.prototype.setupBindings=function(){return"playing"===this.video.state()&&e.timeout(this.video.uuid+".hide_still",this.hide),this.video.bind("play",this.hide),this.video.bind("startplay",this._onStartPlay),e.elem.bind(this.video.vulcanElem,"click",this._onClickVulcan),this.video.bind("enter-fullscreen",this._debounceFitStill),this.video.bind("cancel-fullscreen",this._debounceFitStill),this.video.bind("heightchange",this.fitStill),this.video.bind("widthchange",this.fitStill)},r.prototype.destroyBindings=function(){if(r.__super__.destroyBindings.apply(this,arguments),this.video)return this.video.unbind("play",this.hide),this.video.unbind("startplay",this._onStartPlay),e.elem.unbind(this.video.vulcanElem,"click",this._onClickVulcan),this.video.unbind("enter-fullscreen",this._debounceFitStill),this.video.unbind("cancel-fullscreen",this._debounceFitStill),this.video.unbind("heightchange",this.fitStill),this.video.unbind("widthchange",this.fitStill)},r.prototype._onClickVulcan=function(t){if(1===t.which)return e.elem.isInside(t.target,this.elem)?(this.video.showControls(),this.video.play()):void 0},r.prototype._onStartPlay=function(){return e.timeout(this.video.uuid+".delayed_hide_still",function(e){return function(){var t;if("beforeplay"!==(null!=(t=e.video)?t.state():void 0))return e.hide()}}(this),1e3)},r.prototype._debounceFitStill=function(t){return null==t&&(t=250),e.timeout(this.video.uuid+".fitStill",function(e){return function(){return e.fitStill()}}(this),t)},r.prototype.fitStill=function(){return this.thumbnail.fit()},r.prototype.shouldShow=function(){return!("beforeplay"!==this.video.state()||this.video._opts.autoPlay&&this.video._replacing||this.video._opts.showFirstFrame)},r.prototype.show=function(){if(this.shouldShow())return this.thumbnail.show(),this.fitStill()},r.prototype.hide=function(){return this.thumbnail.hide()},r.prototype.mouseover=function(){},r.prototype.mouseout=function(){},r.prototype.remove=function(){return this.destroyBindings(),this.thumbnail.destroy(),this.thumbnail=null,this.elem=null,this.video=null},r.prototype.destroy=function(){return this.remove(),r.__super__.destroy.apply(this,arguments)},r}(e.Vulcan.Control))}(Wistia)},function(e,t,i){var n,r,o,s,a,l,u=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t){function i(){this.constructor=e}for(var n in t)d.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},d={}.hasOwnProperty;i(454),r=i(408),n=i(25).default.bindActionsToStore,l=i(74).default,a=i(22),s=a.fitControl,o=a.controlDimensionsForVideo,function(e){e.Vulcan.VolumeControl||(e.Vulcan.VolumeControl=function(t){function i(t,r){this.video=t,this.savedVolume=u(this.savedVolume,this),this.updateSoundWaves=u(this.updateSoundWaves,this),this.stopDrag=u(this.stopDrag,this),this.onVolumeChange=u(this.onVolumeChange,this),this.onIsDraggingUpdated=u(this.onIsDraggingUpdated,this),this.onHoverEnd=u(this.onHoverEnd,this),this.onHoverStart=u(this.onHoverStart,this),this.toggleVolume=u(this.toggleVolume,this),this.onClick=u(this.onClick,this),this.onLevelUpdated=u(this.onLevelUpdated,this),this.fit=u(this.fit,this),r.iconElemTagName="button",this.name="volume2",i.__super__.constructor.call(this,this.video,r),this.svgLoaded=!1,this.triedToTurnOn=!1,this.iconElem.setAttribute("tabindex","0"),this.iconElem.setAttribute("aria-label","Mute"),this.iconElem.setAttribute("title","Mute"),this.iconElem.style.background="none",this.iconElem.style.cursor="pointer",this.actions=n(this.video.uuid,{root:l}),e.elem.removeClass(this.elem,"wistia_vulcan_control"),this.createElements(),this.setInitialStyles()}return c(i,t),i.prototype.destroy=function(){return this.destroySlider(),this.destroyBindings(),i.__super__.destroy.apply(this,arguments)},i.prototype.fit=function(){var e,t,i;return e=s(this.name,this.video,this.elem,40,34),i=e.width,e.height,null!=(t=this.slider)?t.updateState({controlWidth:i}):void 0},i.prototype.initialDimensions=function(){return o(this.video.videoWidth(),this.video.videoHeight(),this.video.inFullscreen(),40,34)},i.prototype.buildSlider=function(){var t;return t={level:this.savedVolume(),controlWidth:this.initialDimensions().width},this.slider=new e.Vulcan.VolumeSlider(t),this.slider.bind("property:updated:level",this.onLevelUpdated),this.slider.bind("property:updated:isDragging",this.onIsDraggingUpdated),e.elem.append(this.elem,this.slider.elem),this.onVolumeChange()},i.prototype.onLevelUpdated=function(){return this.video.volume(this.slider.state.level)},i.prototype.destroySlider=function(){var e;return null!=(e=this.slider)&&e.destroy(),this.slider=null},i.prototype.createElements=function(){return this.createSVG()},i.prototype.createSVG=function(){var e,t;return t=new DOMParser,e=t.parseFromString(this.iconSVG(),"text/xml"),this.iconElem.appendChild(e.documentElement)},i.prototype.interactionState={hovering:!1,hasHoveredOff:!1,dragging:!1,muted:!1,startDragX:0,startDragVolume:0},i.prototype.setInitialStyles=function(){return e.elem.style(this.elem,{position:"relative"}),e.elem.addClass(this.elem,"w-control--volume")},i.prototype.initialize=function(){return e.util.notSetOrTrue(this.video._opts.volumeControl)&&!(e.detect.android||e.detect.ios.version>0)&&this.turnOn(),this},i.prototype.cleanup=function(){return e.elem.unbind(document.body,"mousemove",this._onDragLevel),e.elem.unbind(document.body,"mouseup",this._onReleaseLevel),e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow)},i.prototype.turnOn=function(){var t;return i.__super__.turnOn.apply(this,arguments),e.elem.addClass(this.elem,"w-is-visible"),this.buildSlider(),this.setupBindings(),t=null!=this.video._opts.volume?this.video._opts.volume:this.savedVolume(),this.video.volume(t),this.fit()},i.prototype.turnOff=function(){return i.__super__.turnOff.apply(this,arguments),e.elem.removeClass(this.elem,"w-is-visible"),this.destroySlider(),this.destroyBindings()},i.prototype.setupBindings=function(){return this.bind("hoverstart",this.onHoverStart),this.bind("hoverend",this.onHoverEnd),this.video.bind("heightchange",this.fit),this.video.bind("widthchange",this.fit),this.video.bind("volumechange",this.onVolumeChange),e.elem.bind(this.iconElem,"click",this.onClick),i.__super__.setupBindings.call(this)},i.prototype.destroyBindings=function(){return this.unbind("hoverstart",this.onHoverStart),this.unbind("hoverend",this.onHoverEnd),this.video.unbind("heightchange",this.fit),this.video.unbind("widthchange",this.fit),this.video.unbind("volumechange",this.onVolumeChange),e.elem.unbind(this.iconElem,"click",this.onClick),i.__super__.destroyBindings.apply(this,arguments)},i.prototype.onClick=function(e){return e.preventDefault(),e.stopPropagation(),this.toggleVolume(),this.actions.root.closeAllMenus()},i.prototype.toggleVolume=function(){return 0===this.video.volume()?(this.updateLevel(this.previousVolume||1),this.iconElem.setAttribute("aria-label","mute"),this.iconElem.setAttribute("title","Mute")):(this.previousVolume=this.video.volume(),this.updateLevel(0),this.iconElem.setAttribute("aria-label","unmute"),this.iconElem.setAttribute("title","Unmute"))},i.prototype.onHoverStart=function(){return this.interactionState.isHovering=!0,this.slider.updateState({visible:!0,bottom:e.elem.height(this.video.ui.controlBar)}),this.actions.root.closeAllMenus()},i.prototype.onHoverEnd=function(){if(this.interactionState.isHovering=!1,!this.slider.state.isDragging)return this.slider.updateState({visible:!1})},i.prototype.onIsDraggingUpdated=function(){if(this.shouldHideSlider())return this.slider.updateState({visible:!1})},i.prototype.shouldHideSlider=function(){return!this.slider.state.isDragging&&this.slider.state.visible&&!this.interactionState.isHovering},i.prototype.onVolumeChange=function(){if(this._on)return this.video.elem().seeking?void 0:this.updateLevel(this.video.volume())},i.prototype.startDrag=function(){return null==this._onDragLevel&&(this._onDragLevel=function(e){return function(t){var i,n;return e.interactionState.dragging=!0,i=(t.pageX-e.interactionState.startDragX)/e.slider.state.controlWidth,n=Math.min(1,Math.max(0,e.interactionState.startDragVolume+i)),e.updateLevel(n),e.video.volume(n)}}(this)),e.elem.bind(document.body,"mousemove",this._onDragLevel),null==this._onReleaseLevel&&(this._onReleaseLevel=function(t){return function(i){return t.saveVolume(),t.stopDrag(),e.elem.removeClass(t.elem,"is-mousedown")}}(this)),e.elem.bind(document.body,"mouseup",this._onReleaseLevel)},i.prototype.stopDrag=function(){if(this.interactionState.dragging||this.onClick(),this.interactionState.dragging=!1,this.interactionState.hovering&&this.interactionState.hasHoveredOff&&this.onHoverEnd(),this._onDragLevel&&e.elem.unbind(document.body,"mousemove",this._onDragLevel),this._onReleaseLevel&&e.elem.unbind(document.body,"mouseup",this._onReleaseLevel),this._onMouseLeavesWindow)return e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow)},i.prototype.updateLevel=function(e){return this.slider.updateState({level:e}),this.updateSoundWaves(e),this.updateAltAttribute(e),this.saveVolume()},i.prototype.updateAltAttribute=function(e){var t;return t="Volume ("+Math.round(100*e)+"%) - click and drag horizontally to change",this.elem.setAttribute("alt",t)},i.prototype.updateSoundWaves=function(t){return e.elem.removeClass(this.elem,"number-active-0"),e.elem.removeClass(this.elem,"number-active-1"),e.elem.removeClass(this.elem,"number-active-2"),e.elem.addClass(this.elem,"number-active-"+this.numberActive(t))},i.prototype.numberActive=function(e){var t;return t=0,e>0&&(t+=1),e>.55&&(t+=1),t},i.prototype.leftMostX=function(){return e.elem.offset(this.elem).left},i.prototype.saveVolume=function(){return e.localStorage("vulcan.volume",this.video.volume())},i.prototype.savedVolume=function(){var t;return this.on()&&null!=(t=e.localStorage("vulcan.volume"))?t:1},i.prototype.iconSVG=function(){return'<svg version="1.1" class="wistia_vulcan_svg wistia_vulcan_svg_volume" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20.3 17.3" style="enable-background:new 0 0 20.3 17.3;" xml:space="preserve">\n  <g class="wistia_vulcan_svg_volume_speaker_group">\n    <g class="wistia_vulcan_svg_volume_speaker_group_inner">\n      <polygon class="wistia_vulcan_svg_volume_speaker" fill="#FFFFFF" points="4,7 0,7 0,11 4,11 8,15 8,3"/>\n      <g class="wistia_vulcan_svg_volume_waves">\n        <path class="wistia_vulcan_svg_volume_wave wistia_vulcan_svg_wave_1" stroke-width="2px" stroke-linecap="round" stroke-miterlimit="10" d="M13.2,3.5c0,0,1.1,2.5,1.1,5s-1.1,5-1.1,5" fill="none" stroke="#ffffff" />\n        <path class="wistia_vulcan_svg_volume_wave wistia_vulcan_svg_wave_2" stroke-width="2px" stroke-linecap="round" stroke-miterlimit="10" d="M17,1c0,0,1.7,3.8,1.7,7.5S17,16,17,16" fill="none" stroke="#ffffff" />\n        <g class="wistia_vulcan_svg_volume_x wistia_vulcan_svg_volume_wave">\n\n          <path fill="#ffffff" stroke-width="2px" stroke-linecap="round" stroke-miterlimit="10" d="M11.4,11.4c-0.1,0-0.3,0-0.4-0.1c-0.2-0.2-0.2-0.5,0-0.7l4.3-4.3c0.2-0.2,0.5-0.2,0.7,0 c0.2,0.2,0.2,0.5,0,0.7l-4.3,4.3C11.6,11.4,11.5,11.4,11.4,11.4z"/>\n          <path fill="#ffffff" stroke-width="2px" stroke-linecap="round" stroke-miterlimit="10" d="M15.7,11.4c-0.1,0-0.3,0-0.4-0.1L11,7c-0.2-0.2-0.2-0.5,0-0.7s0.5-0.2,0.7,0l4.3,4.3c0.2,0.2,0.2,0.5,0,0.7,C15.9,11.4,15.8,11.4,15.7,11.4z"/>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>'},i}(e.Vulcan.Control))}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan.VolumeSlider||(e.Vulcan.VolumeSlider=function(){function t(e){this.onMouseUp=i(this.onMouseUp,this),this.onMouseMove=i(this.onMouseMove,this),this.onMouseDown=i(this.onMouseDown,this),this.onBottomUpdated=i(this.onBottomUpdated,this),this.onControlWidthUpdated=i(this.onControlWidthUpdated,this),this.onVisibilityUpdated=i(this.onVisibilityUpdated,this),this.onBlur=i(this.onBlur,this),this.onFocus=i(this.onFocus,this),this.state=this.getInitialState(e),this.buildView(),this.setupBindings(),this.updateDisplays(),this.elem.setAttribute("tabindex","0"),this.elem.setAttribute("aria-label","Volume Slider"),this.elem.setAttribute("aria-valuemin",0),this.elem.setAttribute("aria-valuemax",100),this.elem.setAttribute("role","slider")}return t.prototype.getInitialState=function(t){var i;return i={level:0,isDragging:!1,bottom:0,visible:!1},e.extend(i,t)},t.prototype.buildView=function(){return this.elem=e.elem.fromObject({class:"wistia_vulcan_volume_slider"}),this.trackElem=e.elem.fromObject({class:"wistia_vulcan_volume_track"}),this.trackHitElem=e.elem.fromObject({class:"wistia_vulcan_volume_track_hit"}),this.levelElem=e.elem.fromObject({class:"wistia_vulcan_volume_level"}),this.grabberHitElem=e.elem.fromObject({class:"wistia_vulcan_volume_grabber_hit"}),this.grabberElem=e.elem.fromObject({class:"wistia_vulcan_volume_grabber"}),this.grabberDotElem=e.elem.fromObject({class:"wistia_vulcan_volume_dot_grabber"}),e.elem.append(this.grabberElem,this.grabberDotElem),e.elem.append(this.grabberHitElem,this.grabberElem),e.elem.append(this.levelElem,this.grabberHitElem),e.elem.append(this.trackHitElem,this.trackElem),e.elem.append(this.trackElem,this.levelElem),
e.elem.append(this.elem,this.trackHitElem)},t.prototype.updateDisplays=function(){return this.updateSliderPosition(),this.updateControlWidth()},t.prototype.updateSliderPosition=function(){var t,i;return t=e.elem.height(this.trackElem),i=this.state.level*t+"px",this.levelElem.style.height=i},t.prototype.levelFromMousePosition=function(t){var i,n;return n=e.elem.height(this.trackElem),i=e.elem.offset(this.trackElem).top-t.pageY+n,Math.max(0,Math.min(1,i/n))},t.prototype.updateControlWidth=function(){return e.elem.style(this.elem,{width:this.state.controlWidth+"px"})},t.prototype.setupBindings=function(){return e.elem.bind(this.trackHitElem,"mousedown",this.onMouseDown),e.elem.bind(this.elem,"focus",this.onFocus),e.elem.bind(this.elem,"blur",this.onBlur),this.bind("property:updated:level",this.onLevelUpdated),this.bind("property:updated:bottom",this.onBottomUpdated),this.bind("property:updated:visible",this.onVisibilityUpdated),this.bind("property:updated:controlWidth",this.onControlWidthUpdated)},t.prototype.destroyBindings=function(){return e.elem.unbind(this.trackHitElem,"mousedown",this.onMouseDown),e.elem.unbind(this.elem,"focus",this.onFocus),e.elem.unbind(this.elem,"blur",this.onBlur),this._bindings={}},t.prototype.destroy=function(){return this.destroyBindings()},t.prototype.onFocus=function(){return this.updateState({visible:!0})},t.prototype.onBlur=function(){return this.updateState({visible:!1})},t.prototype.onVisibilityUpdated=function(){return this.state.visible?(e.elem.addClass(this.elem,"w-is-visible"),this.updateSliderPosition()):e.elem.removeClass(this.elem,"w-is-visible")},t.prototype.onControlWidthUpdated=function(){return this.updateControlWidth()},t.prototype.onLevelUpdated=function(){return this.updateSliderPosition(),this.elem.setAttribute("aria-valuenow",Math.floor(100*this.state.level.toFixed(2)))},t.prototype.onBottomUpdated=function(){return this.elem.style.bottom=this.state.bottom+"px"},t.prototype.onMouseDown=function(t){if(1===t.which)return t.preventDefault(),t.stopPropagation(),e.elem.offset(this.trackElem),e.elem.height(this.trackElem),e.elem.addClass(this.grabberElem,"is-mousedown"),this.updateState({isDragging:!0,level:this.levelFromMousePosition(t)}),e.elem.bind(document.body,"mousemove",this.onMouseMove),e.elem.bind(document,"mouseup",this.onMouseUp)},t.prototype.onMouseMove=function(e){return this.updateState({level:this.levelFromMousePosition(e)})},t.prototype.onMouseUp=function(t){return t.preventDefault(),t.stopPropagation(),e.elem.removeClass(this.grabberElem,"is-mousedown"),this.updateState({isDragging:!1}),e.elem.unbind(document.body,"mousemove",this.onMouseMove),e.elem.unbind(document,"mouseup",this.onMouseUp)},t}(),e.mixin(e.Vulcan.VolumeSlider.prototype,e.hasState))}(Wistia)},function(e,t){!function(e){e.Vulcan||(e.Vulcan={}),e.Vulcan.Colors=function(){function t(e){this.video=e}return t.prototype.white=function(){return new e.Color("ffffff")},t.prototype.gray=function(){return new e.Color("cccccc")},t.prototype.black=function(){return new e.Color("000000")},t.prototype.primary=function(){return new e.Color(this.video.playerColor())},t.prototype.secondary=function(){return this.primary().lighten(40)},t.prototype.tertiary=function(){return this.primary().lighten(75)},t.prototype.quaternary=function(){return this.primary().darken(30)},t}()}(Wistia)},function(e,t,i){var n,r,o=function(e,t){return function(){return e.apply(t,arguments)}};n=i(403),r=i(59).getStoreForPlayerInstance,function(e){var t;null!=(t=e.Vulcan)&&t.Control||(e.Vulcan||(e.Vulcan={}),e.Vulcan.Control=function(){function t(t,i){this.video=t,null==i&&(i={}),this.hide=o(this.hide,this),this.show=o(this.show,this),this.destroy=o(this.destroy,this),this._onHoverEnd=o(this._onHoverEnd,this),this._onHoverStart=o(this._onHoverStart,this),this._onControlClick=o(this._onControlClick,this),this._onStoreChange=o(this._onStoreChange,this),this.updateActiveClass=o(this.updateActiveClass,this),this.apiInstanceId=o(this.apiInstanceId,this),this.options=this.getDefaultOptions(i),this.grid=this.video.grid,this.uuid=e.seqId("wistia_"+this.name+"_"),this.createBaseElements(),this._on=!1,this.isHidden=!0,this.store=r(this.video.uuid),this._unsubscribe=this.store.subscribe(this._onStoreChange)}return t.prototype.apiInstanceId=function(){return this.video.uuid},t.prototype.getDefaultOptions=function(t){var i;return i={tagName:"div",iconElemTagName:"div"},e.obj.merge(i,t)},t.prototype.createBaseElements=function(){return this.elem=e.elem.fromObject({tagName:this.options.tagName,id:this.uuid,class:"w-control"}),this.iconElem=e.elem.fromObject({tagName:this.options.iconElemTagName,class:"w-control--icon"}),e.elem.append(this.elem,this.iconElem)},t.prototype.setupBindings=function(){return this._hoverEvent=new e.Vulcan.HoverEvent(this.elem),this._hoverEvent.bind("hoverstart",this._onHoverStart),this._hoverEvent.bind("hoverend",this._onHoverEnd),this.video.rebind("control-clicked",this._onVideoControlClick),e.elem.bind(this.elem,"click",this._onControlClick),e.elem.bind(this.elem,"focus",this._onFocus)},t.prototype.destroyBindings=function(){if(this.video&&this.video.unbind("control-clicked",this._onVideoControlClick),this.elem&&(e.elem.unbind(this.elem,"click",this._onControlClick),e.elem.unbind(this.elem,"focus",this._onFocus)),this._unsubscribe(),this._hoverEvent)return this._hoverEvent.unbind("hoverstart",this._onHoverStart),this._hoverEvent.unbind("hoverend",this._onHoverEnd),this._hoverEvent.destroy()},t.prototype.updateActiveClass=function(t){return t?e.elem.addClass(this.elem,"is-active"):e.elem.removeClass(this.elem,"is-active")},t.prototype._onStoreChange=function(){var e;return null!=(e=this.video)?e.trigger("store-change"):void 0},t.prototype._onControlClick=function(e){return e.preventDefault(),this.video.trigger("control-clicked",this.uuid)},t.prototype._onVideoControlClick=function(e){},t.prototype._onFocus=function(){},t.prototype._onHoverStart=function(e){return this.trigger("hoverstart")},t.prototype._onHoverEnd=function(){return this.trigger("hoverend")},t.prototype.destroy=function(){return this.cleanup(),this.destroyBindings(),this.store=this._hoverEvent=this.elem=this.iconElem=this.grid=this.video=null},t.prototype.cleanup=function(){},t.prototype.show=function(){return e.elem.addClass(this.elem,"w-is-visible")},t.prototype.shouldShow=function(){return!0},t.prototype.hide=function(){var t;return e.elem.removeClass(this.elem,"w-is-visible"),null!=(t=this.bubble)?t.hideFromParent():void 0},t.prototype.turnOn=function(){var e;if(e=this._on,this._on=!0,this.isHidden=!1,this.show(),this._on!==e)return this.video.trigger("control-on",this.name),this.trigger("control-on",this.name)},t.prototype.turnOff=function(){var e;if(e=this._on,this._on=!1,this.isHidden=!0,this.hide(),this._on!==e)return this.video.trigger("control-off",this.name),this.trigger("control-off",this.name)},t.prototype.on=function(){return this._on},t.prototype.off=function(){return!this._on},t.prototype.initialize=function(){return this},t.prototype.remove=function(){return e.elem.remove(this.elem)},t}(),e.mixin(e.Vulcan.Control.prototype,e.bindable))}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){var t,r,o,s,a,l,u,c,d,h,p,f,m,g,y;r=e.Vulcan,e.Vulcan.VulcanUI||(i(446),i(455),i(459),i(451),i(453),i(445),i(442),i(448),i(450),i(449),i(293),t=i(4),d=i(25).default,a=d.bindActionsToStore,s=d.bindAccessorsToStore,g=function(){return i(438)},l=function(){return i(316).default},u=function(){return i(287).default},f=function(){return i(293).default},y=function(){return i(296).default},p=function(){return i(74).default},o=function(){return i(435).default},m=function(){return i(295).default},h=function(){return i(437).default},c=function(){return i(431).default},e.Vulcan.VulcanUI=function(){function i(e,t){this.video=e,this.vulcanElem=t,this.forceShowControls=n(this.forceShowControls,this),this.showControls=n(this.showControls,this),this.getRegion=n(this.getRegion,this),this.showStatus=n(this.showStatus,this),this.createRegion=n(this.createRegion,this),this.apiInstanceId=n(this.apiInstanceId,this)}return i.prototype.initialize=function(){return this.actions=a(this.apiInstanceId(),{settings:f().actions.default,statusBar:y().actions.default,reportAProblem:h().actions,root:p()}),this.accessors=s(this.apiInstanceId(),{chapters:u().accessors,share:m().accessors.default,reportAProblem:h().accessors}),this.setupRegions(),this.setupControls().then(function(e){return function(){var t,i;if(!((null!=(t=e.video._opts)?t.autoPlay:void 0)&&(null!=(i=e.video.engine)?i.canPlay():void 0)))return e.resetControls()}}(this))},i.prototype.destroy=function(){var e,t,i,n;null!=(i=this.still)&&i.destroy(),this.destroyControls(),this.destroyRegions(),n=this.video.plugin;for(e in n)t=n[e],"function"==typeof t.destroyUI&&t.destroyUI();return this.video._controlsVisible=!1,this.video=this.vulcanElem=this.still=null},i.prototype.apiInstanceId=function(){return this.video.uuid},i.prototype.setupRegions=function(){if(this.vulcanElem)return this.regions={},this.controlBar=t.elemFromObject({class:"w-control-bar"}),this.rightMenuBar=t.elemFromObject({class:"w-menu-bar"}),this.topMenuBar=t.elemFromObject({class:"w-icon-rail"}),this.createRegion("iconRail",this.topMenuBar),this.createRegion("left",this.controlBar),this.createRegion("center",this.controlBar),this.createRegion("centerMobile",this.controlBar),this.createRegion("right",this.controlBar),this.createRegion("captions",this.regions.right),this.createRegion("volume",this.regions.right),this.createRegion("share",this.regions.right),this.createRegion("settings",this.regions.right),this.createRegion("airplay",this.regions.right),this.createRegion("chapters",this.regions.right),this.createRegion("fullscreen",this.regions.right),this.createRegion("branding",this.regions.right),this.createRegion("thumbscrubber",this.regions.center),t.elemAppend(this.vulcanElem,this.controlBar),t.elemAppend(this.vulcanElem,this.rightMenuBar),t.elemAppend(this.vulcanElem,this.topMenuBar)},i.prototype.createRegion=function(e,i){var n;return n=t.elemFromObject({class:"w-control-bar__region w-control-bar__region--"+e}),this.regions[e]=n,t.elemAppend(i,n),n},i.prototype.destroyRegions=function(){var e;for(e in this.regions)delete this.regions[e];return t.elemRemove(this.controlBar),t.elemRemove(this.rightMenuBar),t.elemRemove(this.topMenuBar)},i.prototype.showStatus=function(e){return this.actions.statusBar.showMessage(e)},i.prototype.setupControls=function(){return this.video.info("setupControls"),this._allControls=[],this._controls=[],this.video.publicApi._maybeAsyncChain(this.video.uuid+".init_controls",[function(t){return function(){return t.still=new e.Vulcan.Still(t.video)}}(this),function(e){return function(){return e.createControl(r.SmallPlayButton,"left","smallPlayButton")}}(this),function(e){return function(){return e.createControl(r.VolumeControl,"volume","volumeControl")}}(this),function(e){return function(){return e.createControl(r.AirplayButton,"airplay","airplayButton")}}(this),function(e){return function(){return e.createControl(r.FullscreenButton,"fullscreen","fullscreenButton")}}(this),function(e){return function(){return e.createControl(r.PlaybarControl,"center","playbarControl")}}(this),function(e){return function(){return e.createControl(r.PlaybarPlaceholder,"centerMobile","playbarPlaceholder")}}(this),function(e){return function(){return e.createRegionlessControl(r.Loading,"loading")}}(this),function(e){return function(){return e.createRegionlessControl(r.ContextMenu,"contextMenu")}}(this),function(e){return function(){return e.initializeAllControls()}}(this),function(e){return function(){return e.unmountReportAProblem=h().mount(e.vulcanElem,e.apiInstanceId(),e.video.getReportAProblemData)}}(this),function(e){return function(){return e.unmountStatusBar=y().mount(e.vulcanElem,e.apiInstanceId())}}(this),function(e){return function(){return e.unmountBranding=l().mount(e.getRegion("right"),e.apiInstanceId())}}(this),function(e){return function(){return e.unmountChapters=u().mount(e.getRegion("chapters"),e.apiInstanceId())}}(this),function(e){return function(){return e.unmountChaptersMenu=u().mountMenu(e.rightMenuBar,e.apiInstanceId())}}(this),function(e){return function(){return e.unmountChaptersTitle=u().mountChapterTitle(e.getRegion("thumbscrubber"),e.apiInstanceId())}}(this),function(e){return function(){return e.unmountSettings=f().mount(e.getRegion("settings"),e.apiInstanceId())}}(this),function(e){return function(){return e.unmountBigPlayButton=o().mount(e.vulcanElem,e.apiInstanceId())}}(this),function(e){return function(){return e.unmountLogo=c().mount(e.getRegion("iconRail"),e.apiInstanceId())}}(this)]).then(function(t){return function(){return t.video.embedded(function(){return e.timeout(t.video.uuid+".init_still",function(){var i;if(t.still.initialize(),"transparent"!==t.video._opts.wmode)return(null!=(i=t.video._opts)?i.autoPlay:void 0)?e.timeout(t.video.uuid+".show-black-background-later",function(){return t.vulcanElem.style.backgroundColor="#000"},2e3):t.still.loaded(function(){return t.vulcanElem.style.backgroundColor="#000"})})}),t.video.ready(function(){if(t.video)return t.volumeControl.off()&&null==t.video._opts.volume?t.video.volume(1):void 0})}}(this))},i.prototype.unmountComponents=function(){return"function"==typeof this.unmountReportAProblem&&this.unmountReportAProblem(),"function"==typeof this.unmountStatusBar&&this.unmountStatusBar(),"function"==typeof this.unmountBranding&&this.unmountBranding(),"function"==typeof this.unmountChapters&&this.unmountChapters(),"function"==typeof this.unmountChaptersMenu&&this.unmountChaptersMenu(),"function"==typeof this.unmountChaptersTitle&&this.unmountChaptersTitle(),"function"==typeof this.unmountSettings&&this.unmountSettings(),"function"==typeof this.unmountBigPlayButton?this.unmountBigPlayButton():void 0},i.prototype.getRegion=function(e){return this.regions[e]},i.prototype.createControl=function(e,i,n,r){var o,s;return null==r&&(r={}),"regionless"===i?this.createRegionlessControl(e,i):(s=r.prepend,r=this.getDefaultControlOptions(r),o=new e(this.video,r),s?t.elemPrepend(this.getRegion(i),o.elem):t.elemAppend(this.getRegion(i),o.elem),this._allControls.push(o),this._controls.push(o),this[n]=o,o)},i.prototype.getDefaultControlOptions=function(t){var i;return i={},e.obj.merge(i,t)},i.prototype.destroyControls=function(){return"function"==typeof this.unmountComponents&&this.unmountComponents(),this._allControls.forEach(function(e){return function(t){return e.destroyControl(t)}}(this)),this._allControls=[],this._controls=[]},i.prototype.destroyControl=function(e){return t.elemRemove(e.elem),this._allControls=this.filterOutControl(this._allControls,e),this._controls=this.filterOutControl(this._controls,e),e.destroy()},i.prototype.filterOutControl=function(e,t){return e.filter(function(e){return e.name!==t.name})},i.prototype.createRegionlessControl=function(e,i){var n;return n=new e(this.video),this._allControls.push(n),t.elemAppend(this.vulcanElem,n.elem),this[i]=n,n},i.prototype.initializeAllControls=function(){return this._allControls.forEach(function(e){return e.initialize()})},i.prototype.showControls=function(i){var n;if(null==i&&(i={}),this.video.debug("showControls"),"beforeplay"!==this.video.state()&&e.timeout(this.video.uuid+".hide_controls_if_no_movement",function(e){return function(){return e.hideControls()}}(this),4e3),!this.video._controlsVisible&&(this.video._opts.controlsVisibleOnLoad||"beforeplay"!==this.video.state()||i.force))return g().logImpressions(this.accessors,this.video._tracker,this.video._opts),n=null!=i.time?i.time:200,t.elemAnimate([this.controlBar,this.rightMenuBar],{opacity:1},{time:n,callback:function(e){return function(){return t.elemAddClass(e.controlBar,"w-is-not-transitioning")}}(this)}),t.elemAddClass([this.controlBar,this.rightMenuBar],"w-is-visible"),this.video.showCursor(),this.video._controlsVisible=!0,this.video.trigger("controlvisibilitychanged",this.video._controlsVisible)},i.prototype.forceShowControls=function(){return this.showControls({force:!0})},i.prototype.hideControls=function(i){var n;if(null==i&&(i={}),this.video)return this.video.info("hideControls"),this.actions.root.closeAllMenus(),e.clearTimeouts(this.video.uuid+".add_not_transitioning_class"),n=null!=i.time?i.time:200,t.elemAnimate([this.controlBar,this.rightMenuBar],{opacity:0},{time:n}),t.elemRemoveClass(this.controlBar,"w-is-not-transitioning"),t.elemRemoveClass([this.controlBar,this.rightMenuBar],"w-is-visible"),this.video.inFullscreen()&&this.video.hideCursor(),this.video._controlsVisible=!1,this.video.trigger("controls-hidden"),this.video.trigger("controlvisibilitychanged",this.video._controlsVisible)},i.prototype.removeControls=function(){var e,t,i,n,r;for(n=this._allControls,r=[],t=0,i=n.length;t<i;t++)e=n[t],r.push(e.remove());return r},i.prototype.resetControls=function(){return this.video.info("resetControls"),"beforeplay"===this.video.state()&&this.showStillOrFirstFrame(),this.video._opts.controlsVisibleOnLoad?this.still.loaded(function(e){return function(){return e.video.showControls({time:0})}}(this)):this.hideControls()},i.prototype.showStillOrFirstFrame=function(){return this.video._opts.showFirstFrame?this.video.embedded(function(e){return function(){return e.video.engine.showFirstFrame()}}(this)):this.still.show()},i.prototype.fit=function(){var e,t,i,n,r,o;for(null!=(n=this.still)&&n.fitStill(),r=this._allControls,o=[],t=0,i=r.length;t<i;t++)e=r[t],o.push(null!=e&&"function"==typeof e.fit?e.fit():void 0);return o},i}())}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function i(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},o={}.hasOwnProperty,s=[].slice;!function(e){var t,o,a,l,u,c,d,h,p,f,m,g,y,_,v,b;Object.defineProperties&&(e.Vulcan,!e.VulcanPlayer)&&(t=i(11),e.SimpleVideo=i(89),e.ManualQualityVideo=i(201),e.TwoStrokeVideo=i(427),i(456),i(452),i(417),i(444),i(457),i(441),i(409),m=i(10),m.cdnFastWistiaComHost,u=m.cdnFastWistiaNetHost,b=function(){return i(422)},v=function(){return i(463)},f=function(){return i(21).default},_=function(){return i(293).default},c=function(){return i(287).default},y=function(){return i(74).default},h=function(){return i(403)},d=function(){return i(418)},p=function(){return i(413).default},g=i(25).default,l=g.bindActionsToStore,a=g.bindAccessorsToStore,g.bindListenersToStore,o=i(76),e.VulcanPlayer=function(i){function m(e){this.getReportAProblemData=n(this.getReportAProblemData,this),this.videoQuality=n(this.videoQuality,this),this.setupFakeFullscreenBindings=n(this.setupFakeFullscreenBindings,this),this.forceShowControls=n(this.forceShowControls,this),this.getRegion=n(this.getRegion,this),this.setupUI=n(this.setupUI,this),this._onKeyDown=n(this._onKeyDown,this),this.onNewBreakpoint=n(this.onNewBreakpoint,this),this.setupAccessibility=n(this.setupAccessibility,this),this.chapters=n(this.chapters,this),this.removeChapter=n(this.removeChapter,this),this.addChapter=n(this.addChapter,this),this.getChapter=n(this.getChapter,this),this.chaptersVisibleOnLoad=n(this.chaptersVisibleOnLoad,this),this.chaptersEnabled=n(this.chaptersEnabled,this),this.bindActions=n(this.bindActions,this),m.__super__.constructor.apply(this,arguments),this.reduxBridge=new(p())(e,this.uuid),this.reduxBridge.subscribeToStoreChanges(),this.reduxBridge.subscribeToPublicApiEvents(),this.bindActions()}var g;return r(m,i),m.prototype.bindActions=function(){return this.actions=l(this.uuid,{player:f().actions,settings:_().actions.default,chapters:c().actions,root:y()}),this.accessors=a(this.uuid,{chapters:c().accessors,player:f().accessors})},m.prototype.playerType="vulcan",m.prototype.elem=function(){var e;return null!=(e=this.engine)?e.videoElem():void 0},m.prototype.playerElem=function(){return this.vulcanElem},m.prototype.embed=function(){return this.up(function(e){return function(){return e.publicApi._maybeAsyncChain(e.uuid+".embed",[function(){return e.resetStateVariables()},function(){return e.placeEmbed(e.createEmbedElem())},function(){return e.reduxBridge.sync()},function(){return e.setupEmbed()},function(){return e.reduxBridge.sync()},function(){return e.embedded(function(){return e.reduxBridge.sync()})}])}}(this))},m.prototype.rebuild=function(t){return null==t&&(t={}),this.info("rebuild"),this.embedded(function(t){return function(){return t.embedded(!1),t.ready(!1),t.destroyUI(),t._oldVideoElem=t.elem(),t.stopStreaming(),e.elem.remove(t.wrapperElem),t.wipeOutstandingAsyncFunctions(),t.embed()}}(this)),this},m.prototype.setupEmbed=function(){var t;return this.info("setupEmbed"),this.videoElem=this.engine.videoElem(),this.vulcanElem=document.getElementById(this.uuid+"_vulcan"),this.colors=new e.Vulcan.Colors(this),this.setupCss(),t=this.setupUI(),this.setupBindings(),this.setupAccessibility(),this.updateBreakpoint(),e.detect.iphone||e.detect.ipad||this.disableTextTracks(),this._oldVideoElem&&(this.trigger("rebuild",this._oldVideoElem,this.engine.videoElem()),this._oldVideoElem=null),t.then(function(t){return function(){var i,n,r;return r=function(){var e,t;e=this.plugin,t=[];for(i in e)n=e[i],t.push(n);return t}.call(t),t.callPlayerDidEmbedOnPlugins(r).then(function(){return e.timeout(t.uuid+".finish_embedding",function(){return t.info("embedded"),t.reduxBridge.syncEmbedDimensions(),t.embedded(!0),t.checkForReady()},0)})}}(this)),e.timeout(this.uuid+".fit_later",function(e){return function(){return e.fit()}}(this),500)},m.prototype.callPlayerDidEmbedOnPlugins=function(t,i){var n,r,o;return null==t&&(t=[]),null==i&&(i=new e.StopGo),0===t.length?i.go():(r=t.shift(),o=function(){try{return"function"==typeof r.playerDidEmbed?r.playerDidEmbed():void 0}catch(e){return n=e,this.error(n),null}}.call(this),o&&o.then&&o.go?o.then(function(e){return function(){return e.callPlayerDidEmbedOnPlugins(t,i)}}(this)):this.callPlayerDidEmbedOnPlugins(t,i)),i},m.prototype.checkForReady=function(){return this._checkDownState(),this.up(function(e){return function(){return e.embedded(function(){return e.engine.onReady().then(function(){return e.ready(!0)})})}}(this))},m.prototype.chaptersEnabled=function(e){return void 0!==e?this.actions.chapters.setIsVisible(e):this.accessors.chapters.getIsVisible()},m.prototype.chaptersVisibleOnLoad=function(e){return void 0!==e?this.actions.chapters.setIsVisibleOnLoad(e):this.accessors.chapters.getIsVisibleOnLoad()},m.prototype.getChapter=function(e){return this.accessors.chapters.getChapterById(e)},m.prototype.addChapter=function(e){return this.actions.chapters.addChapter(e)},m.prototype.removeChapter=function(e){return this.actions.chapters.removeChapter(e)},m.prototype.chapters=function(e){return e?this.actions.chapters.setChapters(e):this.accessors.chapters.getChapters()},m.prototype.customerLogo=function(e){return this.actions.player.setEmbedOptionFor("showCustomerLogo",e)},m.prototype.setupAccessibility=function(){return this._accessibilityHelper=new e.Vulcan.AccessibilityHelper(this)},m.prototype.transferStateFrom=function(e){if(this._heightBeforeFullscreen=e._heightBeforeFullscreen,this._widthBeforeFullscreen=e._widthBeforeFullscreen,this._inFullscreen=e._inFullscreen,e._inFullscreen)return this.notFullscreen(function(e){return function(){return e.width(e._widthBeforeFullscreen),e.height(e._heightBeforeFullscreen)}}(this))},m.prototype.createEmbedElem=function(){var t,i;return i={id:this.uuid+"_vulcan",style:{background:"transparent",display:"block",height:"100%",overflow:"hidden",position:"relative",width:"100%"}},t=e.elem.fromObject(i),this._preloadPreference=this.preloadValue(),this.engine=this.initializeEngine(t),this.engine.root},m.prototype.initializeEngine=function(t){var i,n;return i=o.bestUsableEngineClass(this.publicApi.judyCtx(),this._mediaData,this._opts),n=new i(t,this._mediaData,this.engineAttributes()),this.embedded(function(e){return function(){return e.ui.actions.settings.setValueFor("videoQuality",e.engine.currentAsset().slug)}}(this)),n.bind("stream-changed",function(t){return function(i){var r,o;if(t.ui)return i?t.ui.actions.settings.setValueFor("videoQuality",i.slug):null!=(null!=(r=n.hls)?r.startLevel:void 0)&&isNaN(null!=(o=n.hls)?o.startLevel:void 0)&&!t.publicApi._triedStartLevelFix?(t.publicApi._triedStartLevelFix=!0,t.error("no asset set with stream-changed; startLevel is NaN. rebuilding player.",n.hls.startLevel),t.error("startLevel",n.hls.startLevel),t.error("levels",n.hls.levels),e.timeout(t.uuid+".rebuild_soon",function(){return t.rebuild()},1e3)):null!=n.hls&&null==n.hls.startLevel?t.error("stream changed - hls.startLevel is undefined"):void 0}}(this)),n},m.prototype.engineAttributes=function(){var i,n,r,o,s,a,l;return l=this._opts.videoQuality?this._opts.videoQuality:this._opts.videoFoam||this.videoWidth()>=720?"md":null,s=this.bandwidthTest().isFresh()?this.bandwidthTest().savedResult().clientKbps:null,a=this._mediaData.secondaryMediaData?e.obj.clone(this._mediaData.secondaryMediaData):this._opts.secondaryVideoUrl?(n=e.obj.clone(this._mediaData),r=this.originalAsset(),n.assets=[{container:"mp4",ext:"mp4",codec:"x264",public:!0,url:this._opts.secondaryVideoUrl,height:r.height,width:r.width,type:"mp4_video",display_name:t.numericSizeSnapped(r.width,r.height)+"p",status:t.READY,created_at:(new Date).getTime()}],n):null,i=(null!=(o=this._opts.twoStroke)?o.layoutTiming:void 0)?this._opts.twoStroke.layoutTiming:this._opts.layoutTiming,{hashedId:this.hashedId(),loop:"loop"===this._opts.endVideoBehavior,playsinline:this._opts.playsinline,preload:this._preloadPreference,duration:this._mediaData.duration,trimStart:this._opts.trimStart,trimEnd:this._opts.trimEnd,width:this.videoWidth(),height:this.videoHeight(),videoQuality:l,savedBandwidth:s,qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax,secondaryMediaData:a,layoutTiming:i}},m.prototype.preloadValue=function(){var t,i,n,r,o;return r=this._opts.autoPlay&&!this.publicApi.popover&&this.looksUp()?"auto":null!=this._opts.preload?this._opts.preload:this._mediaData.preloadPreference,this._mediaData.spherical?this._opts._inIframe?"none":(t=function(){var t,n;t=e.data("video"),n=[];for(i in t)o=t[i],n.push(o);return n}(),t.length>1?"none":"auto"):"metadata"===r?"metadata":!0===r||"auto"===r?"auto":!1===r||"none"===r?"none":(t=function(){var t,n;t=e.data("video"),n=[];for(i in t)o=t[i],n.push(o);return n}(),this._opts._inIframe&&top!==parent?"none":this._opts._inIframe&&e.util.parentFramesLength()>25?"none":this._opts._inIframe&&(!window._allIframes||_allIframes.length>2)?"none":!this._opts._inIframe&&t.length>2?"none":(null!=(n=this._mediaData.stats)?n.loadCount:void 0)>5e3&&this._mediaData.stats.uniquePlayCount/this._mediaData.stats.uniqueLoadCount<.1?"none":"metadata")},e.detect.chrome&&"metadata"===g&&!m.plugin.hlsVideo&&(g="none"),m.prototype.videoDimension=function(){return this._mediaData.spherical?";dimension=360;":""},m.prototype.setupBindings=function(){return this.setupPlayerApiBindings(),this.setupDomBindings(),this.setupVideoBindings(),this.setupFullscreenBindings(),this.setupKeyBindings()},m.prototype.setupPlayerApiBindings=function(){return this.listenForEvents(),e.timeout(this.uuid+".poll_for_events",function(e){return function(){return e.pollForEvents()}}(this))},m.prototype.setupMouseBindings=function(){return null==this._onMouseLeavesWindow&&(this._onMouseLeavesWindow=function(e){return function(t){var i;return i=t.relatedTarget||t.toElement,i&&"HTML"!==i.nodeName||(e.debug("_onMouseLeavesWindow",i),e._mouseover=!1,e._keyBindingsActive=!1),!0}}(this)),e.elem.rebind(document,"mouseout",this._onMouseLeavesWindow),null==this._onMouseoverVideo&&(this._onMouseoverVideo=function(t){return function(i){return e.elem.containsOffset(t.vulcanElem,i.pageX,i.pageY)&&(t.debug("_onMouseoverVideo",i.pageX,i.pageY),t._keyBindingsActive=!0,t._mouseover=!0),!0}}(this)),e.elem.rebind(this.vulcanElem,"mouseover",this._onMouseoverVideo),null==this._onMousemoveVideo&&(this._onMousemoveVideo=function(t){return function(i){return e.elem.containsOffset(t.vulcanElem,i.pageX,i.pageY)&&(t.debug("_onMousemoveVideo",i.pageX,i.pageY),t._keyBindingsActive=!0,t._mouseover=!0),!0}}(this)),e.elem.rebind(this.vulcanElem,"mousemove",this._onMousemoveVideo),null==this._onMouseoutVideo&&(this._onMouseoutVideo=function(t){return function(i){return e.elem.containsOffset(t.vulcanElem,i.pageX,i.pageY)||(t.debug("_onMouseoutVideo",i.pageX,i.pageY),t._keyBindingsActive=!1,t._mouseover=!1),!0}}(this)),e.elem.rebind(this.vulcanElem,"mouseout",this._onMouseoutVideo),null==this._onClickVideo&&(this._onClickVideo=function(e){return function(t){return e.engine.isSourceOfBrowserEvent(t)&&!e._suppressVideoClicks&&(e.debug("_onClickVideo"),e.togglePlay(),e.showControls(),e.actions.root.closeAllMenus()),!0}}(this)),e.elem.rebind(this.vulcanElem,"click",this._onClickVideo),null==this._onDblClickVideo&&(this._onDblClickVideo=function(e){return function(t){return e.engine.isSourceOfBrowserEvent(t)&&!e._suppressVideoClicks&&(e.debug("_onDblClickVideo"),e.ui.fullscreenButton.on()&&(e.inFullscreen()?e.cancelFullscreen():e.requestFullscreen())),!0}}(this)),e.elem.rebind(this.vulcanElem,"dblclick",this._onDblClickVideo),null==this._showControlsOnMouseover&&(this._showControlsOnMouseover=function(e){return function(t){return"beforeplay"!==e.state()&&(e.debug("_showControlsOnMouseover"),e.showControls()),!0}}(this)),e.elem.rebind(this.vulcanElem,"mouseover",this._showControlsOnMouseover),null==this._hideControlsOnMouseout&&(this._hideControlsOnMouseout=function(t){return function(i){return t.inFullscreen()?(t.debug("_hideControlsOnMouseout -- in fullscreen, so showControls"),t.showControls()):(t.debug("_hideControlsOnMouseout"),t._calledPlay&&!e.elem.containsOffset(t.vulcanElem,i.pageX,i.pageY)&&t.hideControls()),!0}}(this)),e.elem.rebind(this.vulcanElem,"mouseout",this._hideControlsOnMouseout),null==this._showControlsOnMousemove&&(this._showControlsOnMousemove=function(e){return function(t){if(e._calledPlay&&!e._suppressShowControlsFromMouseMove)return e.debug("_showControlsOnMousemove"),e.showControls()}}(this)),e.elem.rebind(this.vulcanElem,"mousemove",this._showControlsOnMousemove)},m.prototype.setupTouchBindings=function(){return null==this._onTapVideo&&(this._onTapVideo=function(t){return function(i){var n;return e.detect.ios.version>0&&t.getIsSpherical()?(n="https://"+u()+"/360/"+t.hashedId(),i.preventDefault(),i.stopPropagation(),t.trigger("sphericaltap",n),!1):t.engine.isSourceOfBrowserEvent(i)?t.toggleControls():t.engine.isSourceOfBrowserEvent(i)?void 0:t.showControls()}}(this)),e.elem.rebind(this.vulcanElem,"touchend",this._onTapVideo),this.getIsFullscreenOnRotateToLandscape()&&(null==this._onOrientationChange&&(this._onOrientationChange=function(e){return function(t){if(e._fullscreenResizeToWindow(),-90===window.orientation||90===window.orientation){if("playing"!==e.state())return;if(e.engine.isMuted())return;return e.requestFullscreen()}return e.cancelFullscreen()}}(this)),window.screen.orientation?e.elem.rebind(window.screen.orientation,"change",this._onOrientationChange):e.elem.rebind(window,"orientationchange",this._onOrientationChange)),null==this._onWebkitBeginFullscreen&&(this._onWebkitBeginFullscreen=function(e){return function(){return e._widthBeforeFullscreen=e.width(),e._heightBeforeFullscreen=e.height(),e._inFullscreen=!0}}(this)),this.engine.bind("webkitbeginfullscreen",this._onWebkitBeginFullscreen),null==this._onWebkitEndFullscreen&&(this._onWebkitEndFullscreen=function(e){return function(){return e._onCancelFullscreen()}}(this)),this.engine.bind("webkitendfullscreen",this._onWebkitEndFullscreen),this.setupSwipeToUnfullscreen()},m.prototype.setupSwipeToUnfullscreen=function(){var t,i,n,r,o,s,a;return o=a=null,r=s=0,t=i=0,n=null,
null==this._cancelSwipe&&(this._cancelSwipe=function(t){return function(){return e.elem.style(t.chrome,{transform:""}),e.elem.unbind(t.vulcanElem,"touchmove",t._onSwipeMove),e.elem.unbind(t.vulcanElem,"touchend",t._onSwipeEnd),o=a=null,r=s=0,n=null}}(this)),null==this._startSwipe&&(this._startSwipe=function(t){return function(){return n=Date.now(),e.elem.rebind(t.vulcanElem,"touchmove",t._onSwipeMove),e.elem.rebind(t.vulcanElem,"touchend",t._onSwipeEnd)}}(this)),this._onSwipeStart=function(e){return function(t){var i,n;if(e.inFullscreen())return o=null!=(i=t.touches[0])?i.clientX:void 0,a=null!=(n=t.touches[0])?n.clientY:void 0,e._startSwipe()}}(this),this._onSwipeMove=function(l){return function(u){var c,d,h,p,f,m,g;return f=u.touches[0].clientX,g=u.touches[0].clientY,r=o-f,s=a-g,t=Math.abs(r),i=Math.abs(s),l.width(),m=i/l.height(),Date.now()-n>175&&m<.02?void l._cancelSwipe():m>=.02?(h=Math.sqrt(Math.pow(r,2)+Math.pow(s,2)),d=l.height(),p=h/Math.max(d,l.width()),c=s>0?-1:1,e.elem.style(l.chrome,{transform:"translate(0, "+c*p*d+"px)"})):void 0}}(this),this._onSwipeEnd=function(t){return function(n){var o,a,l;return i>0?(a=Math.sqrt(Math.pow(r,2)+Math.pow(s,2)),l=a/Math.max(t.height(),t.width()),l>.16?(t.pause(),o=s>0?-1:1,e.elem.animate(t.chrome,{transform:"translate(0, "+o*t.height()+"px)"},{time:200,callback:function(){return t._cancelSwipe(),t.cancelFullscreen()}})):e.elem.animate(t.chrome,{transform:"translate(0, 0)"},{time:200,callback:function(){return t._cancelSwipe()}})):t._cancelSwipe()}}(this),e.elem.rebind(this.vulcanElem,"touchstart",this._onSwipeStart)},m.prototype.setupDomBindings=function(){return e.detect.touchScreen?this.setupTouchBindings():this.setupMouseBindings(),null==this._fullscreenResizeToWindow&&(this._fullscreenResizeToWindow=function(t){return function(i){var n,r,o,s;if(t.inFullscreen()&&(t.debug("_fullscreenResizeToWindow"),r=t.width(),n=t.height(),s=e.elem.width(window),o=e.elem.height(window),r!==s&&t.width(e.elem.width(window),{fullscreen:!0,dontChangeContainer:!0}),n!==o&&t.height(e.elem.height(window),{fullscreen:!0,dontChangeContainer:!0}),r!==s||n!==o))return t.reduxBridge.syncEmbedDimensions(),t.updateBreakpoint()}}(this)),e.elem.rebind(window,"resize",this._fullscreenResizeToWindow)},m.prototype.getAllowFakeFullscreen=function(){return e.detect.ios.version>=10},m.prototype.getIsMultistream=function(){return null!=this._opts.secondaryVideoUrl},m.prototype.getIsSpherical=function(){return null!=this.plugin.sphericalVideo},m.prototype.getIsFullscreenOnRotateToLandscape=function(){return!(e.detect.ios.version>0&&e.detect.ios.version<10)&&(null!=this._opts.fullscreenOnRotateToLandscape?this._opts.fullscreenOnRotateToLandscape:!this.getIsSpherical())},m.prototype.setupVideoBindings=function(){return this.engine.getPreload()?this._startedLoadingAt=(new Date).getTime():this.bind("play",function(e){return function(){return e._startedLoadingAt=(new Date).getTime(),e.unbind}}(this)),this.bind("timechange",function(e){return function(){return e.actions.player.setVideoProgress(e.time()/e.duration())}}(this)),this.bind("progress",function(t){return function(){if(t.engine.anyBuffered())return t._firstByteReceivedAt=(new Date).getTime(),null!=t._startedLoadingAt&&(t._timeToFirstByte=t._firstByteReceivedAt-t._startedLoadingAt),e.elem.unbind}}(this)),this.bind("playbackratechange",function(e){return function(t){return e.actions.settings.setValueFor("playbackRate",t)}}(this)),this.bind("waiting",function(t){return function(i){if(!t._noDataFor5Seconds&&i>=5&&!t.receivedAnyVideoData()&&(t._noDataFor5Seconds=!0,e.Metrics.videoCount(t,"player/no-data/5-seconds")),!t._noDataFor10Seconds&&i>=10&&!t.receivedAnyVideoData()&&(t._noDataFor10Seconds=!0,e.Metrics.videoCount(t,"player/no-data/10-seconds")),!t._noDataFor15Seconds&&i>=15&&!t.receivedAnyVideoData())return t._noDataFor15Seconds=!0,e.Metrics.videoCount(t,"player/no-data/15-seconds")}}(this)),this.bind("widthchange",function(e){return function(t){return e.onWidthChange(t)}}(this)),this.bind("heightchange",function(e){return function(t){return e.onHeightChange(t)}}(this)),this.bind("playercolorchange",function(e){return function(){return e.onPlayerColorChange()}}(this)),e.bind("enter-fullscreen",this.onEnterFullscreen),this.embedded(function(e){return function(){return e.bandwidthTest().isFresh()?e._supportsHd=e.bandwidthTest().savedResult().supportsHd:e.hdAsset()&&null==e._supportsHd?e.bind("play",function(){return e.doBandwidthTest(),e.unbind}):void 0}}(this)),this.bind("play",function(e){return function(){return e._beforePlay=!1,e._ended=!1}}(this)),this.bind("end",function(e){return function(){if("reset"===e._opts.endVideoBehavior)return e.resetToFirstFrame()}}(this)),this.bind("switched-to-asset",function(e){return function(){var t;return null!=(t=e.actions)?t.settings.setValueFor("videoQuality",e.engine.currentAsset().slug):void 0}}(this))},m.prototype.isMediaDataUsingEmbedSsl=function(){var e,t,i,n;for(n=this._mediaData.assets,t=0,i=n.length;t<i;t++)if(e=n[t],e.url&&/embed-ssl\.wistia\.com/.test(e.url))return!0;return!1},m.prototype.onNewBreakpoint=function(e,t){return this.updateBreakpointClass(e,t)},m.prototype.updateBreakpointClass=function(t,i){return i.forEach(function(t){return function(i){var n;return n="bp-"+i,e.elem.removeClass(t.vulcanElem,n)}}(this)),this.addBreakpointClass(t)},m.prototype.addBreakpointClass=function(t){return e.elem.addClass(this.vulcanElem,"bp-"+t)},m.prototype.onWidthChange=function(e){return this.engine.onWidthChange(e),this.reduxBridge.syncEmbedDimensions(),this.updateBreakpoint()},m.prototype.onHeightChange=function(e){return this.engine.onHeightChange(e),this.reduxBridge.syncEmbedDimensions(),this.updateBreakpoint()},m.prototype.updateBreakpoint=function(){var t,i,n,r,o,s,a;for(i=this.accessors.player.getResponsiveClassNames(),t=i.split(" "),n=/bp\-\d{3,4}/,a=e.elem.classes(this.vulcanElem),o=0,s=a.length;o<s;o++)r=a[o],r.match(n)&&e.elem.removeClass(this.vulcanElem,r);return e.elem.addClass(this.vulcanElem,t.pop())},m.prototype.setupFullscreenBindings=function(){return null==this._onEnterFullscreen&&(this._onEnterFullscreen=function(t){return function(i){return i===t.chrome&&(t.info("_onEnterFullscreen"),t.trigger("before-enter-fullscreen"),t._inFullscreen=!0,t.notFullscreen(!1),t.injectFullscreenStyles(),t.showControls(),t.width(e.elem.width(window),{fullscreen:!0,dontChangeContainer:!0}),t.height(e.elem.height(window),{fullscreen:!0,dontChangeContainer:!0}),t.engine.onEnterFullscreen(),"Auto"===t.engine.selectedAsset().slug||t._forceAsset||t.switchToAsset(t.engine.defaultAsset()),t.reduxBridge.syncPlayer(),t.updateBreakpoint(),t.trigger("enter-fullscreen")),!0}}(this)),e.bind("enter-fullscreen",this._onEnterFullscreen),null==this._onCancelFullscreen&&(this._onCancelFullscreen=function(e){return function(){return e._inFullscreen&&(e.info("_onCancelFullscreen"),e._inFullscreen=!1,e.hideControls(),e.engine.onLeaveFullscreen(),"Auto"===e.engine.selectedAsset().slug||e._forceAsset||e.switchToAsset(e.engine.defaultAsset()),e.showControls(),e.notFullscreen(!0),e.removeFullscreenStyles(),e.width(e._widthBeforeFullscreen),e.height(e._heightBeforeFullscreen),e.fit(),e.reduxBridge.syncPlayer(),e.updateBreakpoint(),e.trigger("cancel-fullscreen")),!0}}(this)),e.bind("cancel-fullscreen",this._onCancelFullscreen)},m.prototype.onPlayerColorChange=function(){return this.updateColorsCss()},m.prototype.injectFullscreenStyles=function(){var t,i,n,r,o;if(!this._fullscreenStyle){for(document.body.id||(this._docBodyId=e.seqId("wistia_","_tmp_body_id"),document.body.setAttribute("id",this._docBodyId)),t="#"+document.body.id+", #"+document.body.id+" :full-screen-ancestor {\n  animation-name: none;\n  -webkit-animation-name: none;\n  transform: none;\n  -webkit-transform: none;\n}",r=["webkit","moz","ms","o"],i=0,n=r.length;i<n;i++)o=r[i],t+="#"+document.body.id+" :-"+o+"-full-screen-ancestor {\n  animation-name: none;\n  -webkit-animation-name: none;\n  transform: none;\n  -webkit-transform: none;\n}\n";return this._fullscreenStyle=e.css(this.wrapperElem,t)}},m.prototype.removeFullscreenStyles=function(){if(this._fullscreenStyle)return this._docBodyId&&document.body.id===this._docBodyId&&(document.body.removeAttribute("id"),this._docBodyId=null),e.elem.remove(this._fullscreenStyle),this._fullscreenStyle=null},m.prototype.setupKeyBindings=function(){return this._keyHeld=!1,e.elem.rebind(document,"keydown",this._onKeyDown)},m.prototype._onKeyDown=function(e){var t,i,n;if(i=/^(input|textarea|select)$/i.test(null!=(n=document.activeElement)?n.tagName:void 0),this._keyBindingsActive&&!i)switch(t=h(),e.which){case t.KEY_CODE_SPACE:return this._handleSpacebarEvent(e);case t.KEY_CODE_LEFT:return this._handleArrowEvent("left",e);case t.KEY_CODE_RIGHT:return this._handleArrowEvent("right",e);case t.KEY_CODE_UP:return this._handleArrowEvent("up",e);case t.KEY_CODE_DOWN:return this._handleArrowEvent("down",e);case t.KEY_CODE_F:case t.KEY_CODES_F11:return this.requestFullscreen();case t.KEY_CODE_ENTER:if(e.altKey||e.metaKey)return this.requestFullscreen()}},m.prototype._handleSpacebarEvent=function(e){return this.togglePlay(),this.showControls(),e.preventDefault()},m.prototype._handleArrowEvent=function(t,i){var n,r;if(!this.getIsSpherical()&&("left"!==t&&"right"!==t||this.ui.playbarControl.on())&&("up"!==t&&"down"!==t||this.ui.volumeControl.on())){this._registerKeydown(t),r="_"+t+"ArrowEventHandler";try{this[r](i)}catch(t){n=t,e.error(n)}return i.preventDefault(),this.showControls()}},m.prototype._registerKeydown=function(t){return e.timeout(this.uuid+"."+t+"_key_held",function(e){return function(){return e._keyHeld=!0}}(this),200),e.elem.bind(document,"keyup",function(i){return function(n){return e.clearTimeouts(i.uuid+"."+t+"_key_held"),i._keyHeld=!1,e.elem.unbind}}(this))},m.prototype._leftArrowEventHandler=function(e){return this.time(this.time()-this._getTimeIncrement(e)),this.trigger("keyboard:timechange",this.time(),this.duration())},m.prototype._rightArrowEventHandler=function(e){return this.time(this.time()+this._getTimeIncrement(e)),this.trigger("keyboard:timechange",this.time(),this.duration())},m.prototype._getTimeIncrement=function(e){return"playing"===this.state()?e.shiftKey||this._keyHeld?this.fastTimeDiff(this.duration()):this.slowTimeDiff(this.duration()):e.shiftKey?1:1/24},m.prototype._upArrowEventHandler=function(e){return this.volume(this.volume()+this._getVolumeIncrement(e))},m.prototype._downArrowEventHandler=function(e){return this.volume(this.volume()-this._getVolumeIncrement(e))},m.prototype._getVolumeIncrement=function(e){return e.shiftKey?.1:.01},m.prototype.setupUI=function(){return this.ui=new e.Vulcan.VulcanUI(this,this.vulcanElem),this.ui.initialize().then(function(e){return function(){return e.ui.still.loaded(function(){return e.actions.player.setIsUIReady(!0)})}}(this))},m.prototype.getStill=function(){return this.ui.still},m.prototype.resetControls=function(){return this.ui.resetControls()},m.prototype.controlEnabled=function(e,t){if(null!=t&&this.ui&&(this.info("controlEnabled",e,t),t?this.ui[e].turnOn():this.ui[e].turnOff(),this._opts.controlsVisibleOnLoad||"beforeplay"!==this.state()))return this.showControls()},m.prototype.bigPlayButtonEnabled=function(e){return this.actions.player.setEmbedOptionFor("bigPlayButtonControl",e),this},m.prototype.bigPlayButtonTimeEnabled=function(e){return this.actions.player.setEmbedOptionFor("hasBigPlayButtonTime",e),this},m.prototype.smallPlayButtonEnabled=function(e){return this.controlEnabled("smallPlayButton",e),this},m.prototype.playbarControlEnabled=function(e){return this.controlEnabled("playbarControl",e),this},m.prototype.settingsControlEnabled=function(e){return this.actions.player.setEmbedOptionFor("settingsControl",e),this},m.prototype.playbackRateControlEnabled=function(e){return this.actions.player.setEmbedOptionFor("playbackRateControl",e),this},m.prototype.qualityControlEnabled=function(e){return this.actions.player.setEmbedOptionFor("qualityControl",e),this},m.prototype.volumeControlEnabled=function(e){return this.controlEnabled("volumeControl",e),this},m.prototype.fullscreenButtonEnabled=function(e){return this.controlEnabled("fullscreenButton",e),this},m.prototype.getRegion=function(e){return this.ui.getRegion(e)},m.prototype.createControl=function(e,t,i){return this.ui.createControl(e,t,null,i)},m.prototype.destroyControl=function(e){var t;return null!=(t=this.ui)?t.destroyControl(e):void 0},m.prototype.toggleControls=function(){return this._controlsVisible?this.hideControls():this.showControls()},m.prototype.showControls=function(e){var t;if(null==e&&(e={}),!this._opts.chromeless)return null!=(t=this.ui)&&t.showControls(e),this.trigger("show-controls")},m.prototype.forceShowControls=function(e){if(null==e&&(e={}),!this._opts.chromeless)return this.ui.forceShowControls(e)},m.prototype.previewControls=function(){return this.info("previewControls"),this._previewControls=!0,this.showControls(),this._previewControls=!1},m.prototype.hideControls=function(e){return null==e&&(e={}),this.ui.hideControls(e),this.trigger("hide-controls")},m.prototype.hideCursor=function(){return this.info("hideCursor"),this._suppressShowControlsFromMouseMove=!0,this._embedContainer.style.cursor="none",e.timeout(this.uuid+".suppress_show_controls",function(e){return function(){return e._suppressShowControlsFromMouseMove=!1}}(this),500)},m.prototype.showCursor=function(){return this._embedContainer.style.cursor=""},m.prototype.listenForEvents=function(){return null==this.playRelay&&(this.playRelay=function(e){return function(){return e._hasPlayed=!0,e._ended=!1,e.trigger("play")}}(this)),null==this.pauseRelay&&(this.pauseRelay=function(e){return function(){return e.fireTimeChangedEventsIfChanged(),e.trigger("pause")}}(this)),null==this.endRelay&&(this.endRelay=function(e){return function(){return e.fireTimeChangedEventsIfChanged(),e.trigger("end"),e.trigger("afterend")}}(this)),null==this.ratechangeRelay&&(this.ratechangeRelay=function(e){return function(){return e.trigger("ratechange",e.playbackRate())}}(this)),null==this.volumechangeRelay&&(this.volumechangeRelay=function(e){return function(){if(!e.engine.isSeeking())return e.trigger("volumechange",e.volume())}}(this)),null==this.progressRelay&&(this.progressRelay=function(e){return function(){return e.trigger("progress")}}(this)),null==this.beforeplayRelay&&(this.beforeplayRelay=function(e){return function(){return e.trigger("beforeplay")}}(this)),null==this.waitingRelay&&(this.waitingRelay=function(e){return function(){return e.trigger.apply(e,["waiting"].concat(s.call(arguments)))}}(this)),null==this.waitingDoneRelay&&(this.waitingDoneRelay=function(e){return function(){return e.trigger.apply(e,["done-waiting"].concat(s.call(arguments)))}}(this)),this.unbindVideoListeners(),this.info("listenForEvents"),this.engine.bind("beforeplay",this.beforeplayRelay),this.engine.bind("pause",this.pauseRelay),this.engine.bind("playing",this.playRelay),this.engine.bind("ended",this.endRelay),this.engine.bind("volumechange",this.volumechangeRelay),this.engine.bind("ratechange",this.ratechangeRelay),this.engine.bind("progress",this.progressRelay),this.engine.bind("custom-waiting",this.waitingRelay),this.engine.bind("custom-done-waiting",this.waitingDoneRelay)},m.prototype.unbindVideoListeners=function(){return this.info("unbindVideoListeners"),this.engine.unbind("pause",this.pauseRelay),this.engine.unbind("playing",this.playRelay),this.engine.unbind("ended",this.endRelay),this.engine.unbind("volumechange",this.volumechangeRelay),this.engine.unbind("ratechange",this.ratechangeRelay),this.engine.unbind("progress",this.progressRelay),this.engine.unbind("custom-waiting",this.waitingRelay),this.engine.unbind("custom-done-waiting",this.waitingDoneRelay)},m.prototype.unbindListeners=function(){if(this.info("unbindListeners"),this.unbindVideoListeners(),e.elem.unbindAll(this.vulcanElem),e.elem.unbind(this.vulcanElem,"mouseover",this._showControlsOnMouseover),e.unbind("enter-fullscreen",this._onEnterFullscreen),e.unbind("cancel-fullscreen",this._onCancelFullscreen),e.elem.unbind(window,"resize",this._fullscreenResizeToWindow),e.elem.unbind(document,"keydown",this._onKeyDown),null!=this._onMouseLeavesWindow&&e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow),null!=this._onOrientationChange&&(window.screen.orientation?e.elem.unbind(window.screen.orientation,"change",this._onOrientationChange):e.elem.unbind(window,"orientationchange",this._onOrientationChange)),null!=this._onWebkitBeginFullscreen&&this.engine.unbind("webkitbeginfullscreen",this._onWebkitBeginFullscreen),null!=this._onWebkitEndFullscreen)return this.engine.unbind("webkitendfullscreen",this._onWebkitEndFullscreen)},m.prototype.pollForEvents=function(){return this.info("pollForEvents"),this.setupWaitingDetection(),e.eventLoop.add(this.uuid+".events",this._eventLoopDuration,function(e){return function(){var t;if(!e.looksDown()&&(t=e.state(),t!==e._lastState&&(e.trigger("statechange",t),e._lastState=t,"playing"===t?e.playing(!0):e.playing(!1)),e.fireTimeChangedEventsIfChanged(),"ended"!==t&&e.mozillaAtEnd()))return e.engine.pause(),e._ended=!0,e.trigger("end")}}(this))},m.prototype.mozillaAtEnd=function(){return!this._ended&&e.detect.browser.mozilla&&e.detect.browser.version<45&&!e.detect.edge&&e.detect.windows&&this._waiting>=.6&&Math.abs(this.time()-this.duration())<2},m.prototype.fireTimeChangedEventsIfChanged=function(){var e,t,i;if(t=this.time(),e=t!==this._lastTimePosition,i="beforeplay"===this.state()&&t<.3,e&&t>0&&!i)return this._ended=!1,this.trigger("timechange",t),Math.floor(t)!==Math.floor(this._lastTimePosition)&&this.trigger("secondchange",Math.floor(t)),!this._beforePlay&&!this._ended&&Math.abs(t-this._lastTimePosition)>this._attrs.seekThreshold&&this.trigger("seek",t,this._lastTimePosition),this._lastTimePosition=t},m.prototype.setupCss=function(){return e.util.injectWistiaOverpassFontFace(),this.jssGenericHelper=new(d())(b()),this.jssColorsHelper=new(d())(v()),this.vulcanStyle=this.updateGenericCss(),this.vulcanColorsStyle=this.updateColorsCss()},m.prototype.updateColorsCss=function(){return this.jssColorsHelper.update(this.getColorsStyleVars())},m.prototype.updateGenericCss=function(){return this.jssGenericHelper.update(this.getGenericStyleVars())},m.prototype.getGenericStyleVars=function(){return{__chromeid__:this.chrome.id,__wrapperid__:this.wrapperElem.id,__uuid__:this.uuid,__base64_check__:this.base64Check(),__base64_arrow__:this.base64Arrow()}},m.prototype.getColorsStyleVars=function(){return{__chromeid__:this.chrome.id,__primary_95__:this.colors.primary().alpha(.95).toRgba(),__primary_70__:this.colors.primary().alpha(.7).toRgba(),__quaternary_70__:this.colors.quaternary().alpha(.7).toRgba(),__tertiary_60__:this.colors.tertiary().alpha(.6).toRgba(),__secondary_30__:this.colors.secondary().alpha(.3).toRgba(),__white_0__:this.colors.white().alpha(0).toRgba()}},m.prototype.base64Check=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ1JREFUeNpiYKAA/P//vwGIzwOxAgOlAGiIw38EeA/iU2KYANSQ/2iGCpBr4P7/mCCBXMP6sRg2n1zDArAYdp4sr4JiEke4GWBTbADE90EuwGPgeSyuC8AVY/eRFDUQGW79pMTYeli44Ao3UmMNFtgJOMJNgVCAY9OICwQQG4sGaGH5n+hwI5Cl9uMwbD8lebWfavkUR7gSXZIABBgAXdzjGyTOH2QAAAAASUVORK5CYII="},m.prototype.base64Arrow=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAUCAYAAAC9BQwsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAF1JREFUeNpiYCAC/P//3wCI74NoBmIBVNP7/xDwnijNaJr+I2lWIFUTCMwf1UQTTVCN+7FoAhkkQEijABCfx6L5/KhmemtmwqWRkZHxA5ByBOILDOQANJvhTgUIMADM8e7U1DESegAAAABJRU5ErkJggg=="},m.prototype.fit=function(){return m.__super__.fit.apply(this,arguments),this.embedded(function(e){return function(){return e.correctForIntegers(),e.ui.fit()}}(this))},m.prototype.rangeBuffered=function(){return this.engine.activeBufferRange()},m.prototype.timeBuffered=function(){var e;return e=this.rangeBuffered(),e?e[1]-e[0]:0},m.prototype.totalBuffered=function(){return this.engine.totalBuffered()},m.prototype.totalPlayed=function(){return this.engine.totalPlayed()},m.prototype.sequentialBufferedRange=function(){return this.engine.sequentialBufferedRange()},m.prototype.togglePlay=function(){return this.info("togglePlay"),"playing"===this.state()?this.pause():this.play()},m.prototype.requestFullscreen=function(){if(!this.inFullscreen())return this.info("requestFullscreen"),this._widthBeforeFullscreen=this.width(),this._heightBeforeFullscreen=this.height(),e.detect.fullscreenEnabled?e.elem.requestFullscreen(this.chrome):this.getAllowFakeFullscreen()?this.enterFakeFullscreen():this.engine.requestFullscreen()},m.prototype.cancelFullscreen=function(){if(this.inFullscreen())return this.info("cancelFullscreen"),e.detect.fullscreenEnabled?e.elem.cancelFullscreen():this.getAllowFakeFullscreen()?this.cancelFakeFullscreen():this.engine.cancelFullscreen()},m.prototype.enterFakeFullscreen=function(){return this._inFakeFullscreen=!0,this._chromeParent=this.chrome.parentNode,document.body.appendChild(this.chrome),this._widthBeforeFullscreen=this.width(),this._heightBeforeFullscreen=this.height(),this._leftOffsetBeforeFullscreen=e.util.scrollLeft(),this._onEnterFullscreen(this.chrome),this.setupFakeFullscreenBindings(),this.chrome.style.position="fixed",this.chrome.style.top=0,this.chrome.style.left=0,this.chrome.style.zIndex=2147483647,e.util.scrollLeft(0),"beforeplay"!==this.state()&&this.hideControls(),this.engine.onEnterFullscreen()},m.prototype.setupFakeFullscreenBindings=function(){return e.eventLoop.add(this.uuid+".fakefullscreen",100,function(e){return function(){return e._fullscreenResizeToWindow()}}(this)),null==this._preventDefaultForTouchMove&&(this._preventDefaultForTouchMove=function(e){return e.preventDefault()}),e.elem.rebind(this.vulcanElem,"touchmove",this._preventDefaultForTouchMove)},m.prototype.cancelFakeFullscreen=function(){var t;if(this._inFakeFullscreen=!1,this._onCancelFullscreen(this.chrome),null!=(t=this._chromeParent)&&t.appendChild(this.chrome),this.chrome.style.position="",e.util.scrollLeft(this._leftOffsetBeforeFullscreen),e.eventLoop.remove(this.uuid+".fakefullscreen"),this.engine.onLeaveFullscreen(),null!=this._preventDefaultForTouchMove)return e.elem.unbind(this.vulcanElem,"touchmove",this._preventDefaultForTouchMove)},m.prototype.inFullscreen=function(){return!!this._inFullscreen},m.prototype.stopStreaming=function(){var e;return this.info("stopStreaming"),null!=(e=this.engine)?e.stopStreaming():void 0},m.prototype.destroyUI=function(){var t,i,n,r;return e.elem.unbind(document,"mouseout",this._onMouseLeavesWindow),e.elem.unbind(document,"keydown",this._onKeyDown),e.elem.unbind(window,"resize",this._fullscreenResizeToWindow),e.unbind("cancel-fullscreen",this._onCancelFullscreen),e.unbind("enter-fullscreen",this._onEnterFullscreen),null!=(t=this.ui)&&t.destroy(),this.ui=null,null!=(i=this.colors)&&(i.video=null),this.colors=null,null!=(n=this.storyboard)&&n.destroy(),this.storyboard=null,this._sdAsset=this._mdAsset=this._mdOrSdAsset=this._hdAsset=this._original=this._iphoneAsset=this._smallestNormalMp4=null,e.elem.remove(this.vulcanStyle),e.elem.remove(this.vulcanColorsStyle),null!=(r=this._accessibilityHelper)?r.destroy():void 0},m.prototype.destroyStore=function(){var e,t;return this.reduxBridge.destroy(),null!=(e=window.__wistiaStores)&&(e[this.uuid]=null),null!=(t=window.__wistiaStores)?delete t[this.uuid]:void 0},m.prototype.cleanup=function(){return this.info("cleanup"),this.destroyUI(),this.destroyStore()},m.prototype.resetToFirstFrame=function(){return this.info("resetToFirstFrame"),this.commandQueueOpen(function(e){return function(){return e.actions.player.setIsPlayInitiated(!1),e.engine.reset(),e._beforePlay=!0,e._ended=!1,e.resetControls()}}(this))},m.prototype.fastTimeDiff=function(e){return e<30?5:e<60?10:10+e/60},m.prototype.slowTimeDiff=function(e){return e<60?2:10},m.prototype.removeNonVideoElements=function(){return this.info("removeNonVideoElements"),this.cleanup()},m.prototype.initFrom=function(e){var t,i,n,r,o;for(this.info("initFrom",e),r="_cssBeforeFullscreen\n_heightBeforeFullscreen\n_inFullscreen\n_inFakeFullscreen\n_mouseover\n_widthBeforeFullscreen\n_chromeParent\nengine\nuuid\nwrapperElem".split(/[\s\n]+/),t=0,i=r.length;t<i;t++)n=r[t],this[n]=e[n];return this.resetStateVariables(),e.unbindListeners(),e.removeNonVideoElements(),null!=(o=this.reduxBridge)&&o.destroy(),this.reduxBridge=new(p())(this.publicApi,this.uuid),this.reduxBridge.subscribeToStoreChanges(),this.reduxBridge.subscribeToPublicApiEvents(),this.bindActions(),this.reduxBridge.sync(),this.engine.changeVideo(this._mediaData,this.engineAttributes()),this.setupEmbed(),this._inFakeFullscreen&&this.setupFakeFullscreenBindings(),this.embedded(function(e){return function(){return e.reduxBridge.sync()}}(this))},m.prototype.assetOptions=function(){return this.engine.selectableAssets()},m.prototype.switchToAsset=function(e,t){return null==t&&(t=!1),this.info("switchToAsset",e,t),this.commandQueueOpen.synchronize(function(i){return function(n){return i.engine.changeStream(e,"playing"===i.state(),t).then(n)}}(this))},m.prototype.switchToAssetWithoutLoad=function(t,i){if(null==i&&(i=!1),this.info("switchToAssetWithoutLoad",t,i),e.elem.inDom(this.videoElem))return this.engine.changeStreamWithoutLoad(t),this.trigger("switched-to-asset-without-load",t.type)},m.prototype.videoQuality=function(e){var t;return t=this.assetOptions().filter(function(t){return t.slug===e}),this.forceSwitchToAsset(t[0])},m.prototype.forceSwitchToAsset=function(e){return this.info("forceSwitchToAsset",e),this._forceAsset=e,this.switchToAsset(e)},m.prototype.supportsHd=function(){return!!this.hdAsset()&&(null==this._supportsHd||this._supportsHd)},m.prototype.bestAsset=function(){return e.HlsVideo&&this.engine instanceof e.HlsVideo?e.HlsVideo.fakeAutoAsset():this._forceAsset||this.originalBestAsset()},m.prototype.originalBestAsset=function(){return"sd-only"===this._opts.videoQuality?this.mdOrSdAsset():"hd-only"===this._opts.videoQuality?this.hdAsset()||this.mdAsset()||this.sdAsset():"md"===this._opts.videoQuality?this.mdAsset()||this.sdAsset():"low-fps"===this._opts.videoQuality?this.lowFpsAsset()||this.sdAsset():this.chosenAsset()?this.chosenAsset():this.isScreencast()&&this.screencastAsset()?this.screencastAsset():this.inFullscreen()&&this.supportsHd()?this.hdAsset()||this.bandwidthBasedAsset()||this.mdAsset()||this.sdAsset():this.bandwidthBasedAsset()||this.mdOrSdAsset()},m.prototype.bandwidthBasedAsset=function(){var t;return e.mux.experimentEnabled("less-to-load")?null:this.bandwidthTest().isFresh()?(t=this.bandwidthTest().savedResult().clientKbps,this.playableAssetInRange({bitrate:[0,t],width:[0,this._opts.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"})||this.mdOrSdAsset()):null},m.prototype.chosenAsset=function(){var e,t,i;return/width:/.test(this._opts.videoQuality)?(t=this._opts.videoQuality.match(/width:([a-z]*)(\d+)/i),t[0],e=t[1],i=t[2],/^\d+$/.test(i)?(i=parseInt(i,10),""===e||"lte"===e?this.playableAsset({width:[0,i],sortBy:"width desc"})||this.playableAsset({width:[i,1e4],sortBy:"width asc"}):"gte"===e?this.playableAsset({width:[i,1e4],sortBy:"width asc"})||this.playableAsset({width:[0,i],sortBy:"width desc"}):null):null):null},m.prototype.mdOrSdAsset=function(){return this._mdOrSdAsset||(this._mdOrSdAsset="sd-only"===this._opts.videoQuality?this.sdAsset():"md"===this._opts.videoQuality||this._opts.videoFoam||this.videoWidth()>=720?this.mdAsset()||this.sdAsset():this.sdAsset())},m.prototype.screencastAsset=function(){return this._screencastAsset||(this._screencastAsset=this.playableAsset({bitrate:[0,1300],sortBy:"width desc, bitrate asc",width:[0,this.originalAsset().width]}))},m.prototype.sdAsset=function(){return this._sdAsset||(this._sdAsset=this.iphoneAssetInRange()||this.mp4AssetInRange()||this.iphoneAsset()||this.playableAsset())},m.prototype.mdAsset=function(){return this._mdAsset||(this._mdAsset=this.playableAssetInRange({width:[720,980],sortBy:"width desc, bitrate desc"}))},m.prototype.hdAsset=function(){return this._hdAsset||(this._hdAsset=this.playableAssetInRange({width:[980,this._opts.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"}))},m.prototype.lowFpsAsset=function(){return this._lowFpsAsset||(this._lowFpsAsset=this.mp4Asset({public:!1}))},m.prototype.stillUrl=function(t){return t=e.obj.merge({playButton:!1},t),m.__super__.stillUrl.call(this,t)},m.prototype.bandwidthTest=function(){return null!=this._bandwidthTest?this._bandwidthTest:this._bandwidthTest=new e.BandwidthTest({timeoutLength:4e3,uuid:this.uuid,saveKey:"vulcan.bandwidth"})},m.prototype.doBandwidthTest=function(){var t,i,n,r;for(this.info("doBandwidthTest"),null==this._endBandwidthTestEarly&&(this._endBandwidthTestEarly=function(t){return function(){return t.info("_endBandwidthTestEarly"),t.bandwidthTest().endEarly(),e.Metrics.videoCount(t,"player/bandwidth_test/ended_early")}}(this)),r=["seek","pause","end","switched-to-asset-without-load"],i=0,n=r.length;i<n;i++)t=r[i],this.rebind(t,this._endBandwidthTestEarly);return null==this._failBandwidthTestOnWaiting&&(this._failBandwidthTestOnWaiting=function(t){return function(){return t.info("_failBandwidthTestOnWaiting"),t.bandwidthTest().fail(),e.Metrics.videoCount(t,"player/bandwidth_test/failed"),t.unbind}}(this)),this.rebind("waiting",this._failBandwidthTestOnWaiting),this._endBandwidthTestOnTime=function(i){return function(){var n,r,o;if(i.info("_endBandwidthTestOnTime"),i._supportsHd=i.bandwidthTest().supportsHd(),i.engine.setAttributes({supportsHd:!0}),i._failBandwidthTestOnWaiting&&i.unbind("waiting",i._failBandwidthTestOnWaiting),i._endBandwidthTestEarly)for(o=["seek","pause","end","switched-to-asset-without-load"],n=0,r=o.length;n<r;n++)t=o[n],i.unbind(t,i._endBandwidthTestEarly);return e.Metrics.videoCount(i,"player/bandwidth_test/ended_on_time")}}(this),this.bandwidthTest().bind("ended",this._endBandwidthTestOnTime),this.bandwidthTest().start()},m.prototype.play=function(){return this.suppressPlay()?this:(this.info("play"),this.trigger("play-method-invoked"),this.ready(function(e){return function(){var t;return t=function(){return e.trigger("play-initiated"),e.trigger("startplay"),e._calledPlay=!0,e.mozillaAtEnd()&&e.engine.setCurrentTime(0),e.engine.play()},e.canPlay()?e.commandQueueOpen.synchronize(function(e){return t().then(e)}):e.commandQueueOpen(t)}}(this)),this)},m.prototype._playWithoutCommandQueue=function(e){return this.engine.play().then(e)},m.prototype.canPlay=function(){return!this.suppressPlay()&&this.engine.canPlay()},m.prototype.pause=function(){return this.info("pause"),this.ready(function(e){return function(){return e.commandQueueOpen.synchronize(function(t){return e.engine.pause().then(t)})}}(this)),this},m.prototype.time=function(t,i){var n;return null!=t?(this.info("time",t),t=Math.max(0,Math.min(this.duration(),t)),this.ready(function(n){return function(){var r,o;return r=e.detect.ios.version>0&&!n.engine.canPlay(),o=(null!=i?i.lazy:void 0)&&"playing"!==n.state(),r||o?n.engine.seekOnPlay(t):"beforeplay"===n.state()?n.commandQueueOpen.synchronize(function(e){return n.engine.seek(t).then(e)}):(n.info("time "+t+": set immediately"),n.commandQueueOpen(function(){return n.engine.setCurrentTime(t)}))}}(this)),this):(null!=(n=this.engine)?n.getCurrentTime():void 0)||0},m.prototype.duration=function(){return this.engine?this.engine.getDuration():this._mediaData.duration},m.prototype.volume=function(e){return null!=e?(this.info("volume",e),e=Math.max(0,Math.min(1,e)),this.ready(function(t){return function(){return t.commandQueueOpen(function(){return t.engine.setVolume(e)})}}(this)),this):this.engine.getVolume()},m.prototype.trigger=function(){var e,t;if(t=arguments[0],e=2<=arguments.length?s.call(arguments,1):[],
!/timechange|secondchange/.test(t)||!this.engine.isSeeking())return m.__super__.trigger.apply(this,[t].concat(s.call(e)))},m.prototype.state=function(){return this.engine?this.engine.getPlaybackMode():"unknown"},m.prototype.playerColor=function(t){return null!=t?(this.info("playerColor",t),this.embedded(function(i){return function(){var n;if(n=i._attrs.playerColor,t=e.Player._sanePlayerColor(t),i._attrs.playerColor=new e.Color(t).toHex(),n!==i._attrs.playerColor)return i.trigger("playercolorchange",i._attrs.playerColor,n)}}(this)),this):this._attrs.playerColor},m.prototype.width=function(e,t){return null==t&&(t={}),null!=e?t.fullscreen||!this.inFullscreen()?m.__super__.width.call(this,e,t):(this.info("notFullscreen => width("+e+")"),this.notFullscreen(function(i){return function(){return m.__super__.width.call(i,e,t)}}(this)),this):m.__super__.width.apply(this,arguments)},m.prototype.height=function(e,t){return null==t&&(t={}),null!=e?t.fullscreen||!this.inFullscreen()?m.__super__.height.call(this,e,t):(this.info("notFullscreen => height("+e+")"),this.notFullscreen(function(i){return function(){return m.__super__.height.call(i,e,t)}}(this)),this):m.__super__.height.apply(this,arguments)},m.prototype.videoWidth=function(e,t){return null==t&&(t={}),null!=e?t.fullscreen||!this.inFullscreen()?m.__super__.videoWidth.call(this,e,t):(this.info("notFullscreen => videoWidth("+e+")"),this.notFullscreen(function(i){return function(){return m.__super__.videoWidth.call(i,e,t)}}(this)),this):m.__super__.videoWidth.apply(this,arguments)},m.prototype.videoHeight=function(e,t){return null==t&&(t={}),null!=e?t.fullscreen||!this.inFullscreen()?m.__super__.videoHeight.call(this,e,t):(this.info("notFullscreen => videoHeight("+e+")"),this.notFullscreen(function(i){return function(){return m.__super__.videoHeight.call(i,e,t)}}(this)),this):m.__super__.videoHeight.apply(this,arguments)},m.prototype.playbackRate=function(e){return null!=e?(this.embedded(function(t){return function(){var i,n;return t.info("playbackRate",e),n=parseFloat(e),isNaN(n)?(t.error("playbackRate: Invalid argument '"+e+"' given. Expected a float."),t):(e=n,i=t.engine.getPlaybackRate(),t.engine.setPlaybackRate(e),t._eventLoopDuration=Math.max(50,Math.min(500,t._baseEventLoopDuration*e)),t._playbackRate=e,i!==t._playbackRate?t.trigger("playbackratechange",t._playbackRate):void 0)}}(this)),this):this.engine.getPlaybackRate()},m.prototype.trim=function(e){return null!=e?this.embedded(function(t){return function(){var i;return t.engine.setTrim(e),null!=(i=t.ui.playbarControl)?i.updateStateFromVideo():void 0}}(this)):this.engine.getTrim()},m.prototype.receivedAnyVideoData=function(){return this.engine.anyBuffered()},m.prototype.getReportAProblemData=function(t){var i,n,r,s,a;a=function(e){var t;try{return e()}catch(e){return t=e,"threw exception: "+t.message}},i={media_key:this._mediaData.mediaKey,account_key:this._mediaData.accountKey,visitor_key:this.visitorKey(),event_key:this.eventKey(),referrer:document.referrer,page_url:location.href,extra_data:{first_1000_logs:e.wlog.first1000LogLines(),last_1000_logs:e.wlog.last1000LogLines(),browser_time:new Date,option_sources:a(function(e){return function(){return e.publicApi._optionSources()}}(this)),embed_options:this.publicApi._opts,active_plugins:a(function(e){return function(){return Object.keys(e.publicApi.plugin)}}(this)),assets:this._mediaData.assets,selectedAsset:this.engine.selectedAsset(),attrs:this._attrs,assetOptions:a(function(e){return function(){return e.assetOptions()}}(this)),isScreencast:a(function(e){return function(){return e.isScreencast()}}(this)),judy:a(function(e){return function(){return o.report(e.publicApi.judyCtx(),e._mediaData,e._opts)}}(this)),detect:e.detect,engineDiagnostics:a(function(e){return function(){return e.engine.diagnosticData()}}(this))}},s=this.publicApi.plugin;for(r in s)n=s[r],"vulcanVideo"!==r&&"function"==typeof n.getReportAProblemData&&(i.extra_data[r]=n.getReportAProblemData());return i},m.prototype.sync2StreamVideoElems=function(t,i){var n,r,o;return i.pause(),e.detect.ios.version>0?(o=function(){return i.currentTime=t.currentTime,e.util.requestAnimationFrame(o)},e.util.requestAnimationFrame(o)):(r=e.detect.safari?1:.3,n=e.util.throttle(1e3,function(){return i.currentTime=t.currentTime+.05}),e.elem.bind(t,"playing",function(e){return function(){return i.play()}}()),e.elem.bind(t,"pause",function(e){return function(){return i.pause()}}()),e.elem.bind(t,"seeked",function(e){return function(){return i.currentTime=t.currentTime+.05}}()),e.elem.bind(t,"ratechange",function(e){return function(){return i.playbackRate=t.playbackRate}}()),e.elem.bind(t,"end",function(e){return function(){return i.pause()}}()),e.elem.bind(t,"timeupdate",function(e){return function(){if(!i.seeking&&!t.seeking&&Math.abs(i.currentTime-t.currentTime)>r)return n()}}()),e.elem.bind(t,"waiting",function(e){return function(){return i.pause()}}()),e.elem.bind(t,"done-waiting",function(e){return function(){return i.play()}}()),t.paused||t.ended||i.play(),i.playbackRate=this.playbackRate(),i.currentTime=this.time()+.05)},m.prototype._layoutToClassName=function(e){return"w-multistream--"+e},m.prototype.layout=function(e,t){var i;return null==t&&(t={}),null!=e?("function"==typeof(i=this.engine).setLayout&&i.setLayout(e,t),this._layout=e):this._layout},m}(e.Player))}(Wistia),function(e){null==e._onFullscreenChange&&(e._onFullscreenChange=function(){return e.elem.fullscreenElement()?e.trigger("enter-fullscreen",e.elem.fullscreenElement()):e.trigger("cancel-fullscreen")}),e._initializers.initFullscreenTriggers=function(){return e.elem.rebind(document,"mozfullscreenchange",e._onFullscreenChange),e.elem.rebind(document,"webkitfullscreenchange",e._onFullscreenChange),e.elem.rebind(document,"MSFullscreenChange",e._onFullscreenChange),e.elem.rebind(document,"fullscreenchange",e._onFullscreenChange)},e._destructors.destroyFullscreenTriggers=function(){return e.elem.unbind(document,"mozfullscreenchange",e._onFullscreenChange),e.elem.unbind(document,"webkitfullscreenchange",e._onFullscreenChange),e.elem.unbind(document,"MSFullscreenChange",e._onFullscreenChange),e.elem.unbind(document,"fullscreenchange",e._onFullscreenChange)},e.plugin("vulcanVideo",function(t,i){return e.info("vulcanVideo no-op plugin executed")})}(Wistia)},function(e,t,i){var n=function(e,t){return function(){return e.apply(t,arguments)}};i(443),i(461),i(460),function(e){e.Vulcan||(e.Vulcan={}),e.Vulcan.Storyboard||(e.Vulcan.Storyboard=function(){function t(t,i){this.parent=t,null==i&&(i={}),this.hide=n(this.hide,this),this.show=n(this.show,this),this.shouldNotDisplay(i)||(this.uuid=e.seqId("wistia_storyboard"),this.storyboardManager=new e.Vulcan.StoryboardManager,this.storyboardManager.updateState({frameCount:i.metadata.frame_count,storyboard:i.url,width:i.width,height:i.height,isInFullscreen:!1,percent:0,frameDimensions:{width:i.metadata.frame_width,height:i.metadata.frame_height}}),this.updateState({active:!0}),this.buildThumbscrubberRegion(),this.setupBindings())}return t.prototype.loadSprite=function(){var t;if(!e.mux.experimentEnabled("less-to-load"))return null!=(t=this.storyboardManager)?t.updateState({shouldLoadStoryboard:!0}):void 0},t.prototype.shouldNotDisplay=function(t){return!t.url||!t.metadata||!t.metadata.frame_count||e.detect.android},t.prototype.destroy=function(){return this.destroyBindings(),this.parent=null,this.storyboardRegion=null,this.storyboardChild=null,this.storyboardManager=null},t.prototype.state={visible:!1,position:0,time:"0",percent:0,width:0,height:0,active:!1},t.prototype.setupBindings=function(){return this.bind("property:updated:visible",this.onVisibilityUpdated),this.bind("property:updated:position",this.onPositionUpdated),this.bind("property:updated:time",this.onTimeUpdated),this.bind("property:updated:duration",this.onDurationUpdated),this.bind("property:updated:percent",this.onPercentUpdated)},t.prototype.destroyBindings=function(){return this.unbind("property:updated:visible",this.onVisibilityUpdated),this.unbind("property:updated:position",this.onPositionUpdated),this.unbind("property:updated:time",this.onTimeUpdated),this.unbind("property:updated:duration",this.onDurationUpdated),this.unbind("property:updated:percent",this.onPercentUpdated)},t.prototype.onVisibilityUpdated=function(){return!0===this.state.visible?this.show():this.hide()},t.prototype.onPositionUpdated=function(){return this.storyboardRegion.updatePosition({left:this.state.position})},t.prototype.onTimeUpdated=function(){return this.updateTime()},t.prototype.onPercentUpdated=function(){return this.updatePercent()},t.prototype.updatePercent=function(){return this.storyboardManager.updateState({percent:this.state.percent})},t.prototype.show=function(){if(!e.mux.experimentEnabled("less-to-load"))return this.loadSprite(),this.storyboardRegion.showChild(this.storyboardChild.uuid)},t.prototype.hide=function(){return this.storyboardRegion.hideChild(this.storyboardChild.uuid)},t.prototype.updateTime=function(){var t;return t=e.util.niceDuration(this.state.time),this.storyboardChild.updateText(t)},t.prototype.buildThumbscrubberRegion=function(){var t,i;return t="wistia_vulcan_storyboard",i={origin:"bottomcenter",align:{bottom:56}},this.storyboardRegion=new e.Vulcan.BubbleRegion(t,i),this.storyboardChild=new e.Vulcan.StoryboardView(this.storyboardManager),this.storyboardRegion.attachToElem(this.parent),this.storyboardRegion.addChild(this.storyboardChild)},t}(),e.mixin(e.Vulcan.Storyboard.prototype,e.hasState))}(Wistia)},function(e,t,i){var n,r,o,s,a=function(e,t){return function(){return e.apply(t,arguments)}};n=i(61),r=i(462),s=r.unmountFrom,o=r.renderInto,function(e){e.Vulcan.StoryboardManager||(e.Vulcan.StoryboardManager=function(){function t(){this.updateComponent=a(this.updateComponent,this),this.buildElem=a(this.buildElem,this),this.buildElem(),this.setupBindings(),this.scaleFactor=.75}return t.prototype.state={storyboard:"",frameCount:0,framesPerRow:10,width:0,height:0,percent:0,targetWidth:200,shouldLoadStoryboard:!1,frameDimensions:{width:0,height:0}},t.prototype.getAspectRatio=function(){return state.targetAspectRatio||this.state.frameDimensions.width/this.state.frameDimensions.height},t.prototype.getWidth=function(){return this.component.clientWidth},t.prototype.getHeight=function(){return this.component.clientHeight},t.prototype.setupBindings=function(){return this.bind("property:updated:all",this.onAnythingUpdated)},t.prototype.destroyBindings=function(){return this.unbind("property:updated:all",this.onAythingUpdated),s(this.elem,this.component)},t.prototype.onAnythingUpdated=function(){return this.updateComponent()},t.prototype.buildElem=function(){return this.elem=e.elem.fromObject({style:{display:"block",position:"absolute",overflow:"hidden",top:0,right:0,bottom:0,left:0}}),this.component=o(this.elem,this.adaptState())},t.prototype.updateComponent=function(){return this.component=o(this.elem,this.adaptState(),this.component)},t.prototype.adaptState=function(){var e;return e=n({},this.state),e.storyboardUrl=this.properAssetUrl(this.state.storyboard),e.frameWidth=this.state.frameDimensions.width,e.frameHeight=this.state.frameDimensions.height,e.storyboardWidth=this.state.width,e.storyboardHeight=this.state.height,e.scaleFactor=this.scaleFactor,e},t.prototype.properAssetUrl=function(e){return/\.bin$/.test(e)?e.replace(/\.bin$/,"")+"/file.jpg":e},t}(),e.mixin(e.Vulcan.StoryboardManager.prototype,e.hasState))}(Wistia)},function(e,t){var i=function(e,t){return function(){return e.apply(t,arguments)}};!function(e){e.Vulcan.StoryboardView||(e.Vulcan.StoryboardView=function(){function t(e){this.storyboardManager=e,this.show=i(this.show,this),this.updateText=i(this.updateText,this),this._width=this.storyboardManager.getWidth(),this._height=this.storyboardManager.getHeight(),this.buildElem()}return t.prototype.buildElem=function(){return this.elem=e.elem.fromObject({class:"wistia_vulcan_storyboard_view",style:{position:"absolute",color:"#ffffff",overflow:"hidden",width:this.width()+"px",height:this.height()+"px"}}),this.timeElem=e.elem.fromObject({class:"wistia_vulcan_storyboard_time",style:{position:"absolute",background:"rgba(0,0,0,.35)",fontFamily:"WistiaPlayerOverpass, Sans-Serif",padding:"2px 4px",color:"#ffffff",zIndex:"10",bottom:"0px",width:"100%",textAlign:"center"}}),e.elem.append(this.elem,this.timeElem),e.elem.append(this.elem,this.storyboardManager.elem)},t.prototype.updateText=function(e){return this.timeElem.innerHTML=e},t.prototype.updateImage=function(e){return this.updateWidth(),this.updateHeight()},t.prototype.updateWidth=function(){return this.elem.style.width=this.width()+"px"},t.prototype.updateHeight=function(){return this.elem.style.height=this.height()+"px"},t.prototype.width=function(){return this.storyboardManager.getWidth()},t.prototype.height=function(){return this.storyboardManager.getHeight()},t.prototype.toggle=function(){},t.prototype.show=function(){return this.updateWidth(),this.updateHeight()},t.prototype.hide=function(){},t.prototype.setParent=function(e){return this.attachToElem(e.elem)},t.prototype.attachToElem=function(t){return e.elem.append(t,this.elem)},t}())}(Wistia)},function(e,t,i){function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,i){return(0,a.render)((0,a.h)(d,t),e,i)}function o(e,t){(0,a.render)("<nothing />",e,t)}var s=void 0;Object.defineProperty(t,"__esModule",{value:!0}),t.renderInto=r,t.unmountFrom=o;var a=i(5),l=i(432),u=n(l),c={createElement:a.h},d=(0,u.default)(c,a.Component);t.default=d},function(e,t){e.exports="#__chromeid__ .wistia_vulcan_control,#__chromeid__ .w-control {  background-color: __primary_95__; }  #__chromeid__ .wistia_vulcan_control:hover, #__chromeid__ .wistia_vulcan_control.is-active,  #__chromeid__ .w-control:hover,  #__chromeid__ .w-control.is-active {    background-color: __primary_70__; }#__chromeid__ .w-control--playbar,#__chromeid__ .wistia_playbar {  background-color: __white_0__; }  #__chromeid__ .w-control--playbar:hover,  #__chromeid__ .wistia_playbar:hover {    background-color: __white_0__; }#__chromeid__ .wistia_playbar_completed,#__chromeid__ .w-control--playbar__completed {  background-color: __quaternary_70__; }#__chromeid__ .wistia_playbar_buffered,#__chromeid__ .w-control--playbar__buffered {  background-color: __tertiary_60__; }#__chromeid__ .wistia_playbar_background,#__chromeid__ .w-control--playbar__background {  background-color: __secondary_30__; }#__chromeid__ .wistia_playbar_placeholder:hover,#__chromeid__ .w-control--playbar__placeholder:hover {  background-color: __primary_95__; }"},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(299),a=n(s),l=o.default.lib("utilities/cacheable"),u=l.makeCacheable,c=l.uncacheNamespace,d=l.makeNamespace,h=o.default.lib("utilities/localstorage"),p=h.setOrGet,f=u("bandwidth_tracking"),m=d("bandwidth_tracking"),g=function(e){var t=e.hls,i=f(e,"persistBandwidthEstimate",function(){return function(){p("hls.bandwidth_estimate",t.abrController.getEstimate())}});t.off(a.default.Events.FRAG_LOADED,i),t.on(a.default.Events.FRAG_LOADED,i)},y=function(e){m(e).persistBandwidthEstimate&&e.hls&&e.hls.off(a.default.Events.FRAG_LOADED,m(e).persistBandwidthEstimate),c("bandwidth_tracking",e)};e.exports={setup:g,teardown:y}},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){i(this,e)}return n(e,null,[{key:"bufferInfo",value:function(e,t,i){if(e){var n,r=e.buffered,o=[];for(n=0;n<r.length;n++)o.push({start:r.start(n),end:r.end(n)});return this.bufferedInfo(o,t,i)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:"bufferedInfo",value:function(e,t,i){var n,r,o,s,a,l=[];for(e.sort(function(e,t){return e.start-t.start||t.end-e.end}),a=0;a<e.length;a++){var u=l.length;if(u){var c=l[u-1].end;e[a].start-c<i?e[a].end>c&&(l[u-1].end=e[a].end):l.push(e[a])}else l.push(e[a])}for(a=0,n=0,r=o=t;a<l.length;a++){var d=l[a].start,h=l[a].end;if(t+i>=d&&t<h)r=d,o=h,n=o-t;else if(t+i<d){s=d;break}}return{len:n,start:r,end:o,nextStart:s}}},{key:"lastBufferedTime",value:function(e,t){return e?this.bufferInfo(e,e.currentTime||0,t).end:0}},{key:"timeBeforeEndOfBuffer",value:function(e,t){var i=e&&e.currentTime||0;return this.lastBufferedTime(e,t)-i}}]),e}();t.default=r},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){i(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return n(e,[{key:"sample",value:function(e,t){var i=Math.pow(this.alpha_,e);this.estimate_=t*(1-i)+i*this.estimate_,this.totalWeight_+=e}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_}}]),e}();t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(299),o=n(r),s=i(3),a=n(s),l=i(370),u=a.default,c=a.default.lib("utilities/wlog"),d=c.wlog,h=d.getPrefixedFunctions("hls_video"),p=a.default.lib("utilities/cacheable"),f=p.makeCacheable,m=p.uncacheNamespace,g=p.makeNamespace,y=f("dynamic_max_max_buffer"),_=g("dynamic_max_max_buffer"),v=function(e){var t=e.hls,i=y(e,"onFragLoaded",function(){return function(){b(e)}});t.off(o.default.Events.FRAG_LOADED,i),t.on(o.default.Events.FRAG_LOADED,i)},b=function(e){var t=e.hls,i=(0,l.levelToAsset)(e,t.currentLevel);i&&i.metadata&&t.abrController.getEstimate()*t.config.abrBandWidthFactor<8*i.metadata.max_bitrate&&(t.manualLevel>=0||0===t.currentLevel?(h.info("set maxMaxBufferLength",e.getDuration()),t.config.maxMaxBufferLength=e.getDuration()):(h.info("set maxMaxBufferLength",60),t.config.maxMaxBufferLength=60))},A=function(e){_(e).onFragLoaded&&e.hls&&e.hls.off(o.default.Events.FRAG_LOADED,_(e).onFragLoaded),m("dynamic_max_max_buffer",e)};e.exports={setup:v,teardown:A}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(299),o=n(r),s=i(3),a=n(s),l=a.default,u=l.lib("player/lib/timeout-utils"),c=u.doTimeout,d=l.lib("utilities/obj"),h=l.lib("utilities/wlog"),p=h.wlog,f=l.lib("utilities/metrics"),m=l.lib("utilities/cacheable"),g=m.makeCacheable,y=m.uncacheNamespace,_=m.makeNamespace,v=g("error_handling"),b=_("error_handling"),A=p.getPrefixedFunctions("hls error_handling"),w=function(e){var t=v(e,"onError",function(){return function(t,i){E(e,t,i)}});e.hls.on(o.default.Events.ERROR,t);var i=v(e,"onEmergencyAbortLoad",function(){return function(){T(e)}});e.hls.on(o.default.Events.FRAG_LOAD_EMERGENCY_ABORTED,i)},E=function(e,t,i){i.fatal?k(e,t,i):C(e,t,i)},k=function(e,t,i){var n=e.hls,r=e.attributes;switch(i.type){case o.default.ErrorTypes.NETWORK_ERROR:p.info("hlsjsplugin - Fatal network error encountered, try to recover"),n.startLoad(),T(e);break;case o.default.ErrorTypes.MEDIA_ERROR:if(p.info("hlsjsplugin - Fatal media error encountered, try to recover"),b(e).countedRecoverMediaError||(b(e).countedRecoverMediaError=!0,S(e,"player/hls/recover_media_error")),e.isChangingVideo()||"bufferStalledError"===i.details&&n.startLoad(),"wistia-production_435826"===e.mediaData.accountKey){A.error("trying to recover from media error...");var s=e.getCurrentTime();n.recoverMediaError();var a=null!=r.bufferStallRecoveryTimeout?r.bufferStallRecoveryTimeout:1e3;c(e.uuid+".nudge_if_not_playing",function(){"playing"!==e.getPlaybackMode()?(A.error("trying to nudge 0.5 seconds..."),e.seek(e.getCurrentTime()+.5).then(function(){e.play()})):e.getCurrentTime()!==s&&A.error("video is playing; recoverMediaError() succeeded")},a)}break;default:S(e,"player/hls/fatal",1,{at:e.getCurrentTime(),data:i}),p.info("hlsjsplugin - Fatal error - cannot recover"),n.destroy()}},C=function(e,t,i){e.hls,e.attributes,p.info("hlsjsplugin - Non fatal error encountered",i),"bufferSeekOverHole"===i.details?O(e,"player/hls/buffer_seek_over_hole",{hole:i.hole}):"bufferStalledError"===i.details?e.getCurrentTime()>0&&O(e,"player/hls/buffer_stalled"):"internalException"===i.details?O(e,"player/hls/non-fatal/"+i.details,{errorDetails:i}):O(e,"player/hls/non-fatal/"+i.details)},x=[100,500,1500,3e3,6e3],T=function(e){for(var t=function(){var t=e.hls;t&&t.startLoad()},i=0;i<x.length;i++){var n=x[i];c(e.uuid+".hls.start_load_on_stall_"+n,t,n)}},S=function(e,t,i){i=B(e,d.merge({at:e.getCurrentTime()},i)),f.count(t,1,i),M(e,t)},O=function(e,t,i){P(e,t)||S(e,t,i)},P=function(e,t){return I(e),!0===b(e).metricsCounted[t]},M=function(e,t){I(e),b(e).metricsCounted[t]=!0},I=function(e){null==b(e).metricsCounted&&(b(e).metricsCounted={})},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={hlsVideo:e.diagnosticData()};return i.locationHref=location.href,top!==self&&(i.referrer=document.referrer,i.inIframe=!0),d.merge(i,t)},D=function(e){b(e).onError&&e.hls&&e.hls.off(o.default.Events.ERROR,b(e).onError),b(e).onEmergencyAbortLoad&&e.hls&&e.hls.off(o.default.Events.ERROR,b(e).onEmergencyAbortLoad),y("error_handling",e)};e.exports={setup:w,teardown:D}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(3),a=n(s),l=i(47),u=n(l),c=i(369),d=n(c),h=i(370),p=i(470),f=n(p),m=i(471),g=n(m),y=i(468),_=n(y),v=i(467),b=n(v),A=i(472),w=n(A),E=i(464),k=n(E),C=i(299),x=n(C),T=a.default,S=T.lib("utilities/obj"),O=T.lib("utilities/wlog"),P=O.wlog,M=T.lib("player/lib/elem"),I=M.elemWidth,B=M.elemHeight,D=T.lib("utilities/localstorage"),F=D.setOrGet,R=T.lib("utilities/seqid"),L=T.lib("player/lib/assets"),j=T.lib("player/engines/simple_video"),H=j.delegatePublicMethods,N=P.getPrefixedFunctions("hls_video"),V=i(480).default,U=i(423).default,W=1,z=.9,Q=12,G=function(){function e(t,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,e),this.bitrateForLevel=function(e){return(0,h.bitrateForLevel)(n,e)},this.getM3u8FromCache=function(e){var t=void 0;return(t=n.preloading&&n.preloading.m3u8Cache[e])?{event:t.event,stats:t.stats}:null},this.popFragFromCache=function(e,t,i){var r=e+"-"+t+"-"+i,o=void 0;if(o=n.preloading&&n.preloading.fragCache[r]){var s={event:o.event,stats:S.assign(o.stats,{alreadySampled:!0})};return delete n.preloading.fragCache[r],s}return null},this.transformPlaylist=function(e){return(0,h.transformPlaylist)(n,e)},this.uuid=R("wistia_hls_video_"),this.root=t,this.mediaData=i,this.allAssets=i.assets,this.attributes=S.assign(this.defaultAttributes(),o),this.state={},this.setupProperties(),this.simpleVideo=new j(this.root,this.mediaData,this.attributes),this.setAttributes({bwEstimateOnInit:F("hls.bandwidth_estimate")}),this.setupHls()}return o(e,[{key:"setupProperties",value:function(){null==this.preloading&&(this.preloading={}),null==this.preloading.m3u8Cache&&(this.preloading.m3u8Cache={}),null==this.preloading.fragCache&&(this.preloading.fragCache={})}},{key:"setupHls",value:function(){var e=this.getHlsjsConfig();this.hls=new x.default(e),f.default.setup(this),w.default.setup(this);var t=this.adaptiveAsset();this.hls.loadSource(t.url),this.hls.attachMedia(this.simpleVideo.videoElem()),b.default.setup(this),_.default.setup(this),k.default.setup(this),g.default.setup(this),this.trigger("stream-changed",this.currentAsset())}},{key:"adaptiveAsset",value:function(){var e=d.default.buildMasterM3u8Asset(d.default.masterM3u8DataUri(this.m3u8OrderedAssets()));return e.display_name="Auto",e.slug="Auto",e}},{key:"masterM3u8Content",value:function(){return d.default.masterM3u8ContentFromAssets(this.m3u8OrderedAssets())}},{key:"defaultAttributes",value:function(){return{contentType:"video/m3u8",qualityMin:360,qualityMax:2160,preload:"metadata"}}},{key:"m3u8OrderedAssets",value:function(){return(0,h.m3u8OrderedAssets)(this,this.allAssets)}},{key:"selectableAssets",value:function(e){var t=this.m3u8OrderedAssets().sort(function(e,t){return e.width-t.width});return[this.adaptiveAsset()].concat(t)}},{key:"setupPreloading",value:function(){var e=this;this.trigger("stream-changed",(0,h.levelToAsset)(this,this.hls.startLevel)),this.hls.on(x.default.Events.MEDIA_ATTACHED,function(){e.hls.startLevel,preloadStream(e,function(){e.trigger("stream-changed",(0,h.levelToAsset)(e,e.hls.startLevel))})})}},{key:"onWidthChange",value:function(e){var t=this;this.setAttributes({width:e}),this.onReady().then(function(){f.default.capLevelBasedOnVideoWidth(t)})}},{key:"onHeightChange",value:function(e){this.setAttributes({height:e})}},{key:"setAttributes",value:function(e){return S.assign(this.attributes,e),this.simpleVideo.setAttributes(e)}},{key:"play",value:function(){return(0,h.startLoadOnce)(this),this.simpleVideo.play()}},{key:"seek",value:function(e){return(0,h.startLoadOnce)(this),this.simpleVideo.seek(e)}},{key:"showFirstFrame",value:function(){return this.seek(.01)}},{key:"getAsset",value:function(e){if("number"==typeof e)return this.assetFromQuality(e);if("string"==typeof e&&"auto"===e.toLowerCase()){if("auto"===e.toLowerCase())return this.adaptiveAsset();if("4k"===e.toLowerCase())return this.assetFromQuality(2160);if(/^\d+/.test(e))return this.assetFromQuality(parseInt(e))}return e}},{key:"changeStreamWithoutLoad",value:function(e){if((e=this.getAsset(e))&&(!this.currentAsset()||this.currentAsset().url!==e.url)){var t=void 0;t="variable"===e.bitrate?-1:(0,h.assetToLevel)(this,e),(0,h.stopLoad)(this),this.hls.currentLevel=t}}},{key:"changeStream",value:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=this.getAsset(e),new u.default(function(n){t.changeStreamWithoutLoad(e),(0,h.startLoadOnce)(t),i?t.play().then(n):n()})}},{key:"changeVideo",value:function(e,t){var i=this;return new u.default(function(n){i.mediaData=e,i.allAssets=e.assets,i.attributes=t,i.state={},i.state.isChangingVideo=!0,i._bindings={},i.simpleVideo.reset(),i.destroyHls(),i.setupProperties(),i.setAttributes({bwEstimateOnInit:F("hls.bandwidth_estimate")}),i.setupHls(),i.state.isChangingVideo=!1,n()})}},{key:"isChangingVideo",value:function(){return!!this.state.isChangingVideo}},{key:"reset",value:function(){this.simpleVideo.reset()}},{key:"assetFromQuality",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=L.withinQualityRange(this.allAssets,e,t);return 0===i.length&&(i=L.nearestOutsideRange(this.allAssets,e,t)),i[0]}},{key:"destroyHls",value:function(){var e=this,t=function(e){try{return e()}catch(e){N.error(e)}};t(function(){_.default.teardown(e)}),t(function(){k.default.teardown(e)}),t(function(){b.default.teardown(e)}),t(function(){w.default.teardown(e)}),t(function(){g.default.teardown(e)}),t(function(){f.default.teardown(e)}),t(function(){(0,h.teardown)(e)}),this.hls&&(this.hls.detachMedia(),this.hls.destroy(),this.hls=null)}},{key:"destroy",value:function(){return this._bindings={},this.destroyHls(),this.simpleVideo.destroy()}},{key:"getHlsjsConfig",value:function(){return{autoStartLoad:!1,maxFragLookUpTolerance:.01,seekHoleNudgeDuration:.1,abrEwmaDefaultEstimate:this.attributes.bwEstimateOnInit,abrEwmaFastVoD:4,abrEwmaSlowVoD:15,maxMaxBufferLength:60,maxBufferSize:6e7,abrBandWidthFactor:1,abrBandWidthUpFactor:.9,debug:{log:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];P.info.apply(P,["hlsjs log >"].concat(t))},error:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];P.notice.apply(P,["hlsjs error >"].concat(t))},warn:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];P.notice.apply(P,["hlsjs warn >"].concat(t))},info:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];P.info.apply(P,["hlsjs info >"].concat(t))},debug:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];P.debug.apply(P,["hlsjs debug >"].concat(t))}},loader:U,abrController:V,transformPlaylist:this.transformPlaylist,bitrateForLevel:this.bitrateForLevel,getFragFromCache:this.popFragFromCache,getM3u8FromCache:this.getM3u8FromCache}}},{key:"currentLevel",value:function(){return this.hls.currentLevel}},{key:"selectedAsset",value:function(){return this.hls.manualLevel>=0?this.currentAsset():this.adaptiveAsset()}},{key:"currentAsset",value:function(){return this.hls.currentLevel>=0?(0,h.levelToAsset)(this,this.hls.currentLevel)||this.adaptiveAsset():null!=this.hls.startLevel&&this.hls.startLevel>=0?(0,h.levelToAsset)(this,this.hls.startLevel)||this.adaptiveAsset():this.adaptiveAsset()}},{key:"abrBandWidthUpFactor",value:function(){return.9}},{key:"abrBandWidthFactor",value:function(){return 1}},{key:"diagnosticData",value:function(){var e=this,t=function(e){try{return e()}catch(e){return"ERROR: "+e.message}},i={simpleVideo:this.simpleVideo.diagnosticData(),attributes:this.attributes,currentLevel:t(function(){return e.currentLevel()}),startLevel:t(function(){return e.hls.startLevel}),nextLevel:t(function(){return e.hls.nextLevel}),loadLevel:t(function(){return e.hls.loadLevel}),autoLevel:t(function(){return e.hls.autoLevel}),autoLevelCapping:t(function(){return e.hls.autoLevelCapping}),nextAutoLevel:t(function(){return e.hls.nextAutoLevel}),manualLevel:t(function(){return e.hls.manualLevel}),bandwidthEstimate:t(function(){return e.hls.abrController.getEstimate()})};return i.currentAsset=this.currentAsset(),i.currentAsset&&i.currentAsset.url&&i.currentAsset.url.length>100&&(i.currentAsset.url=i.currentAsset.url.substring(0,97)+"..."),i.selectedAsset=this.selectedAsset(),i.selectedAsset&&i.selectedAsset.url&&i.selectedAsset.url.length>100&&(i.selectedAsset.url=i.selectedAsset.url.substring(0,97)+"..."),i}}],[{key:"fakeAutoAsset",value:function(){var e=d.default.buildMasterM3u8Asset("#fake");return e.slug="Auto",e.display_name="Auto",e}}]),e}();H(G.prototype,function(){return this.simpleVideo}),e.exports=G},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(299),a=n(s),l=i(369),u=n(l),c=i(370),d=o.default.lib("player/lib/assets"),h=o.default.lib("utilities/wlog"),p=h.wlog,f=p.getPrefixedFunctions("hls_video level_capping"),m=o.default.lib("utilities/cacheable"),g=m.makeCacheable,y=m.uncacheNamespace,_=m.makeNamespace,v=g("level_capping"),b=_("level_capping"),A=function(e){var t=v(e,"onManifestParsed",function(){return function(t,i){x(e)}});e.hls.off(a.default.Events.MANIFEST_PARSED,t),e.hls.on(a.default.Events.MANIFEST_PARSED,t)},w=function(e,t){e.hls.autoLevelCapping=t},E=function(e,t){var i=d.one(e.allAssets,{width:[0,t],sortBy:"width desc, bitrate desc",metadata:function(e){return e.max_bitrate<c.UNOBTAINABLE_BITRATE}});return i?(0,c.assetToLevel)(e,i):-1},k=function(e){return E(e,u.default.maxAssetWidthBasedOnVideoWidth(e.attributes.width,e.attributes.devicePixelRatio))},C=function(e,t){var i=E(e,t);i>=0?(f.info("Capping to level",i),w(e.hls,i)):f.info("Cannot cap level for width "+t+"; no matching assets found")},x=function(e){
if(!1!==e.attributes.capBasedOnVideoWidth){var t=e.hls,i=k(e);if(f.info("capLevelBasedOnVideoWidth",i),i>=0){var n=t.currentLevel,r=t.autoLevelCapping;w(e,i);var o=e.getPlaybackMode(),s=(0,c.m3u8OrderedAssets)(e,e.allAssets);if(0===s.length)return;if("beforeplay"===o&&i===(0,c.assetToLevel)(e,s[0]))f.info("Not reevaluating next fragment because starting level is the same as the capped level");else{var a=t.levels.length-1,l=(0,c.levelToAsset)(e,Math.min(n+1,a));r>=0&&i>r&&(0,c.canSupportAsset)(e,l)&&(t.nextLevel=-1)}}}},T=function(e){b(e).onManifestParsed&&e.hls&&e.hls.off(a.default.Events.MANIFEST_PARSED,b(e).onManifestParsed),y("level_capping",e)};e.exports={setup:A,capLevelBasedOnVideoWidth:x,teardown:T}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(299),a=n(s),l=i(370),u=o.default.lib("utilities/detect"),c=u.cachedDetect,d=o.default.lib("player/lib/timeout-utils"),h=d.doTimeout,p=o.default.lib("player/lib/elem"),f=p.pageLoaded,m=o.default.lib("utilities/localstorage"),g=m.setOrGet,y=o.default.lib("utilities/wlog"),_=y.wlog,v=o.default.lib("utilities/cacheable"),b=v.makeCacheable,A=v.uncacheNamespace,w=v.makeNamespace,E=b("preloading"),k=w("preloading"),C=i(423).default,x=_.getPrefixedFunctions("hls preloading"),T=c(),S=function(e){var t=e.hls,i=E(e,"onMediaAttached",function(){return function(){F(e,function(){e.trigger("stream-changed",(0,l.levelToAsset)(e,t.startLevel))})}});t.off(a.default.Events.MEDIA_ATTACHED,i),t.on(a.default.Events.MEDIA_ATTACHED,i)},O=function(e,t,i){var n=e.hls;P(e,n.startLevel,1,function(){var r=(n.startLevel,(0,l.levelToAsset)(e,n.startLevel)),o=(0,l.startingAssetBasedOnBandwidthEstimate)(e,e.m3u8OrderedAssets(e,e.allAssets),(0,l.weightedBwUpEstimate)(e)),s=n.abrController.getEstimate();x.info("bandwidth estimate after 1 fragment",s),x.info("determined best starting asset",o);var a=o&&o.url,u=r&&r.url;if(o&&u!==a){var c=(0,l.assetToLevel)(e,o);if(c<0)return x.warn("no matching level found, got",c),void("function"==typeof i&&i());x.info("set startLevel",c),null!=c&&isNaN(c)&&x.error("error: setting startLevel to NaN",c,a),n.startLevel=c,P(e,c,t,function(){"function"==typeof i&&i()})}else P(e,n.startLevel,t-1,i)})},P=function(e,t){return D(e,t,0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments[3])},M=function(e,t){return e.hls.levels[t].url[0]},I=function(e,t,i){if(e.hls){var n=M(e,t),r=k(e).m3u8Cache,o=void 0;if(o=r&&r[n])return void h(e.uuid+".preload_m3u8_level",function(){i(o)},0);var s=new C(e.hls.config),a={type:"level",level:t,id:0,responseType:"text",loader:C,url:n},u=function(t,r,o){var s={};if(s.event=t,s.stats=r,s.url=n,s.segments=[],(0,l.shouldTransformPathToIncludeByteRange)(e)){var a=function(e,t,i,n){return s.segments.push({url:e}),""};t.data.replace(/\n([a-zA-Z0-9]+)-(\d+)-(\d+)\.ts/gm,a)}else{var u=function(e,t,i,n){var r=parseInt(i)+parseInt(t);return s.segments.push({from:parseInt(i),to:r,url:n}),""};t.data.replace(/#EXT-X-BYTERANGE:(\d+)@(\d+)\s+([a-zA-Z0-9]+\.ts)/g,u)}k(e).m3u8Cache[n]=s,i(s)},c={onSuccess:u,onError:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];x.error.apply(x,["Failed to fetch data for m3u8 "+n].concat(t))},onTimeout:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];x.error.apply(x,["Timeout fetching data for m3u8 "+n].concat(t))}},d={timeout:6e3,maxRetry:3,retryDelay:500,maxRetryDelay:3e3};s.load(a,d,c)}},B=function(e,t,i,n){var r=M(e,t);I(e,t,function(){var o=k(e).m3u8Cache[r].segments[i];if(o){var s=o.url,a=k(e).m3u8Cache[r].url,l=/^https?:\/\//.test(s)?s:a.substring(0,a.lastIndexOf("/")+1)+s,u=new C(e.hls.config),c=function(t,i){var r=l+"-"+o.from+"-"+o.to,s={event:t,stats:i},a=Math.max(50,performance.now()-i.trequest),u=i.loaded;g("hls.bandwidth_estimate",8e3*u/a),e.hls.abrController.sample(a,u),k(e).fragCache[r]=s,"function"==typeof n&&n(s)},d=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];x.warn.apply(x,["failed to preload segment",l,i].concat(t))},h=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];x.warn.apply(x,["timed out preloading segment",l,i].concat(t))},p={onSuccess:c,onError:d,onTimeout:h},f={type:"level",level:t,id:0,url:l,responseType:"arraybuffer",loader:C,rangeStart:o.from,rangeEnd:o.to},m={timeout:6e3,maxRetry:3,retryDelay:500,maxRetryDelay:3e3};u.load(f,m,p)}})},D=function e(t,i,n,r,o){n>=r?"function"==typeof o&&o():B(t,i,n,function(){"beforeplay"===t.getPlaybackMode()&&e(t,i,n+1,r,o)})},F=function(e,t){T.trident||T.edge||T.firefox||f(function(){"beforeplay"===e.getPlaybackMode()&&("auto"===e.getPreload()?O(e,9,t):"metadata"===e.getPreload()&&O(e,1,t))})},R=function(e){k(e).onMediaAttached&&e.hls&&e.hls.off(a.default.Events.MEDIA_ATTACHED,k(e).onMediaAttached),A("preloading",e)};e.exports={setup:S,preloadStream:F,teardown:R}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(3),o=n(r),s=i(299),a=n(s),l=i(370),u=o.default,c=u.lib("utilities/wlog"),d=c.wlog,h=d.getPrefixedFunctions("hls_video"),p=o.default.lib("utilities/cacheable"),f=p.makeCacheable,m=p.uncacheNamespace,g=p.makeNamespace,y=f("track_stream_changes"),_=g("track_stream_changes"),v=function(e){var t=e.hls;_(e).lastLevel=null,_(e).lastAutoLevel=null,_(e).substreamIndex=0;var i=y(e,"onFragChanged",function(){return function(t,i){if(i.frag.level!==e._lastLevel||i.frag.autoLevel!=e._lastAutoLevel){var n=(0,l.levelToAsset)(e,i.frag.level);e.trigger("stream-changed",n),_(e).lastLevel=i.frag.level,_(e).lastAutoLevel=i.frag.autoLevel,_(e).substreamIndex+=1,i.frag.level>=0?h.notice("frag switch to",n||i.level,"at",e.getCurrentTime()):h.notice("frag switch to Auto at",e.getCurrentTime())}}});t.off(a.default.Events.FRAG_CHANGED,i),t.on(a.default.Events.FRAG_CHANGED,i);var n=y(e,"onLevelSwitch",function(){return function(t,i){if(i.level>=0){var n=(0,l.levelToAsset)(e,i.level);h.notice("level switch to",n||i.level,"at",e.lastBufferedTime())}else h.notice("level switch to Auto at",e.lastBufferedTime())}});t.off(a.default.Events.LEVEL_SWITCH,n),t.on(a.default.Events.LEVEL_SWITCH,n)},b=function(e){_(e).onFragChanged&&e.hls&&e.hls.off(a.default.Events.FRAG_CHANGED,_(e).onFragChanged),_(e).onLevelSwitch&&e.hls&&e.hls.off(a.default.Events.LEVEL_SWITCH,_(e).onLevelSwitch),m("track_stream_changes",e)};e.exports={setup:v,teardown:b}},,,,,,function(e,t,i){!function(e){Object.defineProperties&&!e.HlsVideo&&(e.HlsVideo=i(469))}(Wistia),function(e){e.plugin("hlsVideo",function(t,i){return e.info("loaded dummy hlsVideo plugin",t,i),{}})}(Wistia)},,function(e,t,i){var n,r,o,s,a,l,u,c=function(e,t){return function(){return e.apply(t,arguments)}};a=i(3),s=i(299),u=a.lib("utilities/wlog").wlog,l=u.getPrefixedFunctions("hlsabr"),o=i(466).default,n=i(465).default,r=function(){function e(e){var t,i;this.hls=e,this.abandonRulesCheck=c(this.abandonRulesCheck,this),this._onFragLoaded=c(this._onFragLoaded,this),this._onFragLoading=c(this._onFragLoading,this),this._onError=c(this._onError,this),this.lastLoadedFragLevel=0,this._autoLevelCapping=-1,this._nextAutoLevel=-1,this.defaultEstimate=this.hls.config.abrEwmaDefaultEstimate||5e5,this.minTotalWeight=.001,this._sampleCount=0,this._fast=new o(this.hls.config.abrEwmaFastVoD),this._slow=new o(this.hls.config.abrEwmaSlowVoD),this.minAutoLevel=0,(i=this.hls.config.abrEwmaDefaultEstimate)&&(t=i/8,this.sample(6e3,6*t)),this.hls.on(s.Events.FRAG_LOADING,this._onFragLoading),this.hls.on(s.Events.FRAG_LOADED,this._onFragLoaded),this.hls.on(s.Events.FRAG_LOADED,this._onError)}return e.prototype.destroy=function(){return this.clearTimer(),this.hls.off(s.Events.FRAG_LOADED,this._onFragLoaded),this.hls.off(s.Events.FRAG_LOADING,this._onFragLoading),this.hls.off(s.Events.FRAG_LOADING,this._onError)},e.prototype.getNextAutoLevel=function(){var e,t,i,n,r;if(n=this.maxAutoLevel(),-1!==this._nextAutoLevel)return Math.min(this._nextAutoLevel,n);for(e=this.getEstimate()/this.playbackRate(),t=i=0,r=n;0<=r?i<=r:i>=r;t=0<=r?++i:--i)if((t<=this.lastLoadedFragLevel?this.hls.config.abrBandWidthFactor*e:this.hls.config.abrBandWidthUpFactor*e)<this.bitrateForLevel(t))return Math.max(0,t-1);return t-1},e.prototype.bitrateForLevel=function(e){return"function"==typeof this.hls.config.bitrateForLevel?this.hls.config.bitrateForLevel(e):this.hls.levels[e].bitrate},e.prototype._onError=function(e,t){var i,n;if(i=t.details===s.ErrorDetails.FRAG_LOAD_ERROR,n=t.details===s.ErrorDetails.FRAG_LOAD_TIMEOUT,i||n)return this.clearTimer()},e.prototype._onFragLoading=function(e,t){var i;if(i=t.frag,i.trequest=performance.now(),this.fragCurrent=i,this.timer||(this.timer=setInterval(this.abandonRulesCheck,100)),!this._setupSeekTracking)return this._setupSeekTracking=!0,this.hls.media.addEventListener("seeked",function(e){return function(){var t;if((null!=(t=e.hls)?t.media:void 0)&&!(e.hls.media.currentTime>0&&e.hls.media.currentTime<3))return e._justSeeked=!0,clearTimeout(e._unsetSeekedTimeout),e._unsetSeekedTimeout=setTimeout(function(){return e._justSeeked=!1},3e3)}}(this))},e.prototype._onFragLoaded=function(e,t){var i,n,r,o;if(r=t.frag,o=t.stats,"main"===r.type&&(this.clearTimer(),null==o.aborted&&1===r.loadCounter&&!o.alreadySampled))return n=performance.now()-o.trequest,i=o.loaded,!this.hls.media.seeking&&this._justSeeked&&this.timeBeforeEndOfBuffer()<3?this.sample(.35*n,.35*i):this.sample(n,i),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1},e.prototype.abandonRulesCheck=function(){var e,t,i,r,o,s,a,u,c,d,h,p,f,m,g;if(a=this.hls,g=a.media,r=this.fragCurrent,(!r.loader||(null!=(f=r.loader.stats)?f.aborted:void 0))&&(a.config.debug.info("hlsjs: frag loader destroy or aborted, disarm abandonRulesCheck"),this.clearTimer()),g&&!g.paused&&r.autoLevel&&r.level&&(u=.1,(m=performance.now()-r.trequest)>3e3&&m>1e3*r.duration*.5&&(c=a.levels,d=Math.max(1,1e3*r.loaded/m),e=this.bitrateForLevel(r.level),i=Math.max(r.loaded,Math.round((r.duration-u)*e/8)),p=g.currentTime,s=(i-r.loaded)/d,(t=n.bufferInfo(g,p,a.config.maxBufferHole).end-p)<2*r.duration&&s>t))){if(h=r.level-1,0===r.loaded)return g.currentTime<1&&(isNaN(h)&&l.error("abandonRulesCheck a: nextLoadLevel is NaN",h,s,t,p,d,m,c),a.startLevel=h),a.nextLoadLevel=h;for(;h>=0&&(e=this.bitrateForLevel(h),o=r.duration*e/(7.2*d)+u,a.config.debug.info("hlsjs: fragLoadedDelay/bufferStarvationDelay/fragLevelNextLoadedDelay["+h+"] :"+s.toFixed(1)+"/"+t.toFixed(1)+"/"+o.toFixed(1)),!(o<t));)h-=1;return s-o>1&&(h=Math.max(0,h),g.currentTime<1&&(isNaN(h)&&l.error("abandonRulesCheck b: nextLoadLevel is NaN",h,s,t,p,d,m,c),a.startLevel=h),a.nextLoadLevel=h,this.sample(m,r.loaded)),a.config.debug.warn("loading too slow, abort fragment loading and switch to level "+h),r.loader.abort(),this.clearTimer(),a.trigger(Event.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r}),a.startLoad()}},e.prototype.clearTimer=function(){if(this.timer)return clearInterval(this.timer),this.timer=null},e.prototype.maxAutoLevel=function(){var e;return e=this.hls.levels,-1===this._autoLevelCapping&&(null!=e?e.length:void 0)?e.length-1:this._autoLevelCapping},e.prototype.playbackRate=function(){var e;return e=this.hls.media,0!==(null!=e?e.playbackRate:void 0)?Math.abs(e.playbackRate):1},e.prototype.sample=function(e,t){var i,n;return e=Math.max(e,50),n=e/1e3,i=8e3*t/e,this._fast.sample(n,i),this._slow.sample(n,i),this._sampleCount+=1},e.prototype.getEstimate=function(){return this._sampleCount<1||this._fast.getTotalWeight()<this.minTotalWeight?this.defaultEstimate:this.hls.media?this.timeBeforeEndOfBuffer()<=6?Math.min(this._fast.getEstimate(),this._slow.getEstimate()):Math.max(this._fast.getEstimate(),this._slow.getEstimate()):Math.min(this._fast.getEstimate(),this._slow.getEstimate())},e.prototype.timeBeforeEndOfBuffer=function(){return n.timeBeforeEndOfBuffer(this.hls.media,this.hls.config.maxBufferHole)},e.prototype.lastBufferedTime=function(){return n.lastBufferedTime(this.hls.media,this.hls.config.maxBufferHole)},Object.defineProperties(e.prototype,{nextAutoLevel:{get:function(){return this.getNextAutoLevel()},set:function(e){return this._nextAutoLevel=e}},autoLevelCapping:{get:function(){return this._autoLevelCapping},set:function(e){return this._autoLevelCapping=e}}}),e}(),e.exports={default:r}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i(230),i(440),i(478),i(458)}]),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";var t=window.Slick||{};t=function(){function t(t,n){var r,o=this;o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:e(t),appendDots:e(t),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(t,i){return e('<button type="button" data-role="none" role="button" tabindex="0" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},e.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.focussed=!1,o.interrupted=!1,o.hidden="hidden",o.paused=!0,o.positionProp=null,o.respondTo=null,o.rowCount=1,o.shouldClick=!0,o.$slider=e(t),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.visibilityChange="visibilitychange",o.windowWidth=0,o.windowTimer=null,r=e(t).data("slick")||{},o.options=e.extend({},o.defaults,n,r),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,void 0!==document.mozHidden?(o.hidden="mozHidden",o.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(o.hidden="webkitHidden",o.visibilityChange="webkitvisibilitychange"),o.autoPlay=e.proxy(o.autoPlay,o),o.autoPlayClear=e.proxy(o.autoPlayClear,o),o.autoPlayIterator=e.proxy(o.autoPlayIterator,o),o.changeSlide=e.proxy(o.changeSlide,o),o.clickHandler=e.proxy(o.clickHandler,o),o.selectHandler=e.proxy(o.selectHandler,o),o.setPosition=e.proxy(o.setPosition,o),o.swipeHandler=e.proxy(o.swipeHandler,o),o.dragHandler=e.proxy(o.dragHandler,o),o.keyHandler=e.proxy(o.keyHandler,o),o.instanceUid=i++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.registerBreakpoints(),o.init(!0)}var i=0;return t}(),t.prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},t.prototype.addSlide=t.prototype.slickAdd=function(t,i,n){var r=this;if("boolean"==typeof i)n=i,i=null;else if(0>i||i>=r.slideCount)return!1;r.unload(),"number"==typeof i?0===i&&0===r.$slides.length?e(t).appendTo(r.$slideTrack):n?e(t).insertBefore(r.$slides.eq(i)):e(t).insertAfter(r.$slides.eq(i)):n===!0?e(t).prependTo(r.$slideTrack):e(t).appendTo(r.$slideTrack),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slides.each(function(t,i){e(i).attr("data-slick-index",t)}),r.$slidesCache=r.$slides,r.reinit()},t.prototype.animateHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.animate({height:t},e.options.speed)}},t.prototype.animateSlide=function(t,i){var n={},r=this;r.animateHeight(),r.options.rtl===!0&&r.options.vertical===!1&&(t=-t),r.transformsEnabled===!1?r.options.vertical===!1?r.$slideTrack.animate({left:t},r.options.speed,r.options.easing,i):r.$slideTrack.animate({top:t},r.options.speed,r.options.easing,i):r.cssTransitions===!1?(r.options.rtl===!0&&(r.currentLeft=-r.currentLeft),e({animStart:r.currentLeft}).animate({animStart:t},{duration:r.options.speed,easing:r.options.easing,step:function(e){e=Math.ceil(e),r.options.vertical===!1?(n[r.animType]="translate("+e+"px, 0px)",r.$slideTrack.css(n)):(n[r.animType]="translate(0px,"+e+"px)",r.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(r.applyTransition(),t=Math.ceil(t),r.options.vertical===!1?n[r.animType]="translate3d("+t+"px, 0px, 0px)":n[r.animType]="translate3d(0px,"+t+"px, 0px)",r.$slideTrack.css(n),i&&setTimeout(function(){r.disableTransition(),i.call()},r.options.speed))},t.prototype.getNavTarget=function(){var t=this,i=t.options.asNavFor;return i&&null!==i&&(i=e(i).not(t.$slider)),i},t.prototype.asNavFor=function(t){var i=this,n=i.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var i=e(this).slick("getSlick");i.unslicked||i.slideHandler(t,!0)})},t.prototype.applyTransition=function(e){var t=this,i={};t.options.fade===!1?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},t.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},t.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(e.options.infinite===!1&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},t.prototype.buildArrows=function(){var t=this;t.options.arrows===!0&&(t.$prevArrow=e(t.options.prevArrow).addClass("slick-arrow"),t.$nextArrow=e(t.options.nextArrow).addClass("slick-arrow"),t.slideCount>t.options.slidesToShow?(t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.prependTo(t.options.appendArrows),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.appendTo(t.options.appendArrows),t.options.infinite!==!0&&t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},t.prototype.buildDots=function(){var t,i,n=this;if(n.options.dots===!0&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=e("<ul />").addClass(n.options.dotsClass),t=0;t<=n.getDotCount();t+=1)i.append(e("<li />").append(n.options.customPaging.call(this,n,t)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active").attr("aria-hidden","false")}},t.prototype.buildOut=function(){var t=this;t.$slides=t.$slider.children(t.options.slide+":not(.slick-cloned)").addClass("slick-slide"),t.slideCount=t.$slides.length,t.$slides.each(function(t,i){e(i).attr("data-slick-index",t).data("originalStyling",e(i).attr("style")||"")}),t.$slider.addClass("slick-slider"),t.$slideTrack=0===t.slideCount?e('<div class="slick-track"/>').appendTo(t.$slider):t.$slides.wrapAll('<div class="slick-track"/>').parent(),t.$list=t.$slideTrack.wrap('<div aria-live="polite" class="slick-list"/>').parent(),t.$slideTrack.css("opacity",0),(t.options.centerMode===!0||t.options.swipeToSlide===!0)&&(t.options.slidesToScroll=1),e("img[data-lazy]",t.$slider).not("[src]").addClass("slick-loading"),t.setupInfinite(),t.buildArrows(),t.buildDots(),t.updateDots(),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.options.draggable===!0&&t.$list.addClass("draggable")},t.prototype.buildRows=function(){var e,t,i,n,r,o,s,a=this;if(n=document.createDocumentFragment(),o=a.$slider.children(),a.options.rows>1){for(s=a.options.slidesPerRow*a.options.rows,r=Math.ceil(o.length/s),e=0;r>e;e++){var l=document.createElement("div");for(t=0;t<a.options.rows;t++){var u=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var c=e*s+(t*a.options.slidesPerRow+i);o.get(c)&&u.appendChild(o.get(c))}l.appendChild(u)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},t.prototype.checkResponsive=function(t,i){var n,r,o,s=this,a=!1,l=s.$slider.width(),u=window.innerWidth||e(window).width();if("window"===s.respondTo?o=u:"slider"===s.respondTo?o=l:"min"===s.respondTo&&(o=Math.min(u,l)),s.options.responsive&&s.options.responsive.length&&null!==s.options.responsive){r=null;for(n in s.breakpoints)s.breakpoints.hasOwnProperty(n)&&(s.originalSettings.mobileFirst===!1?o<s.breakpoints[n]&&(r=s.breakpoints[n]):o>s.breakpoints[n]&&(r=s.breakpoints[n]));null!==r?null!==s.activeBreakpoint?(r!==s.activeBreakpoint||i)&&(s.activeBreakpoint=r,"unslick"===s.breakpointSettings[r]?s.unslick(r):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[r]),t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=r):(s.activeBreakpoint=r,"unslick"===s.breakpointSettings[r]?s.unslick(r):(s.options=e.extend({},s.originalSettings,s.breakpointSettings[r]),t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(t)),a=r):null!==s.activeBreakpoint&&(s.activeBreakpoint=null,s.options=s.originalSettings,t===!0&&(s.currentSlide=s.options.initialSlide),s.refresh(t),a=r),t||a===!1||s.$slider.trigger("breakpoint",[s,a])}},t.prototype.changeSlide=function(t,i){var n,r,o,s=this,a=e(t.currentTarget);switch(a.is("a")&&t.preventDefault(),a.is("li")||(a=a.closest("li")),o=s.slideCount%s.options.slidesToScroll!=0,n=o?0:(s.slideCount-s.currentSlide)%s.options.slidesToScroll,t.data.message){case"previous":r=0===n?s.options.slidesToScroll:s.options.slidesToShow-n,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide-r,!1,i);break;case"next":r=0===n?s.options.slidesToScroll:n,s.slideCount>s.options.slidesToShow&&s.slideHandler(s.currentSlide+r,!1,i);break;case"index":var l=0===t.data.index?0:t.data.index||a.index()*s.options.slidesToScroll;s.slideHandler(s.checkNavigable(l),!1,i),a.children().trigger("focus");break;default:return}},t.prototype.checkNavigable=function(e){var t,i;if(t=this.getNavigableIndexes(),i=0,e>t[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},t.prototype.cleanUpEvents=function(){var t=this;t.options.dots&&null!==t.$dots&&e("li",t.$dots).off("click.slick",t.changeSlide).off("mouseenter.slick",e.proxy(t.interrupt,t,!0)).off("mouseleave.slick",e.proxy(t.interrupt,t,!1)),t.$slider.off("focus.slick blur.slick"),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow&&t.$prevArrow.off("click.slick",t.changeSlide),t.$nextArrow&&t.$nextArrow.off("click.slick",t.changeSlide)),t.$list.off("touchstart.slick mousedown.slick",t.swipeHandler),t.$list.off("touchmove.slick mousemove.slick",t.swipeHandler),t.$list.off("touchend.slick mouseup.slick",t.swipeHandler),t.$list.off("touchcancel.slick mouseleave.slick",t.swipeHandler),t.$list.off("click.slick",t.clickHandler),e(document).off(t.visibilityChange,t.visibility),t.cleanUpSlideEvents(),t.options.accessibility===!0&&t.$list.off("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().off("click.slick",t.selectHandler),e(window).off("orientationchange.slick.slick-"+t.instanceUid,t.orientationChange),e(window).off("resize.slick.slick-"+t.instanceUid,t.resize),e("[draggable!=true]",t.$slideTrack).off("dragstart",t.preventDefault),e(window).off("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).off("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.cleanUpSlideEvents=function(){var t=this;t.$list.off("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.off("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.cleanUpRows=function(){var e,t=this;t.options.rows>1&&(e=t.$slides.children().children(),e.removeAttr("style"),t.$slider.empty().append(e))},t.prototype.clickHandler=function(e){this.shouldClick===!1&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},t.prototype.destroy=function(t){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),e(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){e(this).attr("style",e(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,t||i.$slider.trigger("destroy",[i])},t.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",t.options.fade===!1?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},t.prototype.fadeSlide=function(e,t){var i=this;i.cssTransitions===!1?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},t.prototype.fadeSlideOut=function(e){var t=this;t.cssTransitions===!1?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},t.prototype.filterSlides=t.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},t.prototype.focusHandler=function(){var t=this;t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*:not(.slick-arrow)",function(i){i.stopImmediatePropagation();var n=e(this);setTimeout(function(){t.options.pauseOnFocus&&(t.focussed=n.is(":focus"),t.autoPlay())},0)})},t.prototype.getCurrent=t.prototype.slickCurrentSlide=function(){return this.currentSlide},t.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(e.options.infinite===!0)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(e.options.centerMode===!0)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},t.prototype.getLeft=function(e){var t,i,n,r=this,o=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(!0),r.options.infinite===!0?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=i*r.options.slidesToShow*-1),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,o=(r.options.slidesToShow-(e-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,o=r.slideCount%r.options.slidesToScroll*i*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,o=(e+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(r.slideOffset=0,o=0),r.options.centerMode===!0&&r.options.infinite===!0?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:r.options.centerMode===!0&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=r.options.vertical===!1?e*r.slideWidth*-1+r.slideOffset:e*i*-1+o,r.options.variableWidth===!0&&(n=r.slideCount<=r.options.slidesToShow||r.options.infinite===!1?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=r.options.rtl===!0?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,r.options.centerMode===!0&&(n=r.slideCount<=r.options.slidesToShow||r.options.infinite===!1?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=r.options.rtl===!0?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),t},t.prototype.getOption=t.prototype.slickGetOption=function(e){return this.options[e]},t.prototype.getNavigableIndexes=function(){var e,t=this,i=0,n=0,r=[];for(t.options.infinite===!1?e=t.slideCount:(i=-1*t.options.slidesToScroll,n=-1*t.options.slidesToScroll,e=2*t.slideCount);e>i;)r.push(i),i=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return r},t.prototype.getSlick=function(){return this},t.prototype.getSlideCount=function(){var t,i,n,r=this;return n=r.options.centerMode===!0?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,r.options.swipeToSlide===!0?(r.$slideTrack.find(".slick-slide").each(function(t,o){return o.offsetLeft-n+e(o).outerWidth()/2>-1*r.swipeLeft?(i=o,!1):void 0}),t=Math.abs(e(i).attr("data-slick-index")-r.currentSlide)||1):r.options.slidesToScroll},t.prototype.goTo=t.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},t.prototype.init=function(t){var i=this;e(i.$slider).hasClass("slick-initialized")||(e(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),t&&i.$slider.trigger("init",[i]),i.options.accessibility===!0&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},t.prototype.initADA=function(){var t=this;t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),t.$slideTrack.attr("role","listbox"),t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function(i){e(this).attr({role:"option","aria-describedby":"slick-slide"+t.instanceUid+i})}),null!==t.$dots&&t.$dots.attr("role","tablist").find("li").each(function(i){e(this).attr({role:"presentation","aria-selected":"false","aria-controls":"navigation"+t.instanceUid+i,id:"slick-slide"+t.instanceUid+i})}).first().attr("aria-selected","true").end().find("button").attr("role","button").end().closest("div").attr("role","toolbar"),
t.activateADA()},t.prototype.initArrowEvents=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide))},t.prototype.initDotEvents=function(){var t=this;t.options.dots===!0&&t.slideCount>t.options.slidesToShow&&e("li",t.$dots).on("click.slick",{message:"index"},t.changeSlide),t.options.dots===!0&&t.options.pauseOnDotsHover===!0&&e("li",t.$dots).on("mouseenter.slick",e.proxy(t.interrupt,t,!0)).on("mouseleave.slick",e.proxy(t.interrupt,t,!1))},t.prototype.initSlideEvents=function(){var t=this;t.options.pauseOnHover&&(t.$list.on("mouseenter.slick",e.proxy(t.interrupt,t,!0)),t.$list.on("mouseleave.slick",e.proxy(t.interrupt,t,!1)))},t.prototype.initializeEvents=function(){var t=this;t.initArrowEvents(),t.initDotEvents(),t.initSlideEvents(),t.$list.on("touchstart.slick mousedown.slick",{action:"start"},t.swipeHandler),t.$list.on("touchmove.slick mousemove.slick",{action:"move"},t.swipeHandler),t.$list.on("touchend.slick mouseup.slick",{action:"end"},t.swipeHandler),t.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},t.swipeHandler),t.$list.on("click.slick",t.clickHandler),e(document).on(t.visibilityChange,e.proxy(t.visibility,t)),t.options.accessibility===!0&&t.$list.on("keydown.slick",t.keyHandler),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),e(window).on("orientationchange.slick.slick-"+t.instanceUid,e.proxy(t.orientationChange,t)),e(window).on("resize.slick.slick-"+t.instanceUid,e.proxy(t.resize,t)),e("[draggable!=true]",t.$slideTrack).on("dragstart",t.preventDefault),e(window).on("load.slick.slick-"+t.instanceUid,t.setPosition),e(document).on("ready.slick.slick-"+t.instanceUid,t.setPosition)},t.prototype.initUI=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},t.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&t.options.accessibility===!0?t.changeSlide({data:{message:t.options.rtl===!0?"next":"previous"}}):39===e.keyCode&&t.options.accessibility===!0&&t.changeSlide({data:{message:t.options.rtl===!0?"previous":"next"}}))},t.prototype.lazyLoad=function(){function t(t){e("img[data-lazy]",t).each(function(){var t=e(this),i=e(this).attr("data-lazy"),n=document.createElement("img");n.onload=function(){t.animate({opacity:0},100,function(){t.attr("src",i).animate({opacity:1},200,function(){t.removeAttr("data-lazy").removeClass("slick-loading")}),s.$slider.trigger("lazyLoaded",[s,t,i])})},n.onerror=function(){t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,t,i])},n.src=i})}var i,n,r,o,s=this;s.options.centerMode===!0?s.options.infinite===!0?(r=s.currentSlide+(s.options.slidesToShow/2+1),o=r+s.options.slidesToShow+2):(r=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),o=s.options.slidesToShow/2+1+2+s.currentSlide):(r=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,o=Math.ceil(r+s.options.slidesToShow),s.options.fade===!0&&(r>0&&r--,o<=s.slideCount&&o++)),i=s.$slider.find(".slick-slide").slice(r,o),t(i),s.slideCount<=s.options.slidesToShow?(n=s.$slider.find(".slick-slide"),t(n)):s.currentSlide>=s.slideCount-s.options.slidesToShow?(n=s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow),t(n)):0===s.currentSlide&&(n=s.$slider.find(".slick-cloned").slice(-1*s.options.slidesToShow),t(n))},t.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},t.prototype.next=t.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},t.prototype.orientationChange=function(){var e=this;e.checkResponsive(),e.setPosition()},t.prototype.pause=t.prototype.slickPause=function(){var e=this;e.autoPlayClear(),e.paused=!0},t.prototype.play=t.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},t.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),t.options.accessibility===!0&&t.initADA())},t.prototype.prev=t.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.progressiveLazyLoad=function(t){t=t||1;var i,n,r,o=this,s=e("img[data-lazy]",o.$slider);s.length?(i=s.first(),n=i.attr("data-lazy"),r=document.createElement("img"),r.onload=function(){i.attr("src",n).removeAttr("data-lazy").removeClass("slick-loading"),o.options.adaptiveHeight===!0&&o.setPosition(),o.$slider.trigger("lazyLoaded",[o,i,n]),o.progressiveLazyLoad()},r.onerror=function(){3>t?setTimeout(function(){o.progressiveLazyLoad(t+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,i,n]),o.progressiveLazyLoad())},r.src=n):o.$slider.trigger("allImagesLoaded",[o])},t.prototype.refresh=function(t){var i,n,r=this;n=r.slideCount-r.options.slidesToShow,!r.options.infinite&&r.currentSlide>n&&(r.currentSlide=n),r.slideCount<=r.options.slidesToShow&&(r.currentSlide=0),i=r.currentSlide,r.destroy(!0),e.extend(r,r.initials,{currentSlide:i}),r.init(),t||r.changeSlide({data:{message:"index",index:i}},!1)},t.prototype.registerBreakpoints=function(){var t,i,n,r=this,o=r.options.responsive||null;if("array"===e.type(o)&&o.length){r.respondTo=r.options.respondTo||"window";for(t in o)if(n=r.breakpoints.length-1,i=o[t].breakpoint,o.hasOwnProperty(t)){for(;n>=0;)r.breakpoints[n]&&r.breakpoints[n]===i&&r.breakpoints.splice(n,1),n--;r.breakpoints.push(i),r.breakpointSettings[i]=o[t].settings}r.breakpoints.sort(function(e,t){return r.options.mobileFirst?e-t:t-e})}},t.prototype.reinit=function(){var t=this;t.$slides=t.$slideTrack.children(t.options.slide).addClass("slick-slide"),t.slideCount=t.$slides.length,t.currentSlide>=t.slideCount&&0!==t.currentSlide&&(t.currentSlide=t.currentSlide-t.options.slidesToScroll),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),t.registerBreakpoints(),t.setProps(),t.setupInfinite(),t.buildArrows(),t.updateArrows(),t.initArrowEvents(),t.buildDots(),t.updateDots(),t.initDotEvents(),t.cleanUpSlideEvents(),t.initSlideEvents(),t.checkResponsive(!1,!0),t.options.focusOnSelect===!0&&e(t.$slideTrack).children().on("click.slick",t.selectHandler),t.setSlideClasses("number"==typeof t.currentSlide?t.currentSlide:0),t.setPosition(),t.focusHandler(),t.paused=!t.options.autoplay,t.autoPlay(),t.$slider.trigger("reInit",[t])},t.prototype.resize=function(){var t=this;e(window).width()!==t.windowWidth&&(clearTimeout(t.windowDelay),t.windowDelay=window.setTimeout(function(){t.windowWidth=e(window).width(),t.checkResponsive(),t.unslicked||t.setPosition()},50))},t.prototype.removeSlide=t.prototype.slickRemove=function(e,t,i){var n=this;return"boolean"==typeof e?(t=e,e=t===!0?0:n.slideCount-1):e=t===!0?--e:e,!(n.slideCount<1||0>e||e>n.slideCount-1)&&(n.unload(),i===!0?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,void n.reinit())},t.prototype.setCSS=function(e){var t,i,n=this,r={};n.options.rtl===!0&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",r[n.positionProp]=e,n.transformsEnabled===!1?n.$slideTrack.css(r):(r={},n.cssTransitions===!1?(r[n.animType]="translate("+t+", "+i+")",n.$slideTrack.css(r)):(r[n.animType]="translate3d("+t+", "+i+", 0px)",n.$slideTrack.css(r)))},t.prototype.setDimensions=function(){var e=this;e.options.vertical===!1?e.options.centerMode===!0&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),e.options.centerMode===!0&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),e.options.vertical===!1&&e.options.variableWidth===!1?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):e.options.variableWidth===!0?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.options.variableWidth===!1&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},t.prototype.setFade=function(){var t,i=this;i.$slides.each(function(n,r){t=i.slideWidth*n*-1,i.options.rtl===!0?e(r).css({position:"relative",right:t,top:0,zIndex:i.options.zIndex-2,opacity:0}):e(r).css({position:"relative",left:t,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},t.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&e.options.adaptiveHeight===!0&&e.options.vertical===!1){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},t.prototype.setOption=t.prototype.slickSetOption=function(){var t,i,n,r,o,s=this,a=!1;if("object"===e.type(arguments[0])?(n=arguments[0],a=arguments[1],o="multiple"):"string"===e.type(arguments[0])&&(n=arguments[0],r=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===e.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)s.options[n]=r;else if("multiple"===o)e.each(n,function(e,t){s.options[e]=t});else if("responsive"===o)for(i in r)if("array"!==e.type(s.options.responsive))s.options.responsive=[r[i]];else{for(t=s.options.responsive.length-1;t>=0;)s.options.responsive[t].breakpoint===r[i].breakpoint&&s.options.responsive.splice(t,1),t--;s.options.responsive.push(r[i])}a&&(s.unload(),s.reinit())},t.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),e.options.fade===!1?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},t.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=e.options.vertical===!0?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&e.options.useCSS===!0&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&e.animType!==!1&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&e.animType!==!1},t.prototype.setSlideClasses=function(e){var t,i,n,r,o=this;i=o.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),o.$slides.eq(e).addClass("slick-current"),o.options.centerMode===!0?(t=Math.floor(o.options.slidesToShow/2),o.options.infinite===!0&&(e>=t&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(n=o.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):e>=0&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=o.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(r=o.slideCount%o.options.slidesToShow,n=o.options.infinite===!0?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-r),n+r).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},t.prototype.setupInfinite=function(){var t,i,n,r=this;if(r.options.fade===!0&&(r.options.centerMode=!1),r.options.infinite===!0&&r.options.fade===!1&&(i=null,r.slideCount>r.options.slidesToShow)){for(n=r.options.centerMode===!0?r.options.slidesToShow+1:r.options.slidesToShow,t=r.slideCount;t>r.slideCount-n;t-=1)i=t-1,e(r.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-r.slideCount).prependTo(r.$slideTrack).addClass("slick-cloned");for(t=0;n>t;t+=1)i=t,e(r.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+r.slideCount).appendTo(r.$slideTrack).addClass("slick-cloned");r.$slideTrack.find(".slick-cloned").find("[id]").each(function(){e(this).attr("id","")})}},t.prototype.interrupt=function(e){var t=this;e||t.autoPlay(),t.interrupted=e},t.prototype.selectHandler=function(t){var i=this,n=e(t.target).is(".slick-slide")?e(t.target):e(t.target).parents(".slick-slide"),r=parseInt(n.attr("data-slick-index"));return r||(r=0),i.slideCount<=i.options.slidesToShow?(i.setSlideClasses(r),void i.asNavFor(r)):void i.slideHandler(r)},t.prototype.slideHandler=function(e,t,i){var n,r,o,s,a,l=null,u=this;return t=t||!1,u.animating===!0&&u.options.waitForAnimate===!0||u.options.fade===!0&&u.currentSlide===e||u.slideCount<=u.options.slidesToShow?void 0:(t===!1&&u.asNavFor(e),n=e,l=u.getLeft(n),s=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?s:u.swipeLeft,u.options.infinite===!1&&u.options.centerMode===!1&&(0>e||e>u.getDotCount()*u.options.slidesToScroll)?void(u.options.fade===!1&&(n=u.currentSlide,i!==!0?u.animateSlide(s,function(){u.postSlide(n)}):u.postSlide(n))):u.options.infinite===!1&&u.options.centerMode===!0&&(0>e||e>u.slideCount-u.options.slidesToScroll)?void(u.options.fade===!1&&(n=u.currentSlide,i!==!0?u.animateSlide(s,function(){u.postSlide(n)}):u.postSlide(n))):(u.options.autoplay&&clearInterval(u.autoPlayTimer),r=0>n?u.slideCount%u.options.slidesToScroll!=0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+n:n>=u.slideCount?u.slideCount%u.options.slidesToScroll!=0?0:n-u.slideCount:n,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,r]),o=u.currentSlide,u.currentSlide=r,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(a=u.getNavTarget(),a=a.slick("getSlick"),a.slideCount<=a.options.slidesToShow&&a.setSlideClasses(u.currentSlide)),u.updateDots(),u.updateArrows(),u.options.fade===!0?(i!==!0?(u.fadeSlideOut(o),u.fadeSlide(r,function(){u.postSlide(r)})):u.postSlide(r),void u.animateHeight()):void(i!==!0?u.animateSlide(l,function(){u.postSlide(r)}):u.postSlide(r))))},t.prototype.startLoad=function(){var e=this;e.options.arrows===!0&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),e.options.dots===!0&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},t.prototype.swipeDirection=function(){var e,t,i,n,r=this;return e=r.touchObject.startX-r.touchObject.curX,t=r.touchObject.startY-r.touchObject.curY,i=Math.atan2(t,e),n=Math.round(180*i/Math.PI),0>n&&(n=360-Math.abs(n)),45>=n&&n>=0?r.options.rtl===!1?"left":"right":360>=n&&n>=315?r.options.rtl===!1?"left":"right":n>=135&&225>=n?r.options.rtl===!1?"right":"left":r.options.verticalSwiping===!0?n>=35&&135>=n?"down":"up":"vertical"},t.prototype.swipeEnd=function(e){var t,i,n=this;if(n.dragging=!1,n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(n.touchObject.edgeHit===!0&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},t.prototype.swipeHandler=function(e){var t=this;if(!(t.options.swipe===!1||"ontouchend"in document&&t.options.swipe===!1||t.options.draggable===!1&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,t.options.verticalSwiping===!0&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},t.prototype.swipeMove=function(e){var t,i,n,r,o,s=this;return o=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!s.dragging||o&&1!==o.length)&&(t=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==o?o[0].pageX:e.clientX,s.touchObject.curY=void 0!==o?o[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),s.options.verticalSwiping===!0&&(s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2)))),i=s.swipeDirection(),"vertical"!==i?(void 0!==e.originalEvent&&s.touchObject.swipeLength>4&&e.preventDefault(),r=(s.options.rtl===!1?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),s.options.verticalSwiping===!0&&(r=s.touchObject.curY>s.touchObject.startY?1:-1),n=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,s.options.infinite===!1&&(0===s.currentSlide&&"right"===i||s.currentSlide>=s.getDotCount()&&"left"===i)&&(n=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),s.options.vertical===!1?s.swipeLeft=t+n*r:s.swipeLeft=t+n*(s.$list.height()/s.listWidth)*r,s.options.verticalSwiping===!0&&(s.swipeLeft=t+n*r),s.options.fade!==!0&&s.options.touchMove!==!1&&(s.animating===!0?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))):void 0)},t.prototype.swipeStart=function(e){var t,i=this;return i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?(i.touchObject={},!1):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},t.prototype.unfilterSlides=t.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},t.prototype.unload=function(){var t=this;e(".slick-cloned",t.$slider).remove(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove(),t.$nextArrow&&t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove(),t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},t.prototype.unslick=function(e){var t=this;t.$slider.trigger("unslick",[t,e]),t.destroy()},t.prototype.updateArrows=function(){var e,t=this;e=Math.floor(t.options.slidesToShow/2),t.options.arrows===!0&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&t.options.centerMode===!1?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&t.options.centerMode===!0&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},t.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").attr("aria-hidden","true"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active").attr("aria-hidden","false"))},t.prototype.visibility=function(){var e=this;e.options.autoplay&&(document[e.hidden]?e.interrupted=!0:e.interrupted=!1)},e.fn.slick=function(){var e,i,n=this,r=arguments[0],o=Array.prototype.slice.call(arguments,1),s=n.length;for(e=0;s>e;e++)if("object"==typeof r||void 0===r?n[e].slick=new t(n[e],r):i=n[e].slick[r].apply(n[e].slick,o),void 0!==i)return i;return n}}),!function(){"use strict";function e(n){if(!n)throw new Error("No options passed to Waypoint constructor");if(!n.element)throw new Error("No element option passed to Waypoint constructor");if(!n.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+t,this.options=e.Adapter.extend({},e.defaults,n),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=n.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,t+=1}var t=0,i={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var t=[];for(var n in i)t.push(i[n]);for(var r=0,o=t.length;o>r;r++)t[r][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.Context.refreshAll();for(var t in i)i[t].enabled=!0;return this},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function t(e){this.element=e,this.Adapter=r.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,n[e.waypointContextKey]=this,i+=1,r.windowContext||(r.windowContext=!0,r.windowContext=new t(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,n={},r=window.Waypoint,o=window.onload;t.prototype.add=function(e){var t=e.options.horizontal?"horizontal":"vertical";this.waypoints[t][e.key]=e,this.refresh()},t.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),t=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;e&&t&&!i&&(this.adapter.off(".waypoints"),delete n[this.key])},t.prototype.createThrottledResizeHandler=function(){function e(){t.handleResize(),t.didResize=!1}var t=this;this.adapter.on("resize.waypoints",function(){t.didResize||(t.didResize=!0,r.requestAnimationFrame(e))})},t.prototype.createThrottledScrollHandler=function(){function e(){t.handleScroll(),t.didScroll=!1}var t=this;this.adapter.on("scroll.waypoints",function(){(!t.didScroll||r.isTouch)&&(t.didScroll=!0,r.requestAnimationFrame(e))})},t.prototype.handleResize=function(){r.Context.refreshAll()},t.prototype.handleScroll=function(){var e={},t={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in t){var n=t[i],r=n.newScroll>n.oldScroll,o=r?n.forward:n.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];if(null!==a.triggerPoint){var l=n.oldScroll<a.triggerPoint,u=n.newScroll>=a.triggerPoint,c=l&&u,d=!l&&!u;(c||d)&&(a.queueTrigger(o),e[a.group.id]=a.group)}}}for(var h in e)e[h].flushTriggers();this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.innerHeight=function(){return this.element==this.element.window?r.viewportHeight():this.adapter.innerHeight()},t.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},t.prototype.innerWidth=function(){return this.element==this.element.window?r.viewportWidth():this.adapter.innerWidth()},t.prototype.destroy=function(){var e=[];for(var t in this.waypoints)for(var i in this.waypoints[t])e.push(this.waypoints[t][i]);for(var n=0,r=e.length;r>n;n++)e[n].destroy()},t.prototype.refresh=function(){var e,t=this.element==this.element.window,i=t?void 0:this.adapter.offset(),n={};this.handleScroll(),e={horizontal:{contextOffset:t?0:i.left,contextScroll:t?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:t?0:i.top,contextScroll:t?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var o in e){var s=e[o];for(var a in this.waypoints[o]){var l,u,c,d,h,p=this.waypoints[o][a],f=p.options.offset,m=p.triggerPoint,g=0,y=null==m;p.element!==p.element.window&&(g=p.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(p):"string"==typeof f&&(f=parseFloat(f),p.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,p.triggerPoint=Math.floor(g+l-f),u=m<s.oldScroll,c=p.triggerPoint>=s.oldScroll,d=u&&c,h=!u&&!c,!y&&d?(p.queueTrigger(s.backward),n[p.group.id]=p.group):!y&&h?(p.queueTrigger(s.forward),n[p.group.id]=p.group):y&&s.oldScroll>=p.triggerPoint&&(p.queueTrigger(s.forward),n[p.group.id]=p.group)}}return r.requestAnimationFrame(function(){for(var e in n)n[e].flushTriggers()}),this},t.findOrCreateByElement=function(e){return t.findByElement(e)||new t(e)},t.refreshAll=function(){for(var e in n)n[e].refresh()},t.findByElement=function(e){return n[e.waypointContextKey]},window.onload=function(){o&&o(),t.refreshAll()},r.requestAnimationFrame=function(t){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,t)},r.Context=t}(),function(){"use strict";function e(e,t){return e.triggerPoint-t.triggerPoint}function t(e,t){return t.triggerPoint-e.triggerPoint}function i(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),n[this.axis][this.name]=this}var n={vertical:{},horizontal:{}},r=window.Waypoint;i.prototype.add=function(e){this.waypoints.push(e)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var n=this.triggerQueues[i],r="up"===i||"left"===i;n.sort(r?t:e);for(var o=0,s=n.length;s>o;o+=1){var a=n[o];(a.options.continuous||o===n.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(t){this.waypoints.sort(e);var i=r.Adapter.inArray(t,this.waypoints);return i===this.waypoints.length-1?null:this.waypoints[i+1]},i.prototype.previous=function(t){this.waypoints.sort(e);var i=r.Adapter.inArray(t,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(e,t){this.triggerQueues[t].push(e)},i.prototype.remove=function(e){var t=r.Adapter.inArray(e,this.waypoints);t>-1&&this.waypoints.splice(t,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(e){return n[e.axis][e.name]||new i(e)},r.Group=i}(),function(){"use strict";function e(e){this.$element=t(e)}var t=window.jQuery,i=window.Waypoint;t.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(t,i){e.prototype[i]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,e)}}),t.each(["extend","inArray","isEmptyObject"],function(i,n){e[n]=t[n]}),i.adapters.push({name:"jquery",Adapter:e}),i.Adapter=e}(),function(){"use strict";function e(e){return function(){var i=[],n=arguments[0];return e.isFunction(arguments[0])&&(n=e.extend({},arguments[1]),n.handler=arguments[0]),this.each(function(){var r=e.extend({},n,{element:this});"string"==typeof r.context&&(r.context=e(this).closest(r.context)[0]),i.push(new t(r))}),i}}var t=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),jQuery(document).ready(function(){function e(){jQuery(window).width()<1200&&(jQuery("nav li.menu-item-has-children").click(function(){jQuery(this).find("ul.sub-menu").toggleClass("active-menu")}),jQuery(".mobile_menu").click(function(){jQuery(this).toggleClass("active-menu"),jQuery("nav").slideToggle(200)}))}jQuery(".video_wrapper").queue(function(){jQuery(this).addClass("video_fade").clearQueue()}),jQuery(".main_header_wrapper .sub_header").queue(function(){jQuery(this).addClass("title_fadein").clearQueue()}),jQuery(".main_header_wrapper .large_header").queue(function(){jQuery(this).addClass("letter_fade").clearQueue()}),jQuery(".white_line").queue(function(){jQuery(this).addClass("white_line_fadein").clearQueue()}),jQuery(".tagline_single_word").queue(function(){jQuery(this).addClass("tagline_fadein").clearQueue()}),jQuery(".green_dot").queue(function(){jQuery(this).addClass("green_dot_fade").clearQueue()}),jQuery("a.request").queue(function(){jQuery(this).addClass("request_fadein").clearQueue()}),e(),jQuery(".video_wrapper").mouseenter(function(){jQuery("img.play_hover").fadeIn(200)}),jQuery(".video_wrapper").mouseleave(function(){jQuery("img.play_hover").fadeOut(200)}),jQuery(".reasons_slider").slick({slidesToShow:1,slidesToScroll:1,mobileFirst:!0,arrows:!1,dots:!0,
responsive:[{breakpoint:1200,settings:"unslick"}]}),jQuery(".main_cases_wrapper").slick({slidesToShow:1,slide:".single_case",slidesToScroll:1,mobileFirst:!0,arrows:!0,prevArrow:".case_results_left",nextArrow:".case_results_right",responsive:[{breakpoint:1200,settings:"unslick"}]}),jQuery(".case_button").click(function(){jQuery(this).css("background","#3fb561")}),jQuery(".case_button").click(function(){jQuery(".case_button").not(this).css("background","#2a3238")}),jQuery(".logo_slider").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3500,arrows:!0,prevArrow:".logo_button_left",nextArrow:".logo_button_right"}),jQuery(".testi_slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,prevArrow:".testi_back",nextArrow:".testi_next",fade:!0,responsive:[{breakpoint:1200,settings:"unslick"}]}),jQuery(function(){jQuery('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=jQuery(this.hash);if(e=e.length?e:jQuery("[name="+this.hash.slice(1)+"]"),e.length)return jQuery("html, body").animate({scrollTop:e.offset().top},600),!1}})}),jQuery(".top_sidebar").click(function(){jQuery(this).next(".lower_sidebar").slideToggle(200)}),jQuery(".single_video_wrapper").mouseenter(function(){jQuery(this).find(".video_page_play").fadeOut(),jQuery(this).find(".video_page_play_hover").fadeIn(200)}),jQuery(".single_video_wrapper").mouseleave(function(){jQuery(this).find(".video_page_play").fadeIn(200),jQuery(this).find(".video_page_play_hover").fadeOut()}),jQuery(".pa_video_wrapper").mouseenter(function(){jQuery(this).find(".pa_play_reg").fadeOut(),jQuery(this).find(".pa_play_hover").fadeIn(200)}),jQuery(".pa_video_wrapper").mouseleave(function(){jQuery(this).find(".pa_play_reg").fadeIn(200),jQuery(this).find(".pa_play_hover").fadeOut()})});